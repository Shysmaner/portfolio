var Io=Object.defineProperty;var ha=A=>{throw TypeError(A)};var Do=(A,$,H)=>$ in A?Io(A,$,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[$]=H;var Tn=(A,$,H)=>Do(A,typeof $!="symbol"?$+"":$,H),fi=(A,$,H)=>$.has(A)||ha("Cannot "+H);var V=(A,$,H)=>(fi(A,$,"read from private field"),H?H.call(A):$.get(A)),it=(A,$,H)=>$.has(A)?ha("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(A):$.set(A,H),at=(A,$,H,R)=>(fi(A,$,"write to private field"),R?R.call(A,H):$.set(A,H),H),Ue=(A,$,H)=>(fi(A,$,"access private method"),H);var Cr=(A,$,H,R)=>({set _(O){at(A,$,O,H)},get _(){return V(A,$,R)}});import{g as getAugmentedNamespace,r as reactExports,b as reactDomExports,j as jsxRuntimeExports,d as domain}from"./InternetConnectionLostComponent-COwjtINA.js";var lib$h={exports:{}},core_min={};function commonjsRequire(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,H){module.exports=$.pdfjsLib=H()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,$)=>{var _n;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=Se,$.bytesToString=ot,$.createValidAbsoluteUrl=He,$.getModificationDate=St,$.getUuid=zt,$.getVerbosityLevel=xe,$.info=Ne,$.isArrayBuffer=We,$.isArrayEqual=wt,$.isNodeJS=void 0,$.normalizeUnicode=Rt,$.objectFromMap=mt,$.objectSize=dt,$.setVerbosityLevel=De,$.shadow=_e,$.string32=ut,$.stringToBytes=st,$.stringToPDFString=nt,$.stringToUTF8String=pt,$.unreachable=qe,$.utf8StringToString=ht,$.warn=Fe;const H=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=H;const R=[1,0,0,1,0,0];$.IDENTITY_MATRIX=R;const O=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=O;const B=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=B;const Y=1.35;$.LINE_FACTOR=Y;const me=.35;$.LINE_DESCENT_FACTOR=me;const ue=me/Y;$.BASELINE_FACTOR=ue;const le={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=le;const U={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=U;const be="pdfjs_internal_editor_";$.AnnotationEditorPrefix=be;const ce={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=ce;const J={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=J;const re={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=re;const Q={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=Q;const q={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=q;const ee={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=ee;const ie={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=ie;const ve={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=ve;const de={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=de;const te={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=te;const se={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=se;const ne={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=ne;const ae={O:"PageOpen",C:"PageClose"};$.PageActionEventType=ae;const oe={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=oe;const Ee={NONE:0,BINARY:1};$.CMapCompressionType=Ee;const K={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=K;const ge={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=ge;let Ce=oe.WARNINGS;function De(gt){Number.isInteger(gt)&&(Ce=gt)}function xe(){return Ce}function Ne(gt){Ce>=oe.INFOS&&console.log(`Info: ${gt}`)}function Fe(gt){Ce>=oe.WARNINGS&&console.log(`Warning: ${gt}`)}function qe(gt){throw new Error(gt)}function Se(gt,Ye){gt||qe(Ye)}function $e(gt){switch(gt==null?void 0:gt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function He(gt,Ye=null,Je=null){if(!gt)return null;try{if(Je&&typeof gt=="string"){if(Je.addDefaultProtocol&&gt.startsWith("www.")){const It=gt.match(/\./g);(It==null?void 0:It.length)>=2&&(gt=`http://${gt}`)}if(Je.tryConvertEncoding)try{gt=pt(gt)}catch{}}const Tt=Ye?new URL(gt,Ye):new URL(gt);if($e(Tt))return Tt}catch{}return null}function _e(gt,Ye,Je,Tt=!1){return Object.defineProperty(gt,Ye,{value:Je,enumerable:!Tt,configurable:!0,writable:!1}),Je}const G=function(){function Ye(Je,Tt){this.constructor===Ye&&qe("Cannot initialize BaseException."),this.message=Je,this.name=Tt}return Ye.prototype=new Error,Ye.constructor=Ye,Ye}();$.BaseException=G;class X extends G{constructor(Ye,Je){super(Ye,"PasswordException"),this.code=Je}}$.PasswordException=X;class pe extends G{constructor(Ye,Je){super(Ye,"UnknownErrorException"),this.details=Je}}$.UnknownErrorException=pe;class Pe extends G{constructor(Ye){super(Ye,"InvalidPDFException")}}$.InvalidPDFException=Pe;class Ae extends G{constructor(Ye){super(Ye,"MissingPDFException")}}$.MissingPDFException=Ae;class ke extends G{constructor(Ye,Je){super(Ye,"UnexpectedResponseException"),this.status=Je}}$.UnexpectedResponseException=ke;class Oe extends G{constructor(Ye){super(Ye,"FormatError")}}$.FormatError=Oe;class Qe extends G{constructor(Ye){super(Ye,"AbortException")}}$.AbortException=Qe;function ot(gt){(typeof gt!="object"||(gt==null?void 0:gt.length)===void 0)&&qe("Invalid argument for bytesToString");const Ye=gt.length,Je=8192;if(Ye<Je)return String.fromCharCode.apply(null,gt);const Tt=[];for(let It=0;It<Ye;It+=Je){const Gt=Math.min(It+Je,Ye),Te=gt.subarray(It,Gt);Tt.push(String.fromCharCode.apply(null,Te))}return Tt.join("")}function st(gt){typeof gt!="string"&&qe("Invalid argument for stringToBytes");const Ye=gt.length,Je=new Uint8Array(Ye);for(let Tt=0;Tt<Ye;++Tt)Je[Tt]=gt.charCodeAt(Tt)&255;return Je}function ut(gt){return String.fromCharCode(gt>>24&255,gt>>16&255,gt>>8&255,gt&255)}function dt(gt){return Object.keys(gt).length}function mt(gt){const Ye=Object.create(null);for(const[Je,Tt]of gt)Ye[Je]=Tt;return Ye}function Ge(){const gt=new Uint8Array(4);return gt[0]=1,new Uint32Array(gt.buffer,0,1)[0]===1}function Xe(){try{return new Function(""),!0}catch{return!1}}class fe{static get isLittleEndian(){return _e(this,"isLittleEndian",Ge())}static get isEvalSupported(){return _e(this,"isEvalSupported",Xe())}static get isOffscreenCanvasSupported(){return _e(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?_e(this,"platform",{isWin:!1,isMac:!1}):_e(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Ye,Je;return _e(this,"isCSSRoundSupported",(Je=(Ye=globalThis.CSS)==null?void 0:Ye.supports)==null?void 0:Je.call(Ye,"width: round(1.5px, 1px)"))}}$.FeatureTest=fe;const ye=[...Array(256).keys()].map(gt=>gt.toString(16).padStart(2,"0"));class je{static makeHexColor(Ye,Je,Tt){return`#${ye[Ye]}${ye[Je]}${ye[Tt]}`}static scaleMinMax(Ye,Je){let Tt;Ye[0]?(Ye[0]<0&&(Tt=Je[0],Je[0]=Je[1],Je[1]=Tt),Je[0]*=Ye[0],Je[1]*=Ye[0],Ye[3]<0&&(Tt=Je[2],Je[2]=Je[3],Je[3]=Tt),Je[2]*=Ye[3],Je[3]*=Ye[3]):(Tt=Je[0],Je[0]=Je[2],Je[2]=Tt,Tt=Je[1],Je[1]=Je[3],Je[3]=Tt,Ye[1]<0&&(Tt=Je[2],Je[2]=Je[3],Je[3]=Tt),Je[2]*=Ye[1],Je[3]*=Ye[1],Ye[2]<0&&(Tt=Je[0],Je[0]=Je[1],Je[1]=Tt),Je[0]*=Ye[2],Je[1]*=Ye[2]),Je[0]+=Ye[4],Je[1]+=Ye[4],Je[2]+=Ye[5],Je[3]+=Ye[5]}static transform(Ye,Je){return[Ye[0]*Je[0]+Ye[2]*Je[1],Ye[1]*Je[0]+Ye[3]*Je[1],Ye[0]*Je[2]+Ye[2]*Je[3],Ye[1]*Je[2]+Ye[3]*Je[3],Ye[0]*Je[4]+Ye[2]*Je[5]+Ye[4],Ye[1]*Je[4]+Ye[3]*Je[5]+Ye[5]]}static applyTransform(Ye,Je){const Tt=Ye[0]*Je[0]+Ye[1]*Je[2]+Je[4],It=Ye[0]*Je[1]+Ye[1]*Je[3]+Je[5];return[Tt,It]}static applyInverseTransform(Ye,Je){const Tt=Je[0]*Je[3]-Je[1]*Je[2],It=(Ye[0]*Je[3]-Ye[1]*Je[2]+Je[2]*Je[5]-Je[4]*Je[3])/Tt,Gt=(-Ye[0]*Je[1]+Ye[1]*Je[0]+Je[4]*Je[1]-Je[5]*Je[0])/Tt;return[It,Gt]}static getAxialAlignedBoundingBox(Ye,Je){const Tt=this.applyTransform(Ye,Je),It=this.applyTransform(Ye.slice(2,4),Je),Gt=this.applyTransform([Ye[0],Ye[3]],Je),Te=this.applyTransform([Ye[2],Ye[1]],Je);return[Math.min(Tt[0],It[0],Gt[0],Te[0]),Math.min(Tt[1],It[1],Gt[1],Te[1]),Math.max(Tt[0],It[0],Gt[0],Te[0]),Math.max(Tt[1],It[1],Gt[1],Te[1])]}static inverseTransform(Ye){const Je=Ye[0]*Ye[3]-Ye[1]*Ye[2];return[Ye[3]/Je,-Ye[1]/Je,-Ye[2]/Je,Ye[0]/Je,(Ye[2]*Ye[5]-Ye[4]*Ye[3])/Je,(Ye[4]*Ye[1]-Ye[5]*Ye[0])/Je]}static singularValueDecompose2dScale(Ye){const Je=[Ye[0],Ye[2],Ye[1],Ye[3]],Tt=Ye[0]*Je[0]+Ye[1]*Je[2],It=Ye[0]*Je[1]+Ye[1]*Je[3],Gt=Ye[2]*Je[0]+Ye[3]*Je[2],Te=Ye[2]*Je[1]+Ye[3]*Je[3],ft=(Tt+Te)/2,Pt=Math.sqrt((Tt+Te)**2-4*(Tt*Te-Gt*It))/2,Dt=ft+Pt||1,Bt=ft-Pt||1;return[Math.sqrt(Dt),Math.sqrt(Bt)]}static normalizeRect(Ye){const Je=Ye.slice(0);return Ye[0]>Ye[2]&&(Je[0]=Ye[2],Je[2]=Ye[0]),Ye[1]>Ye[3]&&(Je[1]=Ye[3],Je[3]=Ye[1]),Je}static intersect(Ye,Je){const Tt=Math.max(Math.min(Ye[0],Ye[2]),Math.min(Je[0],Je[2])),It=Math.min(Math.max(Ye[0],Ye[2]),Math.max(Je[0],Je[2]));if(Tt>It)return null;const Gt=Math.max(Math.min(Ye[1],Ye[3]),Math.min(Je[1],Je[3])),Te=Math.min(Math.max(Ye[1],Ye[3]),Math.max(Je[1],Je[3]));return Gt>Te?null:[Tt,Gt,It,Te]}static bezierBoundingBox(Ye,Je,Tt,It,Gt,Te,ft,Pt){const Dt=[],Bt=[[],[]];let $t,Me,we,ze,ct,lt,vt,yt;for(let nn=0;nn<2;++nn){if(nn===0?(Me=6*Ye-12*Tt+6*Gt,$t=-3*Ye+9*Tt-9*Gt+3*ft,we=3*Tt-3*Ye):(Me=6*Je-12*It+6*Te,$t=-3*Je+9*It-9*Te+3*Pt,we=3*It-3*Je),Math.abs($t)<1e-12){if(Math.abs(Me)<1e-12)continue;ze=-we/Me,0<ze&&ze<1&&Dt.push(ze);continue}vt=Me*Me-4*we*$t,yt=Math.sqrt(vt),!(vt<0)&&(ct=(-Me+yt)/(2*$t),0<ct&&ct<1&&Dt.push(ct),lt=(-Me-yt)/(2*$t),0<lt&&lt<1&&Dt.push(lt))}let Ot=Dt.length,Ft;const Mt=Ot;for(;Ot--;)ze=Dt[Ot],Ft=1-ze,Bt[0][Ot]=Ft*Ft*Ft*Ye+3*Ft*Ft*ze*Tt+3*Ft*ze*ze*Gt+ze*ze*ze*ft,Bt[1][Ot]=Ft*Ft*Ft*Je+3*Ft*Ft*ze*It+3*Ft*ze*ze*Te+ze*ze*ze*Pt;return Bt[0][Mt]=Ye,Bt[1][Mt]=Je,Bt[0][Mt+1]=ft,Bt[1][Mt+1]=Pt,Bt[0].length=Bt[1].length=Mt+2,[Math.min(...Bt[0]),Math.min(...Bt[1]),Math.max(...Bt[0]),Math.max(...Bt[1])]}}$.Util=je;const Ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function nt(gt){if(gt[0]>="ï"){let Je;if(gt[0]==="þ"&&gt[1]==="ÿ"?Je="utf-16be":gt[0]==="ÿ"&&gt[1]==="þ"?Je="utf-16le":gt[0]==="ï"&&gt[1]==="»"&&gt[2]==="¿"&&(Je="utf-8"),Je)try{const Tt=new TextDecoder(Je,{fatal:!0}),It=st(gt);return Tt.decode(It)}catch(Tt){Fe(`stringToPDFString: "${Tt}".`)}}const Ye=[];for(let Je=0,Tt=gt.length;Je<Tt;Je++){const It=Ke[gt.charCodeAt(Je)];Ye.push(It?String.fromCharCode(It):gt.charAt(Je))}return Ye.join("")}function pt(gt){return decodeURIComponent(escape(gt))}function ht(gt){return unescape(encodeURIComponent(gt))}function We(gt){return typeof gt=="object"&&(gt==null?void 0:gt.byteLength)!==void 0}function wt(gt,Ye){if(gt.length!==Ye.length)return!1;for(let Je=0,Tt=gt.length;Je<Tt;Je++)if(gt[Je]!==Ye[Je])return!1;return!0}function St(gt=new Date){return[gt.getUTCFullYear().toString(),(gt.getUTCMonth()+1).toString().padStart(2,"0"),gt.getUTCDate().toString().padStart(2,"0"),gt.getUTCHours().toString().padStart(2,"0"),gt.getUTCMinutes().toString().padStart(2,"0"),gt.getUTCSeconds().toString().padStart(2,"0")].join("")}class Yt{constructor(){it(this,_n,!1);this.promise=new Promise((Ye,Je)=>{this.resolve=Tt=>{at(this,_n,!0),Ye(Tt)},this.reject=Tt=>{at(this,_n,!0),Je(Tt)}})}get settled(){return V(this,_n)}}_n=new WeakMap,$.PromiseCapability=Yt;let Ut=null,dn=null;function Rt(gt){return Ut||(Ut=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,dn=new Map([["ﬅ","ſt"]])),gt.replaceAll(Ut,(Ye,Je,Tt)=>Je?Je.normalize("NFKC"):dn.get(Tt))}function zt(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const gt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(gt);else for(let Ye=0;Ye<32;Ye++)gt[Ye]=Math.floor(Math.random()*255);return ot(gt)}const an="pdfjs_internal_id_";$.AnnotationPrefix=an},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,H,R,O,br,zr,me,ue,le,U,be,ce,J,re,Q,Hr,ee,ie,pi,de,te;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ne){if(typeof ne=="string"||ne instanceof URL?ne={url:ne}:(0,_util.isArrayBuffer)(ne)&&(ne={data:ne}),typeof ne!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ne.url&&!ne.data&&!ne.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ae=new PDFDocumentLoadingTask,{docId:oe}=ae,Ee=ne.url?getUrlProp(ne.url):null,K=ne.data?getDataProp(ne.data):null,ge=ne.httpHeaders||null,Ce=ne.withCredentials===!0,De=ne.password??null,xe=ne.range instanceof PDFDataRangeTransport?ne.range:null,Ne=Number.isInteger(ne.rangeChunkSize)&&ne.rangeChunkSize>0?ne.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Fe=ne.worker instanceof PDFWorker?ne.worker:null;const qe=ne.verbosity,Se=typeof ne.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ne.docBaseUrl)?ne.docBaseUrl:null,$e=typeof ne.cMapUrl=="string"?ne.cMapUrl:null,He=ne.cMapPacked!==!1,_e=ne.CMapReaderFactory||DefaultCMapReaderFactory,G=typeof ne.standardFontDataUrl=="string"?ne.standardFontDataUrl:null,X=ne.StandardFontDataFactory||DefaultStandardFontDataFactory,pe=ne.stopAtErrors!==!0,Pe=Number.isInteger(ne.maxImageSize)&&ne.maxImageSize>-1?ne.maxImageSize:-1,Ae=ne.isEvalSupported!==!1,ke=typeof ne.isOffscreenCanvasSupported=="boolean"?ne.isOffscreenCanvasSupported:!_util.isNodeJS,Oe=Number.isInteger(ne.canvasMaxAreaInBytes)?ne.canvasMaxAreaInBytes:-1,Qe=typeof ne.disableFontFace=="boolean"?ne.disableFontFace:_util.isNodeJS,ot=ne.fontExtraProperties===!0,st=ne.enableXfa===!0,ut=ne.ownerDocument||globalThis.document,dt=ne.disableRange===!0,mt=ne.disableStream===!0,Ge=ne.disableAutoFetch===!0,Xe=ne.pdfBug===!0,fe=xe?xe.length:ne.length??NaN,ye=typeof ne.useSystemFonts=="boolean"?ne.useSystemFonts:!_util.isNodeJS&&!Qe,je=typeof ne.useWorkerFetch=="boolean"?ne.useWorkerFetch:_e===_display_utils.DOMCMapReaderFactory&&X===_display_utils.DOMStandardFontDataFactory&&$e&&G&&(0,_display_utils.isValidFetchUrl)($e,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(G,document.baseURI),Ke=ne.canvasFactory||new DefaultCanvasFactory({ownerDocument:ut}),nt=ne.filterFactory||new DefaultFilterFactory({docId:oe,ownerDocument:ut}),pt=null;(0,_util.setVerbosityLevel)(qe);const ht={canvasFactory:Ke,filterFactory:nt};if(je||(ht.cMapReaderFactory=new _e({baseUrl:$e,isCompressed:He}),ht.standardFontDataFactory=new X({baseUrl:G})),!Fe){const St={verbosity:qe,port:_worker_options.GlobalWorkerOptions.workerPort};Fe=St.port?PDFWorker.fromPort(St):new PDFWorker(St),ae._worker=Fe}const We={docId:oe,apiVersion:"3.11.174",data:K,password:De,disableAutoFetch:Ge,rangeChunkSize:Ne,length:fe,docBaseUrl:Se,enableXfa:st,evaluatorOptions:{maxImageSize:Pe,disableFontFace:Qe,ignoreErrors:pe,isEvalSupported:Ae,isOffscreenCanvasSupported:ke,canvasMaxAreaInBytes:Oe,fontExtraProperties:ot,useSystemFonts:ye,cMapUrl:je?$e:null,standardFontDataUrl:je?G:null}},wt={ignoreErrors:pe,isEvalSupported:Ae,disableFontFace:Qe,fontExtraProperties:ot,enableXfa:st,ownerDocument:ut,disableAutoFetch:Ge,pdfBug:Xe,styleElement:pt};return Fe.promise.then(function(){if(ae.destroyed)throw new Error("Loading aborted");const St=_fetchDocument(Fe,We),Yt=new Promise(function(Ut){let dn;xe?dn=new _transport_stream.PDFDataTransportStream({length:fe,initialData:xe.initialData,progressiveDone:xe.progressiveDone,contentDispositionFilename:xe.contentDispositionFilename,disableRange:dt,disableStream:mt},xe):K||(dn=(zt=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(zt):(0,_display_utils.isValidFetchUrl)(zt.url)?new _displayFetch_stream.PDFFetchStream(zt):new _displayNetwork.PDFNetworkStream(zt))({url:Ee,length:fe,httpHeaders:ge,withCredentials:Ce,rangeChunkSize:Ne,disableRange:dt,disableStream:mt})),Ut(dn)});return Promise.all([St,Yt]).then(function([Ut,dn]){if(ae.destroyed)throw new Error("Loading aborted");const Rt=new _message_handler.MessageHandler(oe,Ut,Fe.port),zt=new WorkerTransport(Rt,ae,dn,wt,ht);ae._transport=zt,Rt.send("Ready",null)})}).catch(ae._capability.reject),ae}async function _fetchDocument(ne,ae){if(ne.destroyed)throw new Error("Worker was destroyed");const oe=await ne.messageHandler.sendWithPromise("GetDocRequest",ae,ae.data?[ae.data.buffer]:null);if(ne.destroyed)throw new Error("Worker was destroyed");return oe}function getUrlProp(ne){if(ne instanceof URL)return ne.href;try{return new URL(ne,window.location).href}catch{if(_util.isNodeJS&&typeof ne=="string")return ne}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ne){if(_util.isNodeJS&&typeof Buffer<"u"&&ne instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ne instanceof Uint8Array&&ne.byteLength===ne.buffer.byteLength)return ne;if(typeof ne=="string")return(0,_util.stringToBytes)(ne);if(typeof ne=="object"&&!isNaN(ne==null?void 0:ne.length)||(0,_util.isArrayBuffer)(ne))return new Uint8Array(ne);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Cr($,A)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ae,oe,Ee;this.destroyed=!0;try{(ae=this._worker)!=null&&ae.port&&(this._worker._pendingDestroy=!0),await((oe=this._transport)==null?void 0:oe.destroy())}catch(K){throw(Ee=this._worker)!=null&&Ee.port&&delete this._worker._pendingDestroy,K}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};A=new WeakMap,it($,A,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ae,oe,Ee=!1,K=null){this.length=ae,this.initialData=oe,this.progressiveDone=Ee,this.contentDispositionFilename=K,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ae){this._rangeListeners.push(ae)}addProgressListener(ae){this._progressListeners.push(ae)}addProgressiveReadListener(ae){this._progressiveReadListeners.push(ae)}addProgressiveDoneListener(ae){this._progressiveDoneListeners.push(ae)}onDataRange(ae,oe){for(const Ee of this._rangeListeners)Ee(ae,oe)}onDataProgress(ae,oe){this._readyCapability.promise.then(()=>{for(const Ee of this._progressListeners)Ee(ae,oe)})}onDataProgressiveRead(ae){this._readyCapability.promise.then(()=>{for(const oe of this._progressiveReadListeners)oe(ae)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ae of this._progressiveDoneListeners)ae()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ae,oe){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ae,oe){this._pdfInfo=ae,this._transport=oe,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Ee=>{if(!Ee)return Ee;const K=[];for(const ge in Ee)K.push(...Ee[ge]);return K}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ae){return this._transport.getPage(ae)}getPageIndex(ae){return this._transport.getPageIndex(ae)}getDestinations(){return this._transport.getDestinations()}getDestination(ae){return this._transport.getDestination(ae)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ae=!1){return this._transport.startCleanup(ae||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ae,oe,Ee,K=!1){it(this,O);it(this,H,null);it(this,R,!1);this._pageIndex=ae,this._pageInfo=oe,this._transport=Ee,this._stats=K?new _display_utils.StatTimer:null,this._pdfBug=K,this.commonObjs=Ee.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ae,rotation:oe=this.rotate,offsetX:Ee=0,offsetY:K=0,dontFlip:ge=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ae,rotation:oe,offsetX:Ee,offsetY:K,dontFlip:ge})}getAnnotations({intent:ae="display"}={}){const oe=this._transport.getRenderingIntent(ae);return this._transport.getAnnotations(this._pageIndex,oe.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ae;return((ae=this._transport._htmlForXfa)==null?void 0:ae.children[this._pageIndex])||null}render({canvasContext:ae,viewport:oe,intent:Ee="display",annotationMode:K=_util.AnnotationMode.ENABLE,transform:ge=null,background:Ce=null,optionalContentConfigPromise:De=null,annotationCanvasMap:xe=null,pageColors:Ne=null,printAnnotationStorage:Fe=null}){var X,pe;(X=this._stats)==null||X.time("Overall");const qe=this._transport.getRenderingIntent(Ee,K,Fe);at(this,R,!1),Ue(this,O,zr).call(this),De||(De=this._transport.getOptionalContentConfig());let Se=this._intentStates.get(qe.cacheKey);Se||(Se=Object.create(null),this._intentStates.set(qe.cacheKey,Se)),Se.streamReaderCancelTimeout&&(clearTimeout(Se.streamReaderCancelTimeout),Se.streamReaderCancelTimeout=null);const $e=!!(qe.renderingIntent&_util.RenderingIntentFlag.PRINT);Se.displayReadyCapability||(Se.displayReadyCapability=new _util.PromiseCapability,Se.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(pe=this._stats)==null||pe.time("Page Request"),this._pumpOperatorList(qe));const He=Pe=>{var Ae,ke;Se.renderTasks.delete(_e),(this._maybeCleanupAfterRender||$e)&&at(this,R,!0),Ue(this,O,br).call(this,!$e),Pe?(_e.capability.reject(Pe),this._abortOperatorList({intentState:Se,reason:Pe instanceof Error?Pe:new Error(Pe)})):_e.capability.resolve(),(Ae=this._stats)==null||Ae.timeEnd("Rendering"),(ke=this._stats)==null||ke.timeEnd("Overall")},_e=new InternalRenderTask({callback:He,params:{canvasContext:ae,viewport:oe,transform:ge,background:Ce},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:xe,operatorList:Se.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!$e,pdfBug:this._pdfBug,pageColors:Ne});(Se.renderTasks||(Se.renderTasks=new Set)).add(_e);const G=_e.task;return Promise.all([Se.displayReadyCapability.promise,De]).then(([Pe,Ae])=>{var ke;if(this.destroyed){He();return}(ke=this._stats)==null||ke.time("Rendering"),_e.initializeGraphics({transparency:Pe,optionalContentConfig:Ae}),_e.operatorListChanged()}).catch(He),G}getOperatorList({intent:ae="display",annotationMode:oe=_util.AnnotationMode.ENABLE,printAnnotationStorage:Ee=null}={}){var xe;function K(){Ce.operatorList.lastChunk&&(Ce.opListReadCapability.resolve(Ce.operatorList),Ce.renderTasks.delete(De))}const ge=this._transport.getRenderingIntent(ae,oe,Ee,!0);let Ce=this._intentStates.get(ge.cacheKey);Ce||(Ce=Object.create(null),this._intentStates.set(ge.cacheKey,Ce));let De;return Ce.opListReadCapability||(De=Object.create(null),De.operatorListChanged=K,Ce.opListReadCapability=new _util.PromiseCapability,(Ce.renderTasks||(Ce.renderTasks=new Set)).add(De),Ce.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(xe=this._stats)==null||xe.time("Page Request"),this._pumpOperatorList(ge)),Ce.opListReadCapability.promise}streamTextContent({includeMarkedContent:ae=!1,disableNormalization:oe=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ae===!0,disableNormalization:oe===!0},{highWaterMark:100,size(K){return K.items.length}})}getTextContent(ae={}){if(this._transport._htmlForXfa)return this.getXfa().then(Ee=>_xfa_text.XfaText.textContent(Ee));const oe=this.streamTextContent(ae);return new Promise(function(Ee,K){function ge(){Ce.read().then(function({value:xe,done:Ne}){if(Ne){Ee(De);return}Object.assign(De.styles,xe.styles),De.items.push(...xe.items),ge()},K)}const Ce=oe.getReader(),De={items:[],styles:Object.create(null)};ge()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ae=[];for(const oe of this._intentStates.values())if(this._abortOperatorList({intentState:oe,reason:new Error("Page was destroyed."),force:!0}),!oe.opListReadCapability)for(const Ee of oe.renderTasks)ae.push(Ee.completed),Ee.cancel();return this.objs.clear(),at(this,R,!1),Ue(this,O,zr).call(this),Promise.all(ae)}cleanup(ae=!1){at(this,R,!0);const oe=Ue(this,O,br).call(this,!1);return ae&&oe&&this._stats&&(this._stats=new _display_utils.StatTimer),oe}_startRenderPage(ae,oe){var K,ge;const Ee=this._intentStates.get(oe);Ee&&((K=this._stats)==null||K.timeEnd("Page Request"),(ge=Ee.displayReadyCapability)==null||ge.resolve(ae))}_renderPageChunk(ae,oe){for(let Ee=0,K=ae.length;Ee<K;Ee++)oe.operatorList.fnArray.push(ae.fnArray[Ee]),oe.operatorList.argsArray.push(ae.argsArray[Ee]);oe.operatorList.lastChunk=ae.lastChunk,oe.operatorList.separateAnnots=ae.separateAnnots;for(const Ee of oe.renderTasks)Ee.operatorListChanged();ae.lastChunk&&Ue(this,O,br).call(this,!0)}_pumpOperatorList({renderingIntent:ae,cacheKey:oe,annotationStorageSerializable:Ee}){const{map:K,transfers:ge}=Ee,De=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ae,cacheKey:oe,annotationStorage:K},ge).getReader(),xe=this._intentStates.get(oe);xe.streamReader=De;const Ne=()=>{De.read().then(({value:Fe,done:qe})=>{if(qe){xe.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Fe,xe),Ne())},Fe=>{if(xe.streamReader=null,!this._transport.destroyed){if(xe.operatorList){xe.operatorList.lastChunk=!0;for(const qe of xe.renderTasks)qe.operatorListChanged();Ue(this,O,br).call(this,!0)}if(xe.displayReadyCapability)xe.displayReadyCapability.reject(Fe);else if(xe.opListReadCapability)xe.opListReadCapability.reject(Fe);else throw Fe}})};Ne()}_abortOperatorList({intentState:ae,reason:oe,force:Ee=!1}){if(ae.streamReader){if(ae.streamReaderCancelTimeout&&(clearTimeout(ae.streamReaderCancelTimeout),ae.streamReaderCancelTimeout=null),!Ee){if(ae.renderTasks.size>0)return;if(oe instanceof _display_utils.RenderingCancelledException){let K=RENDERING_CANCELLED_TIMEOUT;oe.extraDelay>0&&oe.extraDelay<1e3&&(K+=oe.extraDelay),ae.streamReaderCancelTimeout=setTimeout(()=>{ae.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ae,reason:oe,force:!0})},K);return}}if(ae.streamReader.cancel(new _util.AbortException(oe.message)).catch(()=>{}),ae.streamReader=null,!this._transport.destroyed){for(const[K,ge]of this._intentStates)if(ge===ae){this._intentStates.delete(K);break}this.cleanup()}}}get stats(){return this._stats}}H=new WeakMap,R=new WeakMap,O=new WeakSet,br=function(ae=!1){if(Ue(this,O,zr).call(this),!V(this,R)||this.destroyed)return!1;if(ae)return at(this,H,setTimeout(()=>{at(this,H,null),Ue(this,O,br).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:oe,operatorList:Ee}of this._intentStates.values())if(oe.size>0||!Ee.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),at(this,R,!1),!0},zr=function(){V(this,H)&&(clearTimeout(V(this,H)),at(this,H,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){it(this,me,new Set);it(this,ue,Promise.resolve())}postMessage(ae,oe){const Ee={data:structuredClone(ae,oe?{transfer:oe}:null)};V(this,ue).then(()=>{for(const K of V(this,me))K.call(this,Ee)})}addEventListener(ae,oe){V(this,me).add(oe)}removeEventListener(ae,oe){V(this,me).delete(oe)}terminate(){V(this,me).clear()}}me=new WeakMap,ue=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ne=(le=document==null?void 0:document.currentScript)==null?void 0:le.src;ne&&(PDFWorkerUtil.fallbackWorkerSrc=ne.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ne,ae){let oe;try{if(oe=new URL(ne),!oe.origin||oe.origin==="null")return!1}catch{return!1}const Ee=new URL(ae,oe);return oe.origin===Ee.origin},PDFWorkerUtil.createCDNWrapper=function(ne){const ae=`importScripts("${ne}");`;return URL.createObjectURL(new Blob([ae]))}}const _PDFWorker=class _PDFWorker{constructor({name:ne=null,port:ae=null,verbosity:oe=(0,_util.getVerbosityLevel)()}={}){var Ee;if(this.name=ne,this.destroyed=!1,this.verbosity=oe,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ae){if((Ee=V(_PDFWorker,U))!=null&&Ee.has(ae))throw new Error("Cannot use more than one PDFWorker per port.");(V(_PDFWorker,U)||at(_PDFWorker,U,new WeakMap)).set(ae,this),this._initializeFromPort(ae);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ne){this._port=ne,this._messageHandler=new _message_handler.MessageHandler("main","worker",ne),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ne}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ne)||(ne=PDFWorkerUtil.createCDNWrapper(new URL(ne,window.location).href));const ae=new Worker(ne),oe=new _message_handler.MessageHandler("main","worker",ae),Ee=()=>{ae.removeEventListener("error",K),oe.destroy(),ae.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},K=()=>{this._webWorker||Ee()};ae.addEventListener("error",K),oe.on("test",Ce=>{if(ae.removeEventListener("error",K),this.destroyed){Ee();return}Ce?(this._messageHandler=oe,this._port=ae,this._webWorker=ae,this._readyCapability.resolve(),oe.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),oe.destroy(),ae.terminate())}),oe.on("ready",Ce=>{if(ae.removeEventListener("error",K),this.destroyed){Ee();return}try{ge()}catch{this._setupFakeWorker()}});const ge=()=>{const Ce=new Uint8Array;oe.send("test",Ce,[Ce.buffer])};ge();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ne=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ae=new LoopbackPort;this._port=ae;const oe=`fake${PDFWorkerUtil.fakeWorkerId++}`,Ee=new _message_handler.MessageHandler(oe+"_worker",oe,ae);ne.setup(Ee,ae);const K=new _message_handler.MessageHandler(oe,oe+"_worker",ae);this._messageHandler=K,this._readyCapability.resolve(),K.send("configure",{verbosity:this.verbosity})}).catch(ne=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ne.message}".`))})}destroy(){var ne;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ne=V(_PDFWorker,U))==null||ne.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ne){var oe;if(!(ne!=null&&ne.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ae=(oe=V(this,U))==null?void 0:oe.get(ne.port);if(ae){if(ae._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ae}return new _PDFWorker(ne)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ne;try{return((ne=globalThis.pdfjsWorker)==null?void 0:ne.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};U=new WeakMap,it(_PDFWorker,U);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(ae,oe,Ee,K,ge){it(this,Q);it(this,be,new Map);it(this,ce,new Map);it(this,J,new Map);it(this,re,null);this.messageHandler=ae,this.loadingTask=oe,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:K.ownerDocument,styleElement:K.styleElement}),this._params=K,this.canvasFactory=ge.canvasFactory,this.filterFactory=ge.filterFactory,this.cMapReaderFactory=ge.cMapReaderFactory,this.standardFontDataFactory=ge.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Ee,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ae,oe=_util.AnnotationMode.ENABLE,Ee=null,K=!1){let ge=_util.RenderingIntentFlag.DISPLAY,Ce=_annotation_storage.SerializableEmpty;switch(ae){case"any":ge=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ge=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ae}`)}switch(oe){case _util.AnnotationMode.DISABLE:ge+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ge+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ge+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ce=(ge&_util.RenderingIntentFlag.PRINT&&Ee instanceof _annotation_storage.PrintAnnotationStorage?Ee:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${oe}`)}return K&&(ge+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ge,cacheKey:`${ge}_${Ce.hash}`,annotationStorageSerializable:Ce}}destroy(){var Ee;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Ee=V(this,re))==null||Ee.reject(new Error("Worker was destroyed during onPassword callback"));const ae=[];for(const K of V(this,ce).values())ae.push(K._destroy());V(this,ce).clear(),V(this,J).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const oe=this.messageHandler.sendWithPromise("Terminate",null);return ae.push(oe),Promise.all(ae).then(()=>{var K;this.commonObjs.clear(),this.fontLoader.clear(),V(this,be).clear(),this.filterFactory.destroy(),(K=this._networkStream)==null||K.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ae,loadingTask:oe}=this;ae.on("GetReader",(Ee,K)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ge=>{this._lastProgress={loaded:ge.loaded,total:ge.total}},K.onPull=()=>{this._fullReader.read().then(function({value:ge,done:Ce}){if(Ce){K.close();return}(0,_util.assert)(ge instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),K.enqueue(new Uint8Array(ge),1,[ge])}).catch(ge=>{K.error(ge)})},K.onCancel=ge=>{this._fullReader.cancel(ge),K.ready.catch(Ce=>{if(!this.destroyed)throw Ce})}}),ae.on("ReaderHeadersReady",Ee=>{const K=new _util.PromiseCapability,ge=this._fullReader;return ge.headersReady.then(()=>{var Ce;(!ge.isStreamingSupported||!ge.isRangeSupported)&&(this._lastProgress&&((Ce=oe.onProgress)==null||Ce.call(oe,this._lastProgress)),ge.onProgress=De=>{var xe;(xe=oe.onProgress)==null||xe.call(oe,{loaded:De.loaded,total:De.total})}),K.resolve({isStreamingSupported:ge.isStreamingSupported,isRangeSupported:ge.isRangeSupported,contentLength:ge.contentLength})},K.reject),K.promise}),ae.on("GetRangeReader",(Ee,K)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ge=this._networkStream.getRangeReader(Ee.begin,Ee.end);if(!ge){K.close();return}K.onPull=()=>{ge.read().then(function({value:Ce,done:De}){if(De){K.close();return}(0,_util.assert)(Ce instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),K.enqueue(new Uint8Array(Ce),1,[Ce])}).catch(Ce=>{K.error(Ce)})},K.onCancel=Ce=>{ge.cancel(Ce),K.ready.catch(De=>{if(!this.destroyed)throw De})}}),ae.on("GetDoc",({pdfInfo:Ee})=>{this._numPages=Ee.numPages,this._htmlForXfa=Ee.htmlForXfa,delete Ee.htmlForXfa,oe._capability.resolve(new PDFDocumentProxy(Ee,this))}),ae.on("DocException",function(Ee){let K;switch(Ee.name){case"PasswordException":K=new _util.PasswordException(Ee.message,Ee.code);break;case"InvalidPDFException":K=new _util.InvalidPDFException(Ee.message);break;case"MissingPDFException":K=new _util.MissingPDFException(Ee.message);break;case"UnexpectedResponseException":K=new _util.UnexpectedResponseException(Ee.message,Ee.status);break;case"UnknownErrorException":K=new _util.UnknownErrorException(Ee.message,Ee.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}oe._capability.reject(K)}),ae.on("PasswordRequest",Ee=>{if(at(this,re,new _util.PromiseCapability),oe.onPassword){const K=ge=>{ge instanceof Error?V(this,re).reject(ge):V(this,re).resolve({password:ge})};try{oe.onPassword(K,Ee.code)}catch(ge){V(this,re).reject(ge)}}else V(this,re).reject(new _util.PasswordException(Ee.message,Ee.code));return V(this,re).promise}),ae.on("DataLoaded",Ee=>{var K;(K=oe.onProgress)==null||K.call(oe,{loaded:Ee.length,total:Ee.length}),this.downloadInfoCapability.resolve(Ee)}),ae.on("StartRenderPage",Ee=>{if(this.destroyed)return;V(this,ce).get(Ee.pageIndex)._startRenderPage(Ee.transparency,Ee.cacheKey)}),ae.on("commonobj",([Ee,K,ge])=>{var Ce;if(!this.destroyed&&!this.commonObjs.has(Ee))switch(K){case"Font":const De=this._params;if("error"in ge){const Fe=ge.error;(0,_util.warn)(`Error during font loading: ${Fe}`),this.commonObjs.resolve(Ee,Fe);break}const xe=De.pdfBug&&((Ce=globalThis.FontInspector)!=null&&Ce.enabled)?(Fe,qe)=>globalThis.FontInspector.fontAdded(Fe,qe):null,Ne=new _font_loader.FontFaceObject(ge,{isEvalSupported:De.isEvalSupported,disableFontFace:De.disableFontFace,ignoreErrors:De.ignoreErrors,inspectFont:xe});this.fontLoader.bind(Ne).catch(Fe=>ae.sendWithPromise("FontFallback",{id:Ee})).finally(()=>{!De.fontExtraProperties&&Ne.data&&(Ne.data=null),this.commonObjs.resolve(Ee,Ne)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Ee,ge);break;default:throw new Error(`Got unknown common object type ${K}`)}}),ae.on("obj",([Ee,K,ge,Ce])=>{var xe;if(this.destroyed)return;const De=V(this,ce).get(K);if(!De.objs.has(Ee))switch(ge){case"Image":if(De.objs.resolve(Ee,Ce),Ce){let Ne;if(Ce.bitmap){const{width:Fe,height:qe}=Ce;Ne=Fe*qe*4}else Ne=((xe=Ce.data)==null?void 0:xe.length)||0;Ne>_util.MAX_IMAGE_SIZE_TO_CACHE&&(De._maybeCleanupAfterRender=!0)}break;case"Pattern":De.objs.resolve(Ee,Ce);break;default:throw new Error(`Got unknown object type ${ge}`)}}),ae.on("DocProgress",Ee=>{var K;this.destroyed||(K=oe.onProgress)==null||K.call(oe,{loaded:Ee.loaded,total:Ee.total})}),ae.on("FetchBuiltInCMap",Ee=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Ee):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ae.on("FetchStandardFontData",Ee=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Ee):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Ee;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ae,transfers:oe}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ae,filename:((Ee=this._fullReader)==null?void 0:Ee.filename)??null},oe).finally(()=>{this.annotationStorage.resetModified()})}getPage(ae){if(!Number.isInteger(ae)||ae<=0||ae>this._numPages)return Promise.reject(new Error("Invalid page request."));const oe=ae-1,Ee=V(this,J).get(oe);if(Ee)return Ee;const K=this.messageHandler.sendWithPromise("GetPage",{pageIndex:oe}).then(ge=>{if(this.destroyed)throw new Error("Transport destroyed");const Ce=new PDFPageProxy(oe,ge,this,this._params.pdfBug);return V(this,ce).set(oe,Ce),Ce});return V(this,J).set(oe,K),K}getPageIndex(ae){return typeof ae!="object"||ae===null||!Number.isInteger(ae.num)||ae.num<0||!Number.isInteger(ae.gen)||ae.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ae.num,gen:ae.gen})}getAnnotations(ae,oe){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ae,intent:oe})}getFieldObjects(){return Ue(this,Q,Hr).call(this,"GetFieldObjects")}hasJSActions(){return Ue(this,Q,Hr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ae){return typeof ae!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ae})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ue(this,Q,Hr).call(this,"GetDocJSActions")}getPageJSActions(ae){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ae})}getStructTree(ae){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ae})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ae=>new _optional_content_config.OptionalContentConfig(ae))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ae="GetMetadata",oe=V(this,be).get(ae);if(oe)return oe;const Ee=this.messageHandler.sendWithPromise(ae,null).then(K=>{var ge,Ce;return{info:K[0],metadata:K[1]?new _metadata.Metadata(K[1]):null,contentDispositionFilename:((ge=this._fullReader)==null?void 0:ge.filename)??null,contentLength:((Ce=this._fullReader)==null?void 0:Ce.contentLength)??null}});return V(this,be).set(ae,Ee),Ee}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ae=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const oe of V(this,ce).values())if(!oe.cleanup())throw new Error(`startCleanup: Page ${oe.pageNumber} is currently rendering.`);this.commonObjs.clear(),ae||this.fontLoader.clear(),V(this,be).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ae,enableXfa:oe}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ae,enableXfa:oe})}}be=new WeakMap,ce=new WeakMap,J=new WeakMap,re=new WeakMap,Q=new WeakSet,Hr=function(ae,oe=null){const Ee=V(this,be).get(ae);if(Ee)return Ee;const K=this.messageHandler.sendWithPromise(ae,oe);return V(this,be).set(ae,K),K};class PDFObjects{constructor(){it(this,ie);it(this,ee,Object.create(null))}get(ae,oe=null){if(oe){const K=Ue(this,ie,pi).call(this,ae);return K.capability.promise.then(()=>oe(K.data)),null}const Ee=V(this,ee)[ae];if(!(Ee!=null&&Ee.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ae}.`);return Ee.data}has(ae){const oe=V(this,ee)[ae];return(oe==null?void 0:oe.capability.settled)||!1}resolve(ae,oe=null){const Ee=Ue(this,ie,pi).call(this,ae);Ee.data=oe,Ee.capability.resolve()}clear(){var ae;for(const oe in V(this,ee)){const{data:Ee}=V(this,ee)[oe];(ae=Ee==null?void 0:Ee.bitmap)==null||ae.close()}at(this,ee,Object.create(null))}}ee=new WeakMap,ie=new WeakSet,pi=function(ae){var oe;return(oe=V(this,ee))[ae]||(oe[ae]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ae){it(this,de,null);at(this,de,ae),this.onContinue=null}get promise(){return V(this,de).capability.promise}cancel(ae=0){V(this,de).cancel(null,ae)}get separateAnnots(){const{separateAnnots:ae}=V(this,de).operatorList;if(!ae)return!1;const{annotationCanvasMap:oe}=V(this,de);return ae.form||ae.canvas&&(oe==null?void 0:oe.size)>0}}de=new WeakMap,exports.RenderTask=RenderTask;const se=class se{constructor({callback:ae,params:oe,objs:Ee,commonObjs:K,annotationCanvasMap:ge,operatorList:Ce,pageIndex:De,canvasFactory:xe,filterFactory:Ne,useRequestAnimationFrame:Fe=!1,pdfBug:qe=!1,pageColors:Se=null}){this.callback=ae,this.params=oe,this.objs=Ee,this.commonObjs=K,this.annotationCanvasMap=ge,this.operatorListIdx=null,this.operatorList=Ce,this._pageIndex=De,this.canvasFactory=xe,this.filterFactory=Ne,this._pdfBug=qe,this.pageColors=Se,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Fe===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=oe.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ae=!1,optionalContentConfig:oe}){var De,xe;if(this.cancelled)return;if(this._canvas){if(V(se,te).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");V(se,te).add(this._canvas)}this._pdfBug&&((De=globalThis.StepperManager)!=null&&De.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Ee,viewport:K,transform:ge,background:Ce}=this.params;this.gfx=new _canvas.CanvasGraphics(Ee,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:oe},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ge,viewport:K,transparency:ae,background:Ce}),this.operatorListIdx=0,this.graphicsReady=!0,(xe=this.graphicsReadyCallback)==null||xe.call(this)}cancel(ae=null,oe=0){var Ee;this.running=!1,this.cancelled=!0,(Ee=this.gfx)==null||Ee.endDrawing(),V(se,te).delete(this._canvas),this.callback(ae||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,oe))}operatorListChanged(){var ae;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ae=this.stepper)==null||ae.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),V(se,te).delete(this._canvas),this.callback())))}};te=new WeakMap,it(se,te,new WeakSet);let InternalRenderTask=se;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(A,$,H)=>{var le,U,be,fa,J;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var R=H(1),O=H(4),B=H(8);const Y=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=Y;class me{constructor(){it(this,be);it(this,le,!1);it(this,U,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Q,q){const ee=V(this,U).get(Q);return ee===void 0?q:Object.assign(q,ee)}getRawValue(Q){return V(this,U).get(Q)}remove(Q){if(V(this,U).delete(Q),V(this,U).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const q of V(this,U).values())if(q instanceof O.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Q,q){const ee=V(this,U).get(Q);let ie=!1;if(ee!==void 0)for(const[ve,de]of Object.entries(q))ee[ve]!==de&&(ie=!0,ee[ve]=de);else ie=!0,V(this,U).set(Q,q);ie&&Ue(this,be,fa).call(this),q instanceof O.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(q.constructor._type)}has(Q){return V(this,U).has(Q)}getAll(){return V(this,U).size>0?(0,R.objectFromMap)(V(this,U)):null}setAll(Q){for(const[q,ee]of Object.entries(Q))this.setValue(q,ee)}get size(){return V(this,U).size}resetModified(){V(this,le)&&(at(this,le,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ue(this)}get serializable(){if(V(this,U).size===0)return Y;const Q=new Map,q=new B.MurmurHash3_64,ee=[],ie=Object.create(null);let ve=!1;for(const[de,te]of V(this,U)){const se=te instanceof O.AnnotationEditor?te.serialize(!1,ie):te;se&&(Q.set(de,se),q.update(`${de}:${JSON.stringify(se)}`),ve||(ve=!!se.bitmap))}if(ve)for(const de of Q.values())de.bitmap&&ee.push(de.bitmap);return Q.size>0?{map:Q,hash:q.hexdigest(),transfers:ee}:Y}}le=new WeakMap,U=new WeakMap,be=new WeakSet,fa=function(){V(this,le)||(at(this,le,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=me;class ue extends me{constructor(q){super();it(this,J);const{map:ee,hash:ie,transfers:ve}=q.serializable,de=structuredClone(ee,ve?{transfer:ve}:null);at(this,J,{map:de,hash:ie,transfers:ve})}get print(){(0,R.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return V(this,J)}}J=new WeakMap,$.PrintAnnotationStorage=ue},(A,$,H)=>{var ue,le,U,be,ce,J,re,Q,q,ee,ie,ve,de,te,se,mi,gi,oe,vi,bi,pa,ma,ga,_i,va;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var R=H(5),O=H(1),B=H(6);const Fe=class Fe{constructor(Se){it(this,se);it(this,ue,"");it(this,le,!1);it(this,U,null);it(this,be,null);it(this,ce,null);it(this,J,!1);it(this,re,null);it(this,Q,this.focusin.bind(this));it(this,q,this.focusout.bind(this));it(this,ee,!1);it(this,ie,!1);it(this,ve,!1);Tn(this,"_initialOptions",Object.create(null));Tn(this,"_uiManager",null);Tn(this,"_focusEventsAllowed",!0);Tn(this,"_l10nPromise",null);it(this,de,!1);it(this,te,Fe._zIndex++);this.constructor===Fe&&(0,O.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Se.parent,this.id=Se.id,this.width=this.height=null,this.pageIndex=Se.parent.pageIndex,this.name=Se.name,this.div=null,this._uiManager=Se.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Se.isCentered,this._structTreeParentId=null;const{rotation:$e,rawDims:{pageWidth:He,pageHeight:_e,pageX:G,pageY:X}}=this.parent.viewport;this.rotation=$e,this.pageRotation=(360+$e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[He,_e],this.pageTranslation=[G,X];const[pe,Pe]=this.parentDimensions;this.x=Se.x/pe,this.y=Se.y/Pe,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,O.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Se){const $e=new me({id:Se.parent.getNextId(),parent:Se.parent,uiManager:Se._uiManager});$e.annotationElementId=Se.annotationElementId,$e.deleted=!0,$e._uiManager.addToAnnotationStorage($e)}static initialize(Se,$e=null){if(Fe._l10nPromise||(Fe._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(_e=>[_e,Se.get(_e)]))),$e!=null&&$e.strings)for(const _e of $e.strings)Fe._l10nPromise.set(_e,Se.get(_e));if(Fe._borderLineWidth!==-1)return;const He=getComputedStyle(document.documentElement);Fe._borderLineWidth=parseFloat(He.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Se,$e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Se){return!1}static paste(Se,$e){(0,O.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return V(this,de)}set _isDraggable(Se){var $e;at(this,de,Se),($e=this.div)==null||$e.classList.toggle("draggable",Se)}center(){const[Se,$e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*$e/(Se*2),this.y+=this.width*Se/($e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*$e/(Se*2),this.y-=this.width*Se/($e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Se){this._uiManager.addCommands(Se)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=V(this,te)}setParent(Se){Se!==null&&(this.pageIndex=Se.pageIndex,this.pageDimensions=Se.pageDimensions),this.parent=Se}focusin(Se){this._focusEventsAllowed&&(V(this,ee)?at(this,ee,!1):this.parent.setSelected(this))}focusout(Se){var He;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const $e=Se.relatedTarget;$e!=null&&$e.closest(`#${this.id}`)||(Se.preventDefault(),(He=this.parent)!=null&&He.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Se,$e,He,_e){const[G,X]=this.parentDimensions;[He,_e]=this.screenToPageTranslation(He,_e),this.x=(Se+He)/G,this.y=($e+_e)/X,this.fixAndSetPosition()}translate(Se,$e){Ue(this,se,mi).call(this,this.parentDimensions,Se,$e)}translateInPage(Se,$e){Ue(this,se,mi).call(this,this.pageDimensions,Se,$e),this.div.scrollIntoView({block:"nearest"})}drag(Se,$e){const[He,_e]=this.parentDimensions;if(this.x+=Se/He,this.y+=$e/_e,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Ae,y:ke}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Ae,ke)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:G,y:X}=this;const[pe,Pe]=Ue(this,se,gi).call(this);G+=pe,X+=Pe,this.div.style.left=`${(100*G).toFixed(2)}%`,this.div.style.top=`${(100*X).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Se,$e]=this.pageDimensions;let{x:He,y:_e,width:G,height:X}=this;switch(G*=Se,X*=$e,He*=Se,_e*=$e,this.rotation){case 0:He=Math.max(0,Math.min(Se-G,He)),_e=Math.max(0,Math.min($e-X,_e));break;case 90:He=Math.max(0,Math.min(Se-X,He)),_e=Math.min($e,Math.max(G,_e));break;case 180:He=Math.min(Se,Math.max(G,He)),_e=Math.min($e,Math.max(X,_e));break;case 270:He=Math.min(Se,Math.max(X,He)),_e=Math.max(0,Math.min($e-G,_e));break}this.x=He/=Se,this.y=_e/=$e;const[pe,Pe]=Ue(this,se,gi).call(this);He+=pe,_e+=Pe;const{style:Ae}=this.div;Ae.left=`${(100*He).toFixed(2)}%`,Ae.top=`${(100*_e).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Se,$e){var He;return Ue(He=Fe,oe,vi).call(He,Se,$e,this.parentRotation)}pageTranslationToScreen(Se,$e){var He;return Ue(He=Fe,oe,vi).call(He,Se,$e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Se,pageDimensions:[$e,He]}=this,_e=$e*Se,G=He*Se;return O.FeatureTest.isCSSRoundSupported?[Math.round(_e),Math.round(G)]:[_e,G]}setDims(Se,$e){var G;const[He,_e]=this.parentDimensions;this.div.style.width=`${(100*Se/He).toFixed(2)}%`,V(this,J)||(this.div.style.height=`${(100*$e/_e).toFixed(2)}%`),(G=V(this,U))==null||G.classList.toggle("small",Se<Fe.SMALL_EDITOR_SIZE||$e<Fe.SMALL_EDITOR_SIZE)}fixDims(){const{style:Se}=this.div,{height:$e,width:He}=Se,_e=He.endsWith("%"),G=!V(this,J)&&$e.endsWith("%");if(_e&&G)return;const[X,pe]=this.parentDimensions;_e||(Se.width=`${(100*parseFloat(He)/X).toFixed(2)}%`),!V(this,J)&&!G&&(Se.height=`${(100*parseFloat($e)/pe).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(V(this,U))return;const Se=at(this,U,document.createElement("button"));Se.className="altText";const $e=await Fe._l10nPromise.get("editor_alt_text_button_label");Se.textContent=$e,Se.setAttribute("aria-label",$e),Se.tabIndex="0",Se.addEventListener("contextmenu",B.noContextMenu),Se.addEventListener("pointerdown",He=>He.stopPropagation()),Se.addEventListener("click",He=>{He.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Se.addEventListener("keydown",He=>{He.target===Se&&He.key==="Enter"&&(He.preventDefault(),this._uiManager.editAltText(this))}),Ue(this,se,_i).call(this),this.div.append(Se),Fe.SMALL_EDITOR_SIZE||(Fe.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Se.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:V(this,ue),decorative:V(this,le)}}set altTextData({altText:Se,decorative:$e}){V(this,ue)===Se&&V(this,le)===$e||(at(this,ue,Se),at(this,le,$e),Ue(this,se,_i).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",V(this,Q)),this.div.addEventListener("focusout",V(this,q));const[Se,$e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*$e/Se).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Se/$e).toFixed(2)}%`);const[He,_e]=this.getInitialTranslation();return this.translate(He,_e),(0,R.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Se){const{isMac:$e}=O.FeatureTest.platform;if(Se.button!==0||Se.ctrlKey&&$e){Se.preventDefault();return}at(this,ee,!0),Ue(this,se,va).call(this,Se)}moveInDOM(){var Se;(Se=this.parent)==null||Se.moveEditorInDOM(this)}_setParentAndPosition(Se,$e,He){Se.changeParent(this),this.x=$e,this.y=He,this.fixAndSetPosition()}getRect(Se,$e){const He=this.parentScale,[_e,G]=this.pageDimensions,[X,pe]=this.pageTranslation,Pe=Se/He,Ae=$e/He,ke=this.x*_e,Oe=this.y*G,Qe=this.width*_e,ot=this.height*G;switch(this.rotation){case 0:return[ke+Pe+X,G-Oe-Ae-ot+pe,ke+Pe+Qe+X,G-Oe-Ae+pe];case 90:return[ke+Ae+X,G-Oe+Pe+pe,ke+Ae+ot+X,G-Oe+Pe+Qe+pe];case 180:return[ke-Pe-Qe+X,G-Oe+Ae+pe,ke-Pe+X,G-Oe+Ae+ot+pe];case 270:return[ke-Ae-ot+X,G-Oe-Pe-Qe+pe,ke-Ae+X,G-Oe-Pe+pe];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Se,$e){const[He,_e,G,X]=Se,pe=G-He,Pe=X-_e;switch(this.rotation){case 0:return[He,$e-X,pe,Pe];case 90:return[He,$e-_e,Pe,pe];case 180:return[G,$e-_e,pe,Pe];case 270:return[G,$e-X,Pe,pe];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){at(this,ve,!0)}disableEditMode(){at(this,ve,!1)}isInEditMode(){return V(this,ve)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Se,$e;(Se=this.div)==null||Se.addEventListener("focusin",V(this,Q)),($e=this.div)==null||$e.addEventListener("focusout",V(this,q))}serialize(Se=!1,$e=null){(0,O.unreachable)("An editor must be serializable")}static deserialize(Se,$e,He){const _e=new this.prototype.constructor({parent:$e,id:$e.getNextId(),uiManager:He});_e.rotation=Se.rotation;const[G,X]=_e.pageDimensions,[pe,Pe,Ae,ke]=_e.getRectInCurrentCoords(Se.rect,X);return _e.x=pe/G,_e.y=Pe/X,_e.width=Ae/G,_e.height=ke/X,_e}remove(){var Se;this.div.removeEventListener("focusin",V(this,Q)),this.div.removeEventListener("focusout",V(this,q)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Se=V(this,U))==null||Se.remove(),at(this,U,null),at(this,be,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ue(this,se,pa).call(this),V(this,re).classList.remove("hidden"))}select(){var Se;this.makeResizable(),(Se=this.div)==null||Se.classList.add("selectedEditor")}unselect(){var Se,$e,He;(Se=V(this,re))==null||Se.classList.add("hidden"),($e=this.div)==null||$e.classList.remove("selectedEditor"),(He=this.div)!=null&&He.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Se,$e){}disableEditing(){V(this,U)&&(V(this,U).hidden=!0)}enableEditing(){V(this,U)&&(V(this,U).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return V(this,ie)}set isEditing(Se){at(this,ie,Se),this.parent&&(Se?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Se,$e){at(this,J,!0);const He=Se/$e,{style:_e}=this.div;_e.aspectRatio=He,_e.height="auto"}static get MIN_SIZE(){return 16}};ue=new WeakMap,le=new WeakMap,U=new WeakMap,be=new WeakMap,ce=new WeakMap,J=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,ee=new WeakMap,ie=new WeakMap,ve=new WeakMap,de=new WeakMap,te=new WeakMap,se=new WeakSet,mi=function([Se,$e],He,_e){[He,_e]=this.screenToPageTranslation(He,_e),this.x+=He/Se,this.y+=_e/$e,this.fixAndSetPosition()},gi=function(){const[Se,$e]=this.parentDimensions,{_borderLineWidth:He}=Fe,_e=He/Se,G=He/$e;switch(this.rotation){case 90:return[-_e,G];case 180:return[_e,G];case 270:return[_e,-G];default:return[-_e,-G]}},oe=new WeakSet,vi=function(Se,$e,He){switch(He){case 90:return[$e,-Se];case 180:return[-Se,-$e];case 270:return[-$e,Se];default:return[Se,$e]}},bi=function(Se){switch(Se){case 90:{const[$e,He]=this.pageDimensions;return[0,-$e/He,He/$e,0]}case 180:return[-1,0,0,-1];case 270:{const[$e,He]=this.pageDimensions;return[0,$e/He,-He/$e,0]}default:return[1,0,0,1]}},pa=function(){if(V(this,re))return;at(this,re,document.createElement("div")),V(this,re).classList.add("resizers");const Se=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Se.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const $e of Se){const He=document.createElement("div");V(this,re).append(He),He.classList.add("resizer",$e),He.addEventListener("pointerdown",Ue(this,se,ma).bind(this,$e)),He.addEventListener("contextmenu",B.noContextMenu)}this.div.prepend(V(this,re))},ma=function(Se,$e){$e.preventDefault();const{isMac:He}=O.FeatureTest.platform;if($e.button!==0||$e.ctrlKey&&He)return;const _e=Ue(this,se,ga).bind(this,Se),G=this._isDraggable;this._isDraggable=!1;const X={passive:!0,capture:!0};window.addEventListener("pointermove",_e,X);const pe=this.x,Pe=this.y,Ae=this.width,ke=this.height,Oe=this.parent.div.style.cursor,Qe=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle($e.target).cursor;const ot=()=>{this._isDraggable=G,window.removeEventListener("pointerup",ot),window.removeEventListener("blur",ot),window.removeEventListener("pointermove",_e,X),this.parent.div.style.cursor=Oe,this.div.style.cursor=Qe;const st=this.x,ut=this.y,dt=this.width,mt=this.height;st===pe&&ut===Pe&&dt===Ae&&mt===ke||this.addCommands({cmd:()=>{this.width=dt,this.height=mt,this.x=st,this.y=ut;const[Ge,Xe]=this.parentDimensions;this.setDims(Ge*dt,Xe*mt),this.fixAndSetPosition()},undo:()=>{this.width=Ae,this.height=ke,this.x=pe,this.y=Pe;const[Ge,Xe]=this.parentDimensions;this.setDims(Ge*Ae,Xe*ke),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",ot),window.addEventListener("blur",ot)},ga=function(Se,$e){const[He,_e]=this.parentDimensions,G=this.x,X=this.y,pe=this.width,Pe=this.height,Ae=Fe.MIN_SIZE/He,ke=Fe.MIN_SIZE/_e,Oe=Rt=>Math.round(Rt*1e4)/1e4,Qe=Ue(this,se,bi).call(this,this.rotation),ot=(Rt,zt)=>[Qe[0]*Rt+Qe[2]*zt,Qe[1]*Rt+Qe[3]*zt],st=Ue(this,se,bi).call(this,360-this.rotation),ut=(Rt,zt)=>[st[0]*Rt+st[2]*zt,st[1]*Rt+st[3]*zt];let dt,mt,Ge=!1,Xe=!1;switch(Se){case"topLeft":Ge=!0,dt=(Rt,zt)=>[0,0],mt=(Rt,zt)=>[Rt,zt];break;case"topMiddle":dt=(Rt,zt)=>[Rt/2,0],mt=(Rt,zt)=>[Rt/2,zt];break;case"topRight":Ge=!0,dt=(Rt,zt)=>[Rt,0],mt=(Rt,zt)=>[0,zt];break;case"middleRight":Xe=!0,dt=(Rt,zt)=>[Rt,zt/2],mt=(Rt,zt)=>[0,zt/2];break;case"bottomRight":Ge=!0,dt=(Rt,zt)=>[Rt,zt],mt=(Rt,zt)=>[0,0];break;case"bottomMiddle":dt=(Rt,zt)=>[Rt/2,zt],mt=(Rt,zt)=>[Rt/2,0];break;case"bottomLeft":Ge=!0,dt=(Rt,zt)=>[0,zt],mt=(Rt,zt)=>[Rt,0];break;case"middleLeft":Xe=!0,dt=(Rt,zt)=>[0,zt/2],mt=(Rt,zt)=>[Rt,zt/2];break}const fe=dt(pe,Pe),ye=mt(pe,Pe);let je=ot(...ye);const Ke=Oe(G+je[0]),nt=Oe(X+je[1]);let pt=1,ht=1,[We,wt]=this.screenToPageTranslation($e.movementX,$e.movementY);if([We,wt]=ut(We/He,wt/_e),Ge){const Rt=Math.hypot(pe,Pe);pt=ht=Math.max(Math.min(Math.hypot(ye[0]-fe[0]-We,ye[1]-fe[1]-wt)/Rt,1/pe,1/Pe),Ae/pe,ke/Pe)}else Xe?pt=Math.max(Ae,Math.min(1,Math.abs(ye[0]-fe[0]-We)))/pe:ht=Math.max(ke,Math.min(1,Math.abs(ye[1]-fe[1]-wt)))/Pe;const St=Oe(pe*pt),Yt=Oe(Pe*ht);je=ot(...mt(St,Yt));const Ut=Ke-je[0],dn=nt-je[1];this.width=St,this.height=Yt,this.x=Ut,this.y=dn,this.setDims(He*St,_e*Yt),this.fixAndSetPosition()},_i=async function(){var He;const Se=V(this,U);if(!Se)return;if(!V(this,ue)&&!V(this,le)){Se.classList.remove("done"),(He=V(this,be))==null||He.remove();return}Fe._l10nPromise.get("editor_alt_text_edit_button_label").then(_e=>{Se.setAttribute("aria-label",_e)});let $e=V(this,be);if(!$e){at(this,be,$e=document.createElement("span")),$e.className="tooltip",$e.setAttribute("role","tooltip");const _e=$e.id=`alt-text-tooltip-${this.id}`;Se.setAttribute("aria-describedby",_e);const G=100;Se.addEventListener("mouseenter",()=>{at(this,ce,setTimeout(()=>{at(this,ce,null),V(this,be).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},G))}),Se.addEventListener("mouseleave",()=>{var X;clearTimeout(V(this,ce)),at(this,ce,null),(X=V(this,be))==null||X.classList.remove("show")})}Se.classList.add("done"),$e.innerText=V(this,le)?await Fe._l10nPromise.get("editor_alt_text_decorative_tooltip"):V(this,ue),$e.parentNode||Se.append($e)},va=function(Se){if(!this._isDraggable)return;const $e=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let He,_e;$e&&(He={passive:!0,capture:!0},_e=X=>{const[pe,Pe]=this.screenToPageTranslation(X.movementX,X.movementY);this._uiManager.dragSelectedEditors(pe,Pe)},window.addEventListener("pointermove",_e,He));const G=()=>{if(window.removeEventListener("pointerup",G),window.removeEventListener("blur",G),$e&&window.removeEventListener("pointermove",_e,He),at(this,ee,!1),!this._uiManager.endDragSession()){const{isMac:X}=O.FeatureTest.platform;Se.ctrlKey&&!X||Se.shiftKey||Se.metaKey&&X?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",G),window.addEventListener("blur",G)},it(Fe,oe),Tn(Fe,"_borderLineWidth",-1),Tn(Fe,"_colorManager",new R.ColorManager),Tn(Fe,"_zIndex",1),Tn(Fe,"SMALL_EDITOR_SIZE",0);let Y=Fe;$.AnnotationEditor=Y;class me extends Y{constructor(Se){super(Se),this.annotationElementId=Se.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(A,$,H)=>{var J,re,Q,q,ee,Ei,de,te,se,ne,ae,ba,K,ge,Ce,De,xe,Ne,Fe,qe,Se,$e,He,_e,G,X,pe,Pe,Ae,ke,Oe,Qe,ot,st,ut,dt,mt,Ge,Xe,fe,ye,je,Ke,nt,pt,ht,We,_a,yi,Si,Vr,wi,Ai,Qn,Pr,Ea,ya,Ci,kr,Pi;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=B,$.opacityToHex=Y;var R=H(1),O=H(6);function B(Gt,Te,ft){for(const Pt of ft)Te.addEventListener(Pt,Gt[Pt].bind(Gt))}function Y(Gt){return Math.round(Math.min(255,Math.max(1,255*Gt))).toString(16).padStart(2,"0")}class me{constructor(){it(this,J,0)}getId(){return`${R.AnnotationEditorPrefix}${Cr(this,J)._++}`}}J=new WeakMap;const ve=class ve{constructor(){it(this,ee);it(this,re,(0,R.getUuid)());it(this,Q,0);it(this,q,null)}static get _isSVGFittingCanvas(){const Te='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Pt=new OffscreenCanvas(1,3).getContext("2d"),Dt=new Image;Dt.src=Te;const Bt=Dt.decode().then(()=>(Pt.drawImage(Dt,0,0,1,1,0,0,1,3),new Uint32Array(Pt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,R.shadow)(this,"_isSVGFittingCanvas",Bt)}async getFromFile(Te){const{lastModified:ft,name:Pt,size:Dt,type:Bt}=Te;return Ue(this,ee,Ei).call(this,`${ft}_${Pt}_${Dt}_${Bt}`,Te)}async getFromUrl(Te){return Ue(this,ee,Ei).call(this,Te,Te)}async getFromId(Te){V(this,q)||at(this,q,new Map);const ft=V(this,q).get(Te);return ft?ft.bitmap?(ft.refCounter+=1,ft):ft.file?this.getFromFile(ft.file):this.getFromUrl(ft.url):null}getSvgUrl(Te){const ft=V(this,q).get(Te);return ft!=null&&ft.isSvg?ft.svgUrl:null}deleteId(Te){V(this,q)||at(this,q,new Map);const ft=V(this,q).get(Te);ft&&(ft.refCounter-=1,ft.refCounter===0&&(ft.bitmap=null))}isValidId(Te){return Te.startsWith(`image_${V(this,re)}_`)}};re=new WeakMap,Q=new WeakMap,q=new WeakMap,ee=new WeakSet,Ei=async function(Te,ft){V(this,q)||at(this,q,new Map);let Pt=V(this,q).get(Te);if(Pt===null)return null;if(Pt!=null&&Pt.bitmap)return Pt.refCounter+=1,Pt;try{Pt||(Pt={bitmap:null,id:`image_${V(this,re)}_${Cr(this,Q)._++}`,refCounter:0,isSvg:!1});let Dt;if(typeof ft=="string"){Pt.url=ft;const Bt=await fetch(ft);if(!Bt.ok)throw new Error(Bt.statusText);Dt=await Bt.blob()}else Dt=Pt.file=ft;if(Dt.type==="image/svg+xml"){const Bt=ve._isSVGFittingCanvas,$t=new FileReader,Me=new Image,we=new Promise((ze,ct)=>{Me.onload=()=>{Pt.bitmap=Me,Pt.isSvg=!0,ze()},$t.onload=async()=>{const lt=Pt.svgUrl=$t.result;Me.src=await Bt?`${lt}#svgView(preserveAspectRatio(none))`:lt},Me.onerror=$t.onerror=ct});$t.readAsDataURL(Dt),await we}else Pt.bitmap=await createImageBitmap(Dt);Pt.refCounter=1}catch(Dt){console.error(Dt),Pt=null}return V(this,q).set(Te,Pt),Pt&&V(this,q).set(Pt.id,Pt),Pt};let ue=ve;class le{constructor(Te=128){it(this,de,[]);it(this,te,!1);it(this,se);it(this,ne,-1);at(this,se,Te)}add({cmd:Te,undo:ft,mustExec:Pt,type:Dt=NaN,overwriteIfSameType:Bt=!1,keepUndo:$t=!1}){if(Pt&&Te(),V(this,te))return;const Me={cmd:Te,undo:ft,type:Dt};if(V(this,ne)===-1){V(this,de).length>0&&(V(this,de).length=0),at(this,ne,0),V(this,de).push(Me);return}if(Bt&&V(this,de)[V(this,ne)].type===Dt){$t&&(Me.undo=V(this,de)[V(this,ne)].undo),V(this,de)[V(this,ne)]=Me;return}const we=V(this,ne)+1;we===V(this,se)?V(this,de).splice(0,1):(at(this,ne,we),we<V(this,de).length&&V(this,de).splice(we)),V(this,de).push(Me)}undo(){V(this,ne)!==-1&&(at(this,te,!0),V(this,de)[V(this,ne)].undo(),at(this,te,!1),at(this,ne,V(this,ne)-1))}redo(){V(this,ne)<V(this,de).length-1&&(at(this,ne,V(this,ne)+1),at(this,te,!0),V(this,de)[V(this,ne)].cmd(),at(this,te,!1))}hasSomethingToUndo(){return V(this,ne)!==-1}hasSomethingToRedo(){return V(this,ne)<V(this,de).length-1}destroy(){at(this,de,null)}}de=new WeakMap,te=new WeakMap,se=new WeakMap,ne=new WeakMap,$.CommandManager=le;class U{constructor(Te){it(this,ae);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:ft}=R.FeatureTest.platform;for(const[Pt,Dt,Bt={}]of Te)for(const $t of Pt){const Me=$t.startsWith("mac+");ft&&Me?(this.callbacks.set($t.slice(4),{callback:Dt,options:Bt}),this.allKeys.add($t.split("+").at(-1))):!ft&&!Me&&(this.callbacks.set($t,{callback:Dt,options:Bt}),this.allKeys.add($t.split("+").at(-1)))}}exec(Te,ft){if(!this.allKeys.has(ft.key))return;const Pt=this.callbacks.get(Ue(this,ae,ba).call(this,ft));if(!Pt)return;const{callback:Dt,options:{bubbles:Bt=!1,args:$t=[],checker:Me=null}}=Pt;Me&&!Me(Te,ft)||(Dt.bind(Te,...$t)(),Bt||(ft.stopPropagation(),ft.preventDefault()))}}ae=new WeakSet,ba=function(Te){Te.altKey&&this.buffer.push("alt"),Te.ctrlKey&&this.buffer.push("ctrl"),Te.metaKey&&this.buffer.push("meta"),Te.shiftKey&&this.buffer.push("shift"),this.buffer.push(Te.key);const ft=this.buffer.join("+");return this.buffer.length=0,ft},$.KeyboardManager=U;const Ee=class Ee{get _colors(){const Te=new Map([["CanvasText",null],["Canvas",null]]);return(0,O.getColorValues)(Te),(0,R.shadow)(this,"_colors",Te)}convert(Te){const ft=(0,O.getRGB)(Te);if(!window.matchMedia("(forced-colors: active)").matches)return ft;for(const[Pt,Dt]of this._colors)if(Dt.every((Bt,$t)=>Bt===ft[$t]))return Ee._colorsMapping.get(Pt);return ft}getHexCode(Te){const ft=this._colors.get(Te);return ft?R.Util.makeHexColor(...ft):Te}};Tn(Ee,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let be=Ee;$.ColorManager=be;const It=class It{constructor(Te,ft,Pt,Dt,Bt,$t){it(this,We);it(this,K,null);it(this,ge,new Map);it(this,Ce,new Map);it(this,De,null);it(this,xe,null);it(this,Ne,new le);it(this,Fe,0);it(this,qe,new Set);it(this,Se,null);it(this,$e,null);it(this,He,new Set);it(this,_e,null);it(this,G,new me);it(this,X,!1);it(this,pe,!1);it(this,Pe,null);it(this,Ae,R.AnnotationEditorType.NONE);it(this,ke,new Set);it(this,Oe,null);it(this,Qe,this.blur.bind(this));it(this,ot,this.focus.bind(this));it(this,st,this.copy.bind(this));it(this,ut,this.cut.bind(this));it(this,dt,this.paste.bind(this));it(this,mt,this.keydown.bind(this));it(this,Ge,this.onEditingAction.bind(this));it(this,Xe,this.onPageChanging.bind(this));it(this,fe,this.onScaleChanging.bind(this));it(this,ye,this.onRotationChanging.bind(this));it(this,je,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});it(this,Ke,[0,0]);it(this,nt,null);it(this,pt,null);it(this,ht,null);at(this,pt,Te),at(this,ht,ft),at(this,De,Pt),this._eventBus=Dt,this._eventBus._on("editingaction",V(this,Ge)),this._eventBus._on("pagechanging",V(this,Xe)),this._eventBus._on("scalechanging",V(this,fe)),this._eventBus._on("rotationchanging",V(this,ye)),at(this,xe,Bt.annotationStorage),at(this,_e,Bt.filterFactory),at(this,Oe,$t),this.viewParameters={realScale:O.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Te=It.prototype,ft=Bt=>{const{activeElement:$t}=document;return $t&&V(Bt,pt).contains($t)&&Bt.hasSomethingToControl()},Pt=this.TRANSLATE_SMALL,Dt=this.TRANSLATE_BIG;return(0,R.shadow)(this,"_keyboardManager",new U([[["ctrl+a","mac+meta+a"],Te.selectAll],[["ctrl+z","mac+meta+z"],Te.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Te.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Te.delete],[["Escape","mac+Escape"],Te.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Te.translateSelectedEditors,{args:[-Pt,0],checker:ft}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Te.translateSelectedEditors,{args:[-Dt,0],checker:ft}],[["ArrowRight","mac+ArrowRight"],Te.translateSelectedEditors,{args:[Pt,0],checker:ft}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Te.translateSelectedEditors,{args:[Dt,0],checker:ft}],[["ArrowUp","mac+ArrowUp"],Te.translateSelectedEditors,{args:[0,-Pt],checker:ft}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Te.translateSelectedEditors,{args:[0,-Dt],checker:ft}],[["ArrowDown","mac+ArrowDown"],Te.translateSelectedEditors,{args:[0,Pt],checker:ft}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Te.translateSelectedEditors,{args:[0,Dt],checker:ft}]]))}destroy(){Ue(this,We,Vr).call(this),Ue(this,We,yi).call(this),this._eventBus._off("editingaction",V(this,Ge)),this._eventBus._off("pagechanging",V(this,Xe)),this._eventBus._off("scalechanging",V(this,fe)),this._eventBus._off("rotationchanging",V(this,ye));for(const Te of V(this,Ce).values())Te.destroy();V(this,Ce).clear(),V(this,ge).clear(),V(this,He).clear(),at(this,K,null),V(this,ke).clear(),V(this,Ne).destroy(),V(this,De).destroy()}get hcmFilter(){return(0,R.shadow)(this,"hcmFilter",V(this,Oe)?V(this,_e).addHCMFilter(V(this,Oe).foreground,V(this,Oe).background):"none")}get direction(){return(0,R.shadow)(this,"direction",getComputedStyle(V(this,pt)).direction)}editAltText(Te){var ft;(ft=V(this,De))==null||ft.editAltText(this,Te)}onPageChanging({pageNumber:Te}){at(this,Fe,Te-1)}focusMainContainer(){V(this,pt).focus()}findParent(Te,ft){for(const Pt of V(this,Ce).values()){const{x:Dt,y:Bt,width:$t,height:Me}=Pt.div.getBoundingClientRect();if(Te>=Dt&&Te<=Dt+$t&&ft>=Bt&&ft<=Bt+Me)return Pt}return null}disableUserSelect(Te=!1){V(this,ht).classList.toggle("noUserSelect",Te)}addShouldRescale(Te){V(this,He).add(Te)}removeShouldRescale(Te){V(this,He).delete(Te)}onScaleChanging({scale:Te}){this.commitOrRemove(),this.viewParameters.realScale=Te*O.PixelsPerInch.PDF_TO_CSS_UNITS;for(const ft of V(this,He))ft.onScaleChanging()}onRotationChanging({pagesRotation:Te}){this.commitOrRemove(),this.viewParameters.rotation=Te}addToAnnotationStorage(Te){!Te.isEmpty()&&V(this,xe)&&!V(this,xe).has(Te.id)&&V(this,xe).setValue(Te.id,Te)}blur(){if(!this.hasSelection)return;const{activeElement:Te}=document;for(const ft of V(this,ke))if(ft.div.contains(Te)){at(this,Pe,[ft,Te]),ft._focusEventsAllowed=!1;break}}focus(){if(!V(this,Pe))return;const[Te,ft]=V(this,Pe);at(this,Pe,null),ft.addEventListener("focusin",()=>{Te._focusEventsAllowed=!0},{once:!0}),ft.focus()}addEditListeners(){Ue(this,We,Si).call(this),Ue(this,We,wi).call(this)}removeEditListeners(){Ue(this,We,Vr).call(this),Ue(this,We,Ai).call(this)}copy(Te){var Pt;if(Te.preventDefault(),(Pt=V(this,K))==null||Pt.commitOrRemove(),!this.hasSelection)return;const ft=[];for(const Dt of V(this,ke)){const Bt=Dt.serialize(!0);Bt&&ft.push(Bt)}ft.length!==0&&Te.clipboardData.setData("application/pdfjs",JSON.stringify(ft))}cut(Te){this.copy(Te),this.delete()}paste(Te){Te.preventDefault();const{clipboardData:ft}=Te;for(const Bt of ft.items)for(const $t of V(this,$e))if($t.isHandlingMimeForPasting(Bt.type)){$t.paste(Bt,this.currentLayer);return}let Pt=ft.getData("application/pdfjs");if(!Pt)return;try{Pt=JSON.parse(Pt)}catch(Bt){(0,R.warn)(`paste: "${Bt.message}".`);return}if(!Array.isArray(Pt))return;this.unselectAll();const Dt=this.currentLayer;try{const Bt=[];for(const we of Pt){const ze=Dt.deserialize(we);if(!ze)return;Bt.push(ze)}const $t=()=>{for(const we of Bt)Ue(this,We,Ci).call(this,we);Ue(this,We,Pi).call(this,Bt)},Me=()=>{for(const we of Bt)we.remove()};this.addCommands({cmd:$t,undo:Me,mustExec:!0})}catch(Bt){(0,R.warn)(`paste: "${Bt.message}".`)}}keydown(Te){var ft;(ft=this.getActive())!=null&&ft.shouldGetKeyboardEvents()||It._keyboardManager.exec(this,Te)}onEditingAction(Te){["undo","redo","delete","selectAll"].includes(Te.name)&&this[Te.name]()}setEditingState(Te){Te?(Ue(this,We,_a).call(this),Ue(this,We,Si).call(this),Ue(this,We,wi).call(this),Ue(this,We,Qn).call(this,{isEditing:V(this,Ae)!==R.AnnotationEditorType.NONE,isEmpty:Ue(this,We,kr).call(this),hasSomethingToUndo:V(this,Ne).hasSomethingToUndo(),hasSomethingToRedo:V(this,Ne).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ue(this,We,yi).call(this),Ue(this,We,Vr).call(this),Ue(this,We,Ai).call(this),Ue(this,We,Qn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Te){if(!V(this,$e)){at(this,$e,Te);for(const ft of V(this,$e))Ue(this,We,Pr).call(this,ft.defaultPropertiesToUpdate)}}getId(){return V(this,G).getId()}get currentLayer(){return V(this,Ce).get(V(this,Fe))}getLayer(Te){return V(this,Ce).get(Te)}get currentPageIndex(){return V(this,Fe)}addLayer(Te){V(this,Ce).set(Te.pageIndex,Te),V(this,X)?Te.enable():Te.disable()}removeLayer(Te){V(this,Ce).delete(Te.pageIndex)}updateMode(Te,ft=null){if(V(this,Ae)!==Te){if(at(this,Ae,Te),Te===R.AnnotationEditorType.NONE){this.setEditingState(!1),Ue(this,We,ya).call(this);return}this.setEditingState(!0),Ue(this,We,Ea).call(this),this.unselectAll();for(const Pt of V(this,Ce).values())Pt.updateMode(Te);if(ft){for(const Pt of V(this,ge).values())if(Pt.annotationElementId===ft){this.setSelected(Pt),Pt.enterInEditMode();break}}}}updateToolbar(Te){Te!==V(this,Ae)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Te})}updateParams(Te,ft){if(V(this,$e)){if(Te===R.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Te);return}for(const Pt of V(this,ke))Pt.updateParams(Te,ft);for(const Pt of V(this,$e))Pt.updateDefaultParams(Te,ft)}}enableWaiting(Te=!1){if(V(this,pe)!==Te){at(this,pe,Te);for(const ft of V(this,Ce).values())Te?ft.disableClick():ft.enableClick(),ft.div.classList.toggle("waiting",Te)}}getEditors(Te){const ft=[];for(const Pt of V(this,ge).values())Pt.pageIndex===Te&&ft.push(Pt);return ft}getEditor(Te){return V(this,ge).get(Te)}addEditor(Te){V(this,ge).set(Te.id,Te)}removeEditor(Te){var ft;V(this,ge).delete(Te.id),this.unselect(Te),(!Te.annotationElementId||!V(this,qe).has(Te.annotationElementId))&&((ft=V(this,xe))==null||ft.remove(Te.id))}addDeletedAnnotationElement(Te){V(this,qe).add(Te.annotationElementId),Te.deleted=!0}isDeletedAnnotationElement(Te){return V(this,qe).has(Te)}removeDeletedAnnotationElement(Te){V(this,qe).delete(Te.annotationElementId),Te.deleted=!1}setActiveEditor(Te){V(this,K)!==Te&&(at(this,K,Te),Te&&Ue(this,We,Pr).call(this,Te.propertiesToUpdate))}toggleSelected(Te){if(V(this,ke).has(Te)){V(this,ke).delete(Te),Te.unselect(),Ue(this,We,Qn).call(this,{hasSelectedEditor:this.hasSelection});return}V(this,ke).add(Te),Te.select(),Ue(this,We,Pr).call(this,Te.propertiesToUpdate),Ue(this,We,Qn).call(this,{hasSelectedEditor:!0})}setSelected(Te){for(const ft of V(this,ke))ft!==Te&&ft.unselect();V(this,ke).clear(),V(this,ke).add(Te),Te.select(),Ue(this,We,Pr).call(this,Te.propertiesToUpdate),Ue(this,We,Qn).call(this,{hasSelectedEditor:!0})}isSelected(Te){return V(this,ke).has(Te)}unselect(Te){Te.unselect(),V(this,ke).delete(Te),Ue(this,We,Qn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return V(this,ke).size!==0}undo(){V(this,Ne).undo(),Ue(this,We,Qn).call(this,{hasSomethingToUndo:V(this,Ne).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ue(this,We,kr).call(this)})}redo(){V(this,Ne).redo(),Ue(this,We,Qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:V(this,Ne).hasSomethingToRedo(),isEmpty:Ue(this,We,kr).call(this)})}addCommands(Te){V(this,Ne).add(Te),Ue(this,We,Qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ue(this,We,kr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Te=[...V(this,ke)],ft=()=>{for(const Dt of Te)Dt.remove()},Pt=()=>{for(const Dt of Te)Ue(this,We,Ci).call(this,Dt)};this.addCommands({cmd:ft,undo:Pt,mustExec:!0})}commitOrRemove(){var Te;(Te=V(this,K))==null||Te.commitOrRemove()}hasSomethingToControl(){return V(this,K)||this.hasSelection}selectAll(){for(const Te of V(this,ke))Te.commit();Ue(this,We,Pi).call(this,V(this,ge).values())}unselectAll(){if(V(this,K)){V(this,K).commitOrRemove();return}if(this.hasSelection){for(const Te of V(this,ke))Te.unselect();V(this,ke).clear(),Ue(this,We,Qn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Te,ft,Pt=!1){if(Pt||this.commitOrRemove(),!this.hasSelection)return;V(this,Ke)[0]+=Te,V(this,Ke)[1]+=ft;const[Dt,Bt]=V(this,Ke),$t=[...V(this,ke)],Me=1e3;V(this,nt)&&clearTimeout(V(this,nt)),at(this,nt,setTimeout(()=>{at(this,nt,null),V(this,Ke)[0]=V(this,Ke)[1]=0,this.addCommands({cmd:()=>{for(const we of $t)V(this,ge).has(we.id)&&we.translateInPage(Dt,Bt)},undo:()=>{for(const we of $t)V(this,ge).has(we.id)&&we.translateInPage(-Dt,-Bt)},mustExec:!1})},Me));for(const we of $t)we.translateInPage(Te,ft)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),at(this,Se,new Map);for(const Te of V(this,ke))V(this,Se).set(Te,{savedX:Te.x,savedY:Te.y,savedPageIndex:Te.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!V(this,Se))return!1;this.disableUserSelect(!1);const Te=V(this,Se);at(this,Se,null);let ft=!1;for(const[{x:Dt,y:Bt,pageIndex:$t},Me]of Te)Me.newX=Dt,Me.newY=Bt,Me.newPageIndex=$t,ft||(ft=Dt!==Me.savedX||Bt!==Me.savedY||$t!==Me.savedPageIndex);if(!ft)return!1;const Pt=(Dt,Bt,$t,Me)=>{if(V(this,ge).has(Dt.id)){const we=V(this,Ce).get(Me);we?Dt._setParentAndPosition(we,Bt,$t):(Dt.pageIndex=Me,Dt.x=Bt,Dt.y=$t)}};return this.addCommands({cmd:()=>{for(const[Dt,{newX:Bt,newY:$t,newPageIndex:Me}]of Te)Pt(Dt,Bt,$t,Me)},undo:()=>{for(const[Dt,{savedX:Bt,savedY:$t,savedPageIndex:Me}]of Te)Pt(Dt,Bt,$t,Me)},mustExec:!0}),!0}dragSelectedEditors(Te,ft){if(V(this,Se))for(const Pt of V(this,Se).keys())Pt.drag(Te,ft)}rebuild(Te){if(Te.parent===null){const ft=this.getLayer(Te.pageIndex);ft?(ft.changeParent(Te),ft.addOrRebuild(Te)):(this.addEditor(Te),this.addToAnnotationStorage(Te),Te.rebuild())}else Te.parent.addOrRebuild(Te)}isActive(Te){return V(this,K)===Te}getActive(){return V(this,K)}getMode(){return V(this,Ae)}get imageManager(){return(0,R.shadow)(this,"imageManager",new ue)}};K=new WeakMap,ge=new WeakMap,Ce=new WeakMap,De=new WeakMap,xe=new WeakMap,Ne=new WeakMap,Fe=new WeakMap,qe=new WeakMap,Se=new WeakMap,$e=new WeakMap,He=new WeakMap,_e=new WeakMap,G=new WeakMap,X=new WeakMap,pe=new WeakMap,Pe=new WeakMap,Ae=new WeakMap,ke=new WeakMap,Oe=new WeakMap,Qe=new WeakMap,ot=new WeakMap,st=new WeakMap,ut=new WeakMap,dt=new WeakMap,mt=new WeakMap,Ge=new WeakMap,Xe=new WeakMap,fe=new WeakMap,ye=new WeakMap,je=new WeakMap,Ke=new WeakMap,nt=new WeakMap,pt=new WeakMap,ht=new WeakMap,We=new WeakSet,_a=function(){window.addEventListener("focus",V(this,ot)),window.addEventListener("blur",V(this,Qe))},yi=function(){window.removeEventListener("focus",V(this,ot)),window.removeEventListener("blur",V(this,Qe))},Si=function(){window.addEventListener("keydown",V(this,mt),{capture:!0})},Vr=function(){window.removeEventListener("keydown",V(this,mt),{capture:!0})},wi=function(){document.addEventListener("copy",V(this,st)),document.addEventListener("cut",V(this,ut)),document.addEventListener("paste",V(this,dt))},Ai=function(){document.removeEventListener("copy",V(this,st)),document.removeEventListener("cut",V(this,ut)),document.removeEventListener("paste",V(this,dt))},Qn=function(Te){Object.entries(Te).some(([Pt,Dt])=>V(this,je)[Pt]!==Dt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(V(this,je),Te)})},Pr=function(Te){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Te})},Ea=function(){if(!V(this,X)){at(this,X,!0);for(const Te of V(this,Ce).values())Te.enable()}},ya=function(){if(this.unselectAll(),V(this,X)){at(this,X,!1);for(const Te of V(this,Ce).values())Te.disable()}},Ci=function(Te){const ft=V(this,Ce).get(Te.pageIndex);ft?ft.addOrRebuild(Te):this.addEditor(Te)},kr=function(){if(V(this,ge).size===0)return!0;if(V(this,ge).size===1)for(const Te of V(this,ge).values())return Te.isEmpty();return!1},Pi=function(Te){V(this,ke).clear();for(const ft of Te)ft.isEmpty()||(V(this,ke).add(ft),ft.select());Ue(this,We,Qn).call(this,{hasSelectedEditor:!0})},Tn(It,"TRANSLATE_SMALL",1),Tn(It,"TRANSLATE_BIG",10);let ce=It;$.AnnotationEditorUIManager=ce},(A,$,H)=>{var Fe,qe,Se,$e,He,_e,G,X,pe,Pe,Ae,ke,_r,Er,ki,Wr,Ur,Mr,xr;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=ne,$.getColorValues=ge,$.getCurrentTransform=Ce,$.getCurrentTransformInverse=De,$.getFilenameFromUrl=ee,$.getPdfFilenameFromUrl=ie,$.getRGB=K,$.getXfaPageViewport=Ee,$.isDataScheme=Q,$.isPdfFile=q,$.isValidFetchUrl=de,$.loadScript=se,$.noContextMenu=te,$.setLayerDimensions=xe;var R=H(7),O=H(1);const B="http://www.w3.org/2000/svg",Ne=class Ne{};Tn(Ne,"CSS",96),Tn(Ne,"PDF",72),Tn(Ne,"PDF_TO_CSS_UNITS",Ne.CSS/Ne.PDF);let Y=Ne;$.PixelsPerInch=Y;class me extends R.BaseFilterFactory{constructor({docId:fe,ownerDocument:ye=globalThis.document}={}){super();it(this,ke);it(this,Fe);it(this,qe);it(this,Se);it(this,$e);it(this,He);it(this,_e);it(this,G);it(this,X);it(this,pe);it(this,Pe);it(this,Ae,0);at(this,Se,fe),at(this,$e,ye)}addFilter(fe){if(!fe)return"none";let ye=V(this,ke,_r).get(fe);if(ye)return ye;let je,Ke,nt,pt;if(fe.length===1){const St=fe[0],Yt=new Array(256);for(let Ut=0;Ut<256;Ut++)Yt[Ut]=St[Ut]/255;pt=je=Ke=nt=Yt.join(",")}else{const[St,Yt,Ut]=fe,dn=new Array(256),Rt=new Array(256),zt=new Array(256);for(let an=0;an<256;an++)dn[an]=St[an]/255,Rt[an]=Yt[an]/255,zt[an]=Ut[an]/255;je=dn.join(","),Ke=Rt.join(","),nt=zt.join(","),pt=`${je}${Ke}${nt}`}if(ye=V(this,ke,_r).get(pt),ye)return V(this,ke,_r).set(fe,ye),ye;const ht=`g_${V(this,Se)}_transfer_map_${Cr(this,Ae)._++}`,We=`url(#${ht})`;V(this,ke,_r).set(fe,We),V(this,ke,_r).set(pt,We);const wt=Ue(this,ke,Wr).call(this,ht);return Ue(this,ke,Mr).call(this,je,Ke,nt,wt),We}addHCMFilter(fe,ye){var Yt;const je=`${fe}-${ye}`;if(V(this,_e)===je)return V(this,G);if(at(this,_e,je),at(this,G,"none"),(Yt=V(this,He))==null||Yt.remove(),!fe||!ye)return V(this,G);const Ke=Ue(this,ke,xr).call(this,fe);fe=O.Util.makeHexColor(...Ke);const nt=Ue(this,ke,xr).call(this,ye);if(ye=O.Util.makeHexColor(...nt),V(this,ke,Er).style.color="",fe==="#000000"&&ye==="#ffffff"||fe===ye)return V(this,G);const pt=new Array(256);for(let Ut=0;Ut<=255;Ut++){const dn=Ut/255;pt[Ut]=dn<=.03928?dn/12.92:((dn+.055)/1.055)**2.4}const ht=pt.join(","),We=`g_${V(this,Se)}_hcm_filter`,wt=at(this,X,Ue(this,ke,Wr).call(this,We));Ue(this,ke,Mr).call(this,ht,ht,ht,wt),Ue(this,ke,ki).call(this,wt);const St=(Ut,dn)=>{const Rt=Ke[Ut]/255,zt=nt[Ut]/255,an=new Array(dn+1);for(let _n=0;_n<=dn;_n++)an[_n]=Rt+_n/dn*(zt-Rt);return an.join(",")};return Ue(this,ke,Mr).call(this,St(0,5),St(1,5),St(2,5),wt),at(this,G,`url(#${We})`),V(this,G)}addHighlightHCMFilter(fe,ye,je,Ke){var zt;const nt=`${fe}-${ye}-${je}-${Ke}`;if(V(this,pe)===nt)return V(this,Pe);if(at(this,pe,nt),at(this,Pe,"none"),(zt=V(this,X))==null||zt.remove(),!fe||!ye)return V(this,Pe);const[pt,ht]=[fe,ye].map(Ue(this,ke,xr).bind(this));let We=Math.round(.2126*pt[0]+.7152*pt[1]+.0722*pt[2]),wt=Math.round(.2126*ht[0]+.7152*ht[1]+.0722*ht[2]),[St,Yt]=[je,Ke].map(Ue(this,ke,xr).bind(this));wt<We&&([We,wt,St,Yt]=[wt,We,Yt,St]),V(this,ke,Er).style.color="";const Ut=(an,_n,gt)=>{const Ye=new Array(256),Je=(wt-We)/gt,Tt=an/255,It=(_n-an)/(255*gt);let Gt=0;for(let Te=0;Te<=gt;Te++){const ft=Math.round(We+Te*Je),Pt=Tt+Te*It;for(let Dt=Gt;Dt<=ft;Dt++)Ye[Dt]=Pt;Gt=ft+1}for(let Te=Gt;Te<256;Te++)Ye[Te]=Ye[Gt-1];return Ye.join(",")},dn=`g_${V(this,Se)}_hcm_highlight_filter`,Rt=at(this,X,Ue(this,ke,Wr).call(this,dn));return Ue(this,ke,ki).call(this,Rt),Ue(this,ke,Mr).call(this,Ut(St[0],Yt[0],5),Ut(St[1],Yt[1],5),Ut(St[2],Yt[2],5),Rt),at(this,Pe,`url(#${dn})`),V(this,Pe)}destroy(fe=!1){fe&&(V(this,G)||V(this,Pe))||(V(this,qe)&&(V(this,qe).parentNode.parentNode.remove(),at(this,qe,null)),V(this,Fe)&&(V(this,Fe).clear(),at(this,Fe,null)),at(this,Ae,0))}}Fe=new WeakMap,qe=new WeakMap,Se=new WeakMap,$e=new WeakMap,He=new WeakMap,_e=new WeakMap,G=new WeakMap,X=new WeakMap,pe=new WeakMap,Pe=new WeakMap,Ae=new WeakMap,ke=new WeakSet,_r=function(){return V(this,Fe)||at(this,Fe,new Map)},Er=function(){if(!V(this,qe)){const fe=V(this,$e).createElement("div"),{style:ye}=fe;ye.visibility="hidden",ye.contain="strict",ye.width=ye.height=0,ye.position="absolute",ye.top=ye.left=0,ye.zIndex=-1;const je=V(this,$e).createElementNS(B,"svg");je.setAttribute("width",0),je.setAttribute("height",0),at(this,qe,V(this,$e).createElementNS(B,"defs")),fe.append(je),je.append(V(this,qe)),V(this,$e).body.append(fe)}return V(this,qe)},ki=function(fe){const ye=V(this,$e).createElementNS(B,"feColorMatrix");ye.setAttribute("type","matrix"),ye.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),fe.append(ye)},Wr=function(fe){const ye=V(this,$e).createElementNS(B,"filter");return ye.setAttribute("color-interpolation-filters","sRGB"),ye.setAttribute("id",fe),V(this,ke,Er).append(ye),ye},Ur=function(fe,ye,je){const Ke=V(this,$e).createElementNS(B,ye);Ke.setAttribute("type","discrete"),Ke.setAttribute("tableValues",je),fe.append(Ke)},Mr=function(fe,ye,je,Ke){const nt=V(this,$e).createElementNS(B,"feComponentTransfer");Ke.append(nt),Ue(this,ke,Ur).call(this,nt,"feFuncR",fe),Ue(this,ke,Ur).call(this,nt,"feFuncG",ye),Ue(this,ke,Ur).call(this,nt,"feFuncB",je)},xr=function(fe){return V(this,ke,Er).style.color=fe,K(getComputedStyle(V(this,ke,Er)).getPropertyValue("color"))},$.DOMFilterFactory=me;class ue extends R.BaseCanvasFactory{constructor({ownerDocument:Xe=globalThis.document}={}){super(),this._document=Xe}_createCanvas(Xe,fe){const ye=this._document.createElement("canvas");return ye.width=Xe,ye.height=fe,ye}}$.DOMCanvasFactory=ue;async function le(Ge,Xe=!1){if(de(Ge,document.baseURI)){const fe=await fetch(Ge);if(!fe.ok)throw new Error(fe.statusText);return Xe?new Uint8Array(await fe.arrayBuffer()):(0,O.stringToBytes)(await fe.text())}return new Promise((fe,ye)=>{const je=new XMLHttpRequest;je.open("GET",Ge,!0),Xe&&(je.responseType="arraybuffer"),je.onreadystatechange=()=>{if(je.readyState===XMLHttpRequest.DONE){if(je.status===200||je.status===0){let Ke;if(Xe&&je.response?Ke=new Uint8Array(je.response):!Xe&&je.responseText&&(Ke=(0,O.stringToBytes)(je.responseText)),Ke){fe(Ke);return}}ye(new Error(je.statusText))}},je.send(null)})}class U extends R.BaseCMapReaderFactory{_fetchData(Xe,fe){return le(Xe,this.isCompressed).then(ye=>({cMapData:ye,compressionType:fe}))}}$.DOMCMapReaderFactory=U;class be extends R.BaseStandardFontDataFactory{_fetchData(Xe){return le(Xe,!0)}}$.DOMStandardFontDataFactory=be;class ce extends R.BaseSVGFactory{_createSVG(Xe){return document.createElementNS(B,Xe)}}$.DOMSVGFactory=ce;class J{constructor({viewBox:Xe,scale:fe,rotation:ye,offsetX:je=0,offsetY:Ke=0,dontFlip:nt=!1}){this.viewBox=Xe,this.scale=fe,this.rotation=ye,this.offsetX=je,this.offsetY=Ke;const pt=(Xe[2]+Xe[0])/2,ht=(Xe[3]+Xe[1])/2;let We,wt,St,Yt;switch(ye%=360,ye<0&&(ye+=360),ye){case 180:We=-1,wt=0,St=0,Yt=1;break;case 90:We=0,wt=1,St=1,Yt=0;break;case 270:We=0,wt=-1,St=-1,Yt=0;break;case 0:We=1,wt=0,St=0,Yt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}nt&&(St=-St,Yt=-Yt);let Ut,dn,Rt,zt;We===0?(Ut=Math.abs(ht-Xe[1])*fe+je,dn=Math.abs(pt-Xe[0])*fe+Ke,Rt=(Xe[3]-Xe[1])*fe,zt=(Xe[2]-Xe[0])*fe):(Ut=Math.abs(pt-Xe[0])*fe+je,dn=Math.abs(ht-Xe[1])*fe+Ke,Rt=(Xe[2]-Xe[0])*fe,zt=(Xe[3]-Xe[1])*fe),this.transform=[We*fe,wt*fe,St*fe,Yt*fe,Ut-We*fe*pt-St*fe*ht,dn-wt*fe*pt-Yt*fe*ht],this.width=Rt,this.height=zt}get rawDims(){const{viewBox:Xe}=this;return(0,O.shadow)(this,"rawDims",{pageWidth:Xe[2]-Xe[0],pageHeight:Xe[3]-Xe[1],pageX:Xe[0],pageY:Xe[1]})}clone({scale:Xe=this.scale,rotation:fe=this.rotation,offsetX:ye=this.offsetX,offsetY:je=this.offsetY,dontFlip:Ke=!1}={}){return new J({viewBox:this.viewBox.slice(),scale:Xe,rotation:fe,offsetX:ye,offsetY:je,dontFlip:Ke})}convertToViewportPoint(Xe,fe){return O.Util.applyTransform([Xe,fe],this.transform)}convertToViewportRectangle(Xe){const fe=O.Util.applyTransform([Xe[0],Xe[1]],this.transform),ye=O.Util.applyTransform([Xe[2],Xe[3]],this.transform);return[fe[0],fe[1],ye[0],ye[1]]}convertToPdfPoint(Xe,fe){return O.Util.applyInverseTransform([Xe,fe],this.transform)}}$.PageViewport=J;class re extends O.BaseException{constructor(Xe,fe=0){super(Xe,"RenderingCancelledException"),this.extraDelay=fe}}$.RenderingCancelledException=re;function Q(Ge){const Xe=Ge.length;let fe=0;for(;fe<Xe&&Ge[fe].trim()==="";)fe++;return Ge.substring(fe,fe+5).toLowerCase()==="data:"}function q(Ge){return typeof Ge=="string"&&/\.pdf$/i.test(Ge)}function ee(Ge,Xe=!1){return Xe||([Ge]=Ge.split(/[#?]/,1)),Ge.substring(Ge.lastIndexOf("/")+1)}function ie(Ge,Xe="document.pdf"){if(typeof Ge!="string")return Xe;if(Q(Ge))return(0,O.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Xe;const fe=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ye=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,je=fe.exec(Ge);let Ke=ye.exec(je[1])||ye.exec(je[2])||ye.exec(je[3]);if(Ke&&(Ke=Ke[0],Ke.includes("%")))try{Ke=ye.exec(decodeURIComponent(Ke))[0]}catch{}return Ke||Xe}class ve{constructor(){Tn(this,"started",Object.create(null));Tn(this,"times",[])}time(Xe){Xe in this.started&&(0,O.warn)(`Timer is already running for ${Xe}`),this.started[Xe]=Date.now()}timeEnd(Xe){Xe in this.started||(0,O.warn)(`Timer has not been started for ${Xe}`),this.times.push({name:Xe,start:this.started[Xe],end:Date.now()}),delete this.started[Xe]}toString(){const Xe=[];let fe=0;for(const{name:ye}of this.times)fe=Math.max(ye.length,fe);for(const{name:ye,start:je,end:Ke}of this.times)Xe.push(`${ye.padEnd(fe)} ${Ke-je}ms
`);return Xe.join("")}}$.StatTimer=ve;function de(Ge,Xe){try{const{protocol:fe}=Xe?new URL(Ge,Xe):new URL(Ge);return fe==="http:"||fe==="https:"}catch{return!1}}function te(Ge){Ge.preventDefault()}function se(Ge,Xe=!1){return new Promise((fe,ye)=>{const je=document.createElement("script");je.src=Ge,je.onload=function(Ke){Xe&&je.remove(),fe(Ke)},je.onerror=function(){ye(new Error(`Cannot load script at: ${je.src}`))},(document.head||document.documentElement).append(je)})}function ne(Ge){console.log("Deprecated API usage: "+Ge)}let ae;class oe{static toDateObject(Xe){if(!Xe||typeof Xe!="string")return null;ae||(ae=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const fe=ae.exec(Xe);if(!fe)return null;const ye=parseInt(fe[1],10);let je=parseInt(fe[2],10);je=je>=1&&je<=12?je-1:0;let Ke=parseInt(fe[3],10);Ke=Ke>=1&&Ke<=31?Ke:1;let nt=parseInt(fe[4],10);nt=nt>=0&&nt<=23?nt:0;let pt=parseInt(fe[5],10);pt=pt>=0&&pt<=59?pt:0;let ht=parseInt(fe[6],10);ht=ht>=0&&ht<=59?ht:0;const We=fe[7]||"Z";let wt=parseInt(fe[8],10);wt=wt>=0&&wt<=23?wt:0;let St=parseInt(fe[9],10)||0;return St=St>=0&&St<=59?St:0,We==="-"?(nt+=wt,pt+=St):We==="+"&&(nt-=wt,pt-=St),new Date(Date.UTC(ye,je,Ke,nt,pt,ht))}}$.PDFDateString=oe;function Ee(Ge,{scale:Xe=1,rotation:fe=0}){const{width:ye,height:je}=Ge.attributes.style,Ke=[0,0,parseInt(ye),parseInt(je)];return new J({viewBox:Ke,scale:Xe,rotation:fe})}function K(Ge){if(Ge.startsWith("#")){const Xe=parseInt(Ge.slice(1),16);return[(Xe&16711680)>>16,(Xe&65280)>>8,Xe&255]}return Ge.startsWith("rgb(")?Ge.slice(4,-1).split(",").map(Xe=>parseInt(Xe)):Ge.startsWith("rgba(")?Ge.slice(5,-1).split(",").map(Xe=>parseInt(Xe)).slice(0,3):((0,O.warn)(`Not a valid color format: "${Ge}"`),[0,0,0])}function ge(Ge){const Xe=document.createElement("span");Xe.style.visibility="hidden",document.body.append(Xe);for(const fe of Ge.keys()){Xe.style.color=fe;const ye=window.getComputedStyle(Xe).color;Ge.set(fe,K(ye))}Xe.remove()}function Ce(Ge){const{a:Xe,b:fe,c:ye,d:je,e:Ke,f:nt}=Ge.getTransform();return[Xe,fe,ye,je,Ke,nt]}function De(Ge){const{a:Xe,b:fe,c:ye,d:je,e:Ke,f:nt}=Ge.getTransform().invertSelf();return[Xe,fe,ye,je,Ke,nt]}function xe(Ge,Xe,fe=!1,ye=!0){if(Xe instanceof J){const{pageWidth:je,pageHeight:Ke}=Xe.rawDims,{style:nt}=Ge,pt=O.FeatureTest.isCSSRoundSupported,ht=`var(--scale-factor) * ${je}px`,We=`var(--scale-factor) * ${Ke}px`,wt=pt?`round(${ht}, 1px)`:`calc(${ht})`,St=pt?`round(${We}, 1px)`:`calc(${We})`;!fe||Xe.rotation%180===0?(nt.width=wt,nt.height=St):(nt.width=St,nt.height=wt)}ye&&Ge.setAttribute("data-main-rotation",Xe.rotation)}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var R=H(1);class O{constructor(){this.constructor===O&&(0,R.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(U){return"none"}addHCMFilter(U,be){return"none"}addHighlightHCMFilter(U,be,ce,J){return"none"}destroy(U=!1){}}$.BaseFilterFactory=O;class B{constructor(){this.constructor===B&&(0,R.unreachable)("Cannot initialize BaseCanvasFactory.")}create(U,be){if(U<=0||be<=0)throw new Error("Invalid canvas size");const ce=this._createCanvas(U,be);return{canvas:ce,context:ce.getContext("2d")}}reset(U,be,ce){if(!U.canvas)throw new Error("Canvas is not specified");if(be<=0||ce<=0)throw new Error("Invalid canvas size");U.canvas.width=be,U.canvas.height=ce}destroy(U){if(!U.canvas)throw new Error("Canvas is not specified");U.canvas.width=0,U.canvas.height=0,U.canvas=null,U.context=null}_createCanvas(U,be){(0,R.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=B;class Y{constructor({baseUrl:U=null,isCompressed:be=!0}){this.constructor===Y&&(0,R.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=U,this.isCompressed=be}async fetch({name:U}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!U)throw new Error("CMap name must be specified.");const be=this.baseUrl+U+(this.isCompressed?".bcmap":""),ce=this.isCompressed?R.CMapCompressionType.BINARY:R.CMapCompressionType.NONE;return this._fetchData(be,ce).catch(J=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${be}`)})}_fetchData(U,be){(0,R.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=Y;class me{constructor({baseUrl:U=null}){this.constructor===me&&(0,R.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=U}async fetch({filename:U}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!U)throw new Error("Font filename must be specified.");const be=`${this.baseUrl}${U}`;return this._fetchData(be).catch(ce=>{throw new Error(`Unable to load font data at: ${be}`)})}_fetchData(U){(0,R.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=me;class ue{constructor(){this.constructor===ue&&(0,R.unreachable)("Cannot initialize BaseSVGFactory.")}create(U,be,ce=!1){if(U<=0||be<=0)throw new Error("Invalid SVG dimensions");const J=this._createSVG("svg:svg");return J.setAttribute("version","1.1"),ce||(J.setAttribute("width",`${U}px`),J.setAttribute("height",`${be}px`)),J.setAttribute("preserveAspectRatio","none"),J.setAttribute("viewBox",`0 0 ${U} ${be}`),J}createElement(U){if(typeof U!="string")throw new Error("Invalid SVG element type");return this._createSVG(U)}_createSVG(U){(0,R.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=ue},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var R=H(1);const O=3285377520,B=4294901760,Y=65535;class me{constructor(le){this.h1=le?le&4294967295:O,this.h2=le?le&4294967295:O}update(le){let U,be;if(typeof le=="string"){U=new Uint8Array(le.length*2),be=0;for(let ne=0,ae=le.length;ne<ae;ne++){const oe=le.charCodeAt(ne);oe<=255?U[be++]=oe:(U[be++]=oe>>>8,U[be++]=oe&255)}}else if((0,R.isArrayBuffer)(le))U=le.slice(),be=U.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ce=be>>2,J=be-ce*4,re=new Uint32Array(U.buffer,0,ce);let Q=0,q=0,ee=this.h1,ie=this.h2;const ve=3432918353,de=461845907,te=ve&Y,se=de&Y;for(let ne=0;ne<ce;ne++)ne&1?(Q=re[ne],Q=Q*ve&B|Q*te&Y,Q=Q<<15|Q>>>17,Q=Q*de&B|Q*se&Y,ee^=Q,ee=ee<<13|ee>>>19,ee=ee*5+3864292196):(q=re[ne],q=q*ve&B|q*te&Y,q=q<<15|q>>>17,q=q*de&B|q*se&Y,ie^=q,ie=ie<<13|ie>>>19,ie=ie*5+3864292196);switch(Q=0,J){case 3:Q^=U[ce*4+2]<<16;case 2:Q^=U[ce*4+1]<<8;case 1:Q^=U[ce*4],Q=Q*ve&B|Q*te&Y,Q=Q<<15|Q>>>17,Q=Q*de&B|Q*se&Y,ce&1?ee^=Q:ie^=Q}this.h1=ee,this.h2=ie}hexdigest(){let le=this.h1,U=this.h2;return le^=U>>>1,le=le*3981806797&B|le*36045&Y,U=U*4283543511&B|((U<<16|le>>>16)*2950163797&B)>>>16,le^=U>>>1,le=le*444984403&B|le*60499&Y,U=U*3301882366&B|((U<<16|le>>>16)*3120437893&B)>>>16,le^=U>>>1,(le>>>0).toString(16).padStart(8,"0")+(U>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=me},(A,$,H)=>{var Y;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var R=H(1);class O{constructor({ownerDocument:ue=globalThis.document,styleElement:le=null}){it(this,Y,new Set);this._document=ue,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ue){this.nativeFontFaces.add(ue),this._document.fonts.add(ue)}removeNativeFontFace(ue){this.nativeFontFaces.delete(ue),this._document.fonts.delete(ue)}insertRule(ue){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const le=this.styleElement.sheet;le.insertRule(ue,le.cssRules.length)}clear(){for(const ue of this.nativeFontFaces)this._document.fonts.delete(ue);this.nativeFontFaces.clear(),V(this,Y).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(ue){if(!(!ue||V(this,Y).has(ue.loadedName))){if((0,R.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:le,src:U,style:be}=ue,ce=new FontFace(le,U,be);this.addNativeFontFace(ce);try{await ce.load(),V(this,Y).add(le)}catch{(0,R.warn)(`Cannot load system font: ${ue.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ce)}return}(0,R.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(ue){if(ue.attached||ue.missingFile&&!ue.systemFontInfo)return;if(ue.attached=!0,ue.systemFontInfo){await this.loadSystemFont(ue.systemFontInfo);return}if(this.isFontLoadingAPISupported){const U=ue.createNativeFontFace();if(U){this.addNativeFontFace(U);try{await U.loaded}catch(be){throw(0,R.warn)(`Failed to load font '${U.family}': '${be}'.`),ue.disableFontFace=!0,be}}return}const le=ue.createFontFaceRule();if(le){if(this.insertRule(le),this.isSyncFontLoadingSupported)return;await new Promise(U=>{const be=this._queueLoadingCallback(U);this._prepareFontLoadEvent(ue,be)})}}get isFontLoadingAPISupported(){var le;const ue=!!((le=this._document)!=null&&le.fonts);return(0,R.shadow)(this,"isFontLoadingAPISupported",ue)}get isSyncFontLoadingSupported(){let ue=!1;return(R.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(ue=!0),(0,R.shadow)(this,"isSyncFontLoadingSupported",ue)}_queueLoadingCallback(ue){function le(){for((0,R.assert)(!be.done,"completeRequest() cannot be called twice."),be.done=!0;U.length>0&&U[0].done;){const ce=U.shift();setTimeout(ce.callback,0)}}const{loadingRequests:U}=this,be={done:!1,complete:le,callback:ue};return U.push(be),be}get _loadTestFont(){const ue=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,R.shadow)(this,"_loadTestFont",ue)}_prepareFontLoadEvent(ue,le){function U(K,ge){return K.charCodeAt(ge)<<24|K.charCodeAt(ge+1)<<16|K.charCodeAt(ge+2)<<8|K.charCodeAt(ge+3)&255}function be(K,ge,Ce,De){const xe=K.substring(0,ge),Ne=K.substring(ge+Ce);return xe+De+Ne}let ce,J;const re=this._document.createElement("canvas");re.width=1,re.height=1;const Q=re.getContext("2d");let q=0;function ee(K,ge){if(++q>30){(0,R.warn)("Load test font never loaded."),ge();return}if(Q.font="30px "+K,Q.fillText(".",0,20),Q.getImageData(0,0,1,1).data[3]>0){ge();return}setTimeout(ee.bind(null,K,ge))}const ie=`lt${Date.now()}${this.loadTestFontId++}`;let ve=this._loadTestFont;ve=be(ve,976,ie.length,ie);const te=16,se=1482184792;let ne=U(ve,te);for(ce=0,J=ie.length-3;ce<J;ce+=4)ne=ne-se+U(ie,ce)|0;ce<ie.length&&(ne=ne-se+U(ie+"XXX",ce)|0),ve=be(ve,te,4,(0,R.string32)(ne));const ae=`url(data:font/opentype;base64,${btoa(ve)});`,oe=`@font-face {font-family:"${ie}";src:${ae}}`;this.insertRule(oe);const Ee=this._document.createElement("div");Ee.style.visibility="hidden",Ee.style.width=Ee.style.height="10px",Ee.style.position="absolute",Ee.style.top=Ee.style.left="0px";for(const K of[ue.loadedName,ie]){const ge=this._document.createElement("span");ge.textContent="Hi",ge.style.fontFamily=K,Ee.append(ge)}this._document.body.append(Ee),ee(ie,()=>{Ee.remove(),le.complete()})}}Y=new WeakMap,$.FontLoader=O;class B{constructor(ue,{isEvalSupported:le=!0,disableFontFace:U=!1,ignoreErrors:be=!1,inspectFont:ce=null}){this.compiledGlyphs=Object.create(null);for(const J in ue)this[J]=ue[J];this.isEvalSupported=le!==!1,this.disableFontFace=U===!0,this.ignoreErrors=be===!0,this._inspectFont=ce}createNativeFontFace(){var le;if(!this.data||this.disableFontFace)return null;let ue;if(!this.cssFontInfo)ue=new FontFace(this.loadedName,this.data,{});else{const U={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(U.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ue=new FontFace(this.cssFontInfo.fontFamily,this.data,U)}return(le=this._inspectFont)==null||le.call(this,this),ue}createFontFaceRule(){var be;if(!this.data||this.disableFontFace)return null;const ue=(0,R.bytesToString)(this.data),le=`url(data:${this.mimetype};base64,${btoa(ue)});`;let U;if(!this.cssFontInfo)U=`@font-face {font-family:"${this.loadedName}";src:${le}}`;else{let ce=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ce+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),U=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ce}src:${le}}`}return(be=this._inspectFont)==null||be.call(this,this,le),U}getPathGenerator(ue,le){if(this.compiledGlyphs[le]!==void 0)return this.compiledGlyphs[le];let U;try{U=ue.get(this.loadedName+"_path_"+le)}catch(be){if(!this.ignoreErrors)throw be;return(0,R.warn)(`getPathGenerator - ignoring character: "${be}".`),this.compiledGlyphs[le]=function(ce,J){}}if(this.isEvalSupported&&R.FeatureTest.isEvalSupported){const be=[];for(const ce of U){const J=ce.args!==void 0?ce.args.join(","):"";be.push("c.",ce.cmd,"(",J,`);
`)}return this.compiledGlyphs[le]=new Function("c","size",be.join(""))}return this.compiledGlyphs[le]=function(be,ce){for(const J of U)J.cmd==="scale"&&(J.args=[ce,-ce]),be[J.cmd].apply(be,J.args)}}}$.FontFaceObject=B},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var R=H(7);H(1);const O=function(le){return new Promise((U,be)=>{require$$5.readFile(le,(J,re)=>{if(J||!re){be(new Error(J));return}U(new Uint8Array(re))})})};class B extends R.BaseFilterFactory{}$.NodeFilterFactory=B;class Y extends R.BaseCanvasFactory{_createCanvas(U,be){return require$$5.createCanvas(U,be)}}$.NodeCanvasFactory=Y;class me extends R.BaseCMapReaderFactory{_fetchData(U,be){return O(U).then(ce=>({cMapData:ce,compressionType:be}))}}$.NodeCMapReaderFactory=me;class ue extends R.BaseStandardFontDataFactory{_fetchData(U){return O(U)}}$.NodeStandardFontDataFactory=ue},(A,$,H)=>{var qe,Mi,xi;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var R=H(1),O=H(6),B=H(12),Y=H(13);const me=16,ue=100,le=4096,U=15,be=10,ce=1e3,J=16;function re(_e,G){if(_e._removeMirroring)throw new Error("Context is already forwarding operations.");_e.__originalSave=_e.save,_e.__originalRestore=_e.restore,_e.__originalRotate=_e.rotate,_e.__originalScale=_e.scale,_e.__originalTranslate=_e.translate,_e.__originalTransform=_e.transform,_e.__originalSetTransform=_e.setTransform,_e.__originalResetTransform=_e.resetTransform,_e.__originalClip=_e.clip,_e.__originalMoveTo=_e.moveTo,_e.__originalLineTo=_e.lineTo,_e.__originalBezierCurveTo=_e.bezierCurveTo,_e.__originalRect=_e.rect,_e.__originalClosePath=_e.closePath,_e.__originalBeginPath=_e.beginPath,_e._removeMirroring=()=>{_e.save=_e.__originalSave,_e.restore=_e.__originalRestore,_e.rotate=_e.__originalRotate,_e.scale=_e.__originalScale,_e.translate=_e.__originalTranslate,_e.transform=_e.__originalTransform,_e.setTransform=_e.__originalSetTransform,_e.resetTransform=_e.__originalResetTransform,_e.clip=_e.__originalClip,_e.moveTo=_e.__originalMoveTo,_e.lineTo=_e.__originalLineTo,_e.bezierCurveTo=_e.__originalBezierCurveTo,_e.rect=_e.__originalRect,_e.closePath=_e.__originalClosePath,_e.beginPath=_e.__originalBeginPath,delete _e._removeMirroring},_e.save=function(){G.save(),this.__originalSave()},_e.restore=function(){G.restore(),this.__originalRestore()},_e.translate=function(pe,Pe){G.translate(pe,Pe),this.__originalTranslate(pe,Pe)},_e.scale=function(pe,Pe){G.scale(pe,Pe),this.__originalScale(pe,Pe)},_e.transform=function(pe,Pe,Ae,ke,Oe,Qe){G.transform(pe,Pe,Ae,ke,Oe,Qe),this.__originalTransform(pe,Pe,Ae,ke,Oe,Qe)},_e.setTransform=function(pe,Pe,Ae,ke,Oe,Qe){G.setTransform(pe,Pe,Ae,ke,Oe,Qe),this.__originalSetTransform(pe,Pe,Ae,ke,Oe,Qe)},_e.resetTransform=function(){G.resetTransform(),this.__originalResetTransform()},_e.rotate=function(pe){G.rotate(pe),this.__originalRotate(pe)},_e.clip=function(pe){G.clip(pe),this.__originalClip(pe)},_e.moveTo=function(X,pe){G.moveTo(X,pe),this.__originalMoveTo(X,pe)},_e.lineTo=function(X,pe){G.lineTo(X,pe),this.__originalLineTo(X,pe)},_e.bezierCurveTo=function(X,pe,Pe,Ae,ke,Oe){G.bezierCurveTo(X,pe,Pe,Ae,ke,Oe),this.__originalBezierCurveTo(X,pe,Pe,Ae,ke,Oe)},_e.rect=function(X,pe,Pe,Ae){G.rect(X,pe,Pe,Ae),this.__originalRect(X,pe,Pe,Ae)},_e.closePath=function(){G.closePath(),this.__originalClosePath()},_e.beginPath=function(){G.beginPath(),this.__originalBeginPath()}}class Q{constructor(G){this.canvasFactory=G,this.cache=Object.create(null)}getCanvas(G,X,pe){let Pe;return this.cache[G]!==void 0?(Pe=this.cache[G],this.canvasFactory.reset(Pe,X,pe)):(Pe=this.canvasFactory.create(X,pe),this.cache[G]=Pe),Pe}delete(G){delete this.cache[G]}clear(){for(const G in this.cache){const X=this.cache[G];this.canvasFactory.destroy(X),delete this.cache[G]}}}function q(_e,G,X,pe,Pe,Ae,ke,Oe,Qe,ot){const[st,ut,dt,mt,Ge,Xe]=(0,O.getCurrentTransform)(_e);if(ut===0&&dt===0){const je=ke*st+Ge,Ke=Math.round(je),nt=Oe*mt+Xe,pt=Math.round(nt),ht=(ke+Qe)*st+Ge,We=Math.abs(Math.round(ht)-Ke)||1,wt=(Oe+ot)*mt+Xe,St=Math.abs(Math.round(wt)-pt)||1;return _e.setTransform(Math.sign(st),0,0,Math.sign(mt),Ke,pt),_e.drawImage(G,X,pe,Pe,Ae,0,0,We,St),_e.setTransform(st,ut,dt,mt,Ge,Xe),[We,St]}if(st===0&&mt===0){const je=Oe*dt+Ge,Ke=Math.round(je),nt=ke*ut+Xe,pt=Math.round(nt),ht=(Oe+ot)*dt+Ge,We=Math.abs(Math.round(ht)-Ke)||1,wt=(ke+Qe)*ut+Xe,St=Math.abs(Math.round(wt)-pt)||1;return _e.setTransform(0,Math.sign(ut),Math.sign(dt),0,Ke,pt),_e.drawImage(G,X,pe,Pe,Ae,0,0,St,We),_e.setTransform(st,ut,dt,mt,Ge,Xe),[St,We]}_e.drawImage(G,X,pe,Pe,Ae,ke,Oe,Qe,ot);const fe=Math.hypot(st,ut),ye=Math.hypot(dt,mt);return[fe*Qe,ye*ot]}function ee(_e){const{width:G,height:X}=_e;if(G>ce||X>ce)return null;const pe=1e3,Pe=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ae=G+1;let ke=new Uint8Array(Ae*(X+1)),Oe,Qe,ot;const st=G+7&-8;let ut=new Uint8Array(st*X),dt=0;for(const ye of _e.data){let je=128;for(;je>0;)ut[dt++]=ye&je?0:255,je>>=1}let mt=0;for(dt=0,ut[dt]!==0&&(ke[0]=1,++mt),Qe=1;Qe<G;Qe++)ut[dt]!==ut[dt+1]&&(ke[Qe]=ut[dt]?2:1,++mt),dt++;for(ut[dt]!==0&&(ke[Qe]=2,++mt),Oe=1;Oe<X;Oe++){dt=Oe*st,ot=Oe*Ae,ut[dt-st]!==ut[dt]&&(ke[ot]=ut[dt]?1:8,++mt);let ye=(ut[dt]?4:0)+(ut[dt-st]?8:0);for(Qe=1;Qe<G;Qe++)ye=(ye>>2)+(ut[dt+1]?4:0)+(ut[dt-st+1]?8:0),Pe[ye]&&(ke[ot+Qe]=Pe[ye],++mt),dt++;if(ut[dt-st]!==ut[dt]&&(ke[ot+Qe]=ut[dt]?2:4,++mt),mt>pe)return null}for(dt=st*(X-1),ot=Oe*Ae,ut[dt]!==0&&(ke[ot]=8,++mt),Qe=1;Qe<G;Qe++)ut[dt]!==ut[dt+1]&&(ke[ot+Qe]=ut[dt]?4:8,++mt),dt++;if(ut[dt]!==0&&(ke[ot+Qe]=4,++mt),mt>pe)return null;const Ge=new Int32Array([0,Ae,-1,0,-Ae,0,0,0,1]),Xe=new Path2D;for(Oe=0;mt&&Oe<=X;Oe++){let ye=Oe*Ae;const je=ye+G;for(;ye<je&&!ke[ye];)ye++;if(ye===je)continue;Xe.moveTo(ye%Ae,Oe);const Ke=ye;let nt=ke[ye];do{const pt=Ge[nt];do ye+=pt;while(!ke[ye]);const ht=ke[ye];ht!==5&&ht!==10?(nt=ht,ke[ye]=0):(nt=ht&51*nt>>4,ke[ye]&=nt>>2|nt<<2),Xe.lineTo(ye%Ae,ye/Ae|0),ke[ye]||--mt}while(Ke!==ye);--Oe}return ut=null,ke=null,function(ye){ye.save(),ye.scale(1/G,-1/X),ye.translate(0,-X),ye.fill(Xe),ye.beginPath(),ye.restore()}}class ie{constructor(G,X){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=R.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=R.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=R.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,G,X])}clone(){const G=Object.create(this);return G.clipBox=this.clipBox.slice(),G}setCurrentPoint(G,X){this.x=G,this.y=X}updatePathMinMax(G,X,pe){[X,pe]=R.Util.applyTransform([X,pe],G),this.minX=Math.min(this.minX,X),this.minY=Math.min(this.minY,pe),this.maxX=Math.max(this.maxX,X),this.maxY=Math.max(this.maxY,pe)}updateRectMinMax(G,X){const pe=R.Util.applyTransform(X,G),Pe=R.Util.applyTransform(X.slice(2),G);this.minX=Math.min(this.minX,pe[0],Pe[0]),this.minY=Math.min(this.minY,pe[1],Pe[1]),this.maxX=Math.max(this.maxX,pe[0],Pe[0]),this.maxY=Math.max(this.maxY,pe[1],Pe[1])}updateScalingPathMinMax(G,X){R.Util.scaleMinMax(G,X),this.minX=Math.min(this.minX,X[0]),this.maxX=Math.max(this.maxX,X[1]),this.minY=Math.min(this.minY,X[2]),this.maxY=Math.max(this.maxY,X[3])}updateCurvePathMinMax(G,X,pe,Pe,Ae,ke,Oe,Qe,ot,st){const ut=R.Util.bezierBoundingBox(X,pe,Pe,Ae,ke,Oe,Qe,ot);if(st){st[0]=Math.min(st[0],ut[0],ut[2]),st[1]=Math.max(st[1],ut[0],ut[2]),st[2]=Math.min(st[2],ut[1],ut[3]),st[3]=Math.max(st[3],ut[1],ut[3]);return}this.updateRectMinMax(G,ut)}getPathBoundingBox(G=B.PathType.FILL,X=null){const pe=[this.minX,this.minY,this.maxX,this.maxY];if(G===B.PathType.STROKE){X||(0,R.unreachable)("Stroke bounding box must include transform.");const Pe=R.Util.singularValueDecompose2dScale(X),Ae=Pe[0]*this.lineWidth/2,ke=Pe[1]*this.lineWidth/2;pe[0]-=Ae,pe[1]-=ke,pe[2]+=Ae,pe[3]+=ke}return pe}updateClipFromPath(){const G=R.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(G||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(G){this.clipBox=G,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(G=B.PathType.FILL,X=null){return R.Util.intersect(this.clipBox,this.getPathBoundingBox(G,X))}}function ve(_e,G){if(typeof ImageData<"u"&&G instanceof ImageData){_e.putImageData(G,0,0);return}const X=G.height,pe=G.width,Pe=X%J,Ae=(X-Pe)/J,ke=Pe===0?Ae:Ae+1,Oe=_e.createImageData(pe,J);let Qe=0,ot;const st=G.data,ut=Oe.data;let dt,mt,Ge,Xe;if(G.kind===R.ImageKind.GRAYSCALE_1BPP){const fe=st.byteLength,ye=new Uint32Array(ut.buffer,0,ut.byteLength>>2),je=ye.length,Ke=pe+7>>3,nt=4294967295,pt=R.FeatureTest.isLittleEndian?4278190080:255;for(dt=0;dt<ke;dt++){for(Ge=dt<Ae?J:Pe,ot=0,mt=0;mt<Ge;mt++){const ht=fe-Qe;let We=0;const wt=ht>Ke?pe:ht*8-7,St=wt&-8;let Yt=0,Ut=0;for(;We<St;We+=8)Ut=st[Qe++],ye[ot++]=Ut&128?nt:pt,ye[ot++]=Ut&64?nt:pt,ye[ot++]=Ut&32?nt:pt,ye[ot++]=Ut&16?nt:pt,ye[ot++]=Ut&8?nt:pt,ye[ot++]=Ut&4?nt:pt,ye[ot++]=Ut&2?nt:pt,ye[ot++]=Ut&1?nt:pt;for(;We<wt;We++)Yt===0&&(Ut=st[Qe++],Yt=128),ye[ot++]=Ut&Yt?nt:pt,Yt>>=1}for(;ot<je;)ye[ot++]=0;_e.putImageData(Oe,0,dt*J)}}else if(G.kind===R.ImageKind.RGBA_32BPP){for(mt=0,Xe=pe*J*4,dt=0;dt<Ae;dt++)ut.set(st.subarray(Qe,Qe+Xe)),Qe+=Xe,_e.putImageData(Oe,0,mt),mt+=J;dt<ke&&(Xe=pe*Pe*4,ut.set(st.subarray(Qe,Qe+Xe)),_e.putImageData(Oe,0,mt))}else if(G.kind===R.ImageKind.RGB_24BPP)for(Ge=J,Xe=pe*Ge,dt=0;dt<ke;dt++){for(dt>=Ae&&(Ge=Pe,Xe=pe*Ge),ot=0,mt=Xe;mt--;)ut[ot++]=st[Qe++],ut[ot++]=st[Qe++],ut[ot++]=st[Qe++],ut[ot++]=255;_e.putImageData(Oe,0,dt*J)}else throw new Error(`bad image kind: ${G.kind}`)}function de(_e,G){if(G.bitmap){_e.drawImage(G.bitmap,0,0);return}const X=G.height,pe=G.width,Pe=X%J,Ae=(X-Pe)/J,ke=Pe===0?Ae:Ae+1,Oe=_e.createImageData(pe,J);let Qe=0;const ot=G.data,st=Oe.data;for(let ut=0;ut<ke;ut++){const dt=ut<Ae?J:Pe;({srcPos:Qe}=(0,Y.convertBlackAndWhiteToRGBA)({src:ot,srcPos:Qe,dest:st,width:pe,height:dt,nonBlackColor:0})),_e.putImageData(Oe,0,ut*J)}}function te(_e,G){const X=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const pe of X)_e[pe]!==void 0&&(G[pe]=_e[pe]);_e.setLineDash!==void 0&&(G.setLineDash(_e.getLineDash()),G.lineDashOffset=_e.lineDashOffset)}function se(_e){if(_e.strokeStyle=_e.fillStyle="#000000",_e.fillRule="nonzero",_e.globalAlpha=1,_e.lineWidth=1,_e.lineCap="butt",_e.lineJoin="miter",_e.miterLimit=10,_e.globalCompositeOperation="source-over",_e.font="10px sans-serif",_e.setLineDash!==void 0&&(_e.setLineDash([]),_e.lineDashOffset=0),!R.isNodeJS){const{filter:G}=_e;G!=="none"&&G!==""&&(_e.filter="none")}}function ne(_e,G,X,pe){const Pe=_e.length;for(let Ae=3;Ae<Pe;Ae+=4){const ke=_e[Ae];if(ke===0)_e[Ae-3]=G,_e[Ae-2]=X,_e[Ae-1]=pe;else if(ke<255){const Oe=255-ke;_e[Ae-3]=_e[Ae-3]*ke+G*Oe>>8,_e[Ae-2]=_e[Ae-2]*ke+X*Oe>>8,_e[Ae-1]=_e[Ae-1]*ke+pe*Oe>>8}}}function ae(_e,G,X){const pe=_e.length,Pe=1/255;for(let Ae=3;Ae<pe;Ae+=4){const ke=X?X[_e[Ae]]:_e[Ae];G[Ae]=G[Ae]*ke*Pe|0}}function oe(_e,G,X){const pe=_e.length;for(let Pe=3;Pe<pe;Pe+=4){const Ae=_e[Pe-3]*77+_e[Pe-2]*152+_e[Pe-1]*28;G[Pe]=X?G[Pe]*X[Ae>>8]>>8:G[Pe]*Ae>>16}}function Ee(_e,G,X,pe,Pe,Ae,ke,Oe,Qe,ot,st){const ut=!!Ae,dt=ut?Ae[0]:0,mt=ut?Ae[1]:0,Ge=ut?Ae[2]:0,Xe=Pe==="Luminosity"?oe:ae,ye=Math.min(pe,Math.ceil(1048576/X));for(let je=0;je<pe;je+=ye){const Ke=Math.min(ye,pe-je),nt=_e.getImageData(Oe-ot,je+(Qe-st),X,Ke),pt=G.getImageData(Oe,je+Qe,X,Ke);ut&&ne(nt.data,dt,mt,Ge),Xe(nt.data,pt.data,ke),G.putImageData(pt,Oe,je+Qe)}}function K(_e,G,X,pe){const Pe=pe[0],Ae=pe[1],ke=pe[2]-Pe,Oe=pe[3]-Ae;ke===0||Oe===0||(Ee(G.context,X,ke,Oe,G.subtype,G.backdrop,G.transferMap,Pe,Ae,G.offsetX,G.offsetY),_e.save(),_e.globalAlpha=1,_e.globalCompositeOperation="source-over",_e.setTransform(1,0,0,1,0,0),_e.drawImage(X.canvas,0,0),_e.restore())}function ge(_e,G){const X=R.Util.singularValueDecompose2dScale(_e);X[0]=Math.fround(X[0]),X[1]=Math.fround(X[1]);const pe=Math.fround((globalThis.devicePixelRatio||1)*O.PixelsPerInch.PDF_TO_CSS_UNITS);return G!==void 0?G:X[0]<=pe||X[1]<=pe}const Ce=["butt","round","square"],De=["miter","round","bevel"],xe={},Ne={},He=class He{constructor(G,X,pe,Pe,Ae,{optionalContentConfig:ke,markedContentStack:Oe=null},Qe,ot){it(this,qe);this.ctx=G,this.current=new ie(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=X,this.objs=pe,this.canvasFactory=Pe,this.filterFactory=Ae,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Oe||[],this.optionalContentConfig=ke,this.cachedCanvases=new Q(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Qe,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=ot,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(G,X=null){return typeof G=="string"?G.startsWith("g_")?this.commonObjs.get(G):this.objs.get(G):X}beginDrawing({transform:G,viewport:X,transparency:pe=!1,background:Pe=null}){const Ae=this.ctx.canvas.width,ke=this.ctx.canvas.height,Oe=this.ctx.fillStyle;if(this.ctx.fillStyle=Pe||"#ffffff",this.ctx.fillRect(0,0,Ae,ke),this.ctx.fillStyle=Oe,pe){const Qe=this.cachedCanvases.getCanvas("transparent",Ae,ke);this.compositeCtx=this.ctx,this.transparentCanvas=Qe.canvas,this.ctx=Qe.context,this.ctx.save(),this.ctx.transform(...(0,O.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),se(this.ctx),G&&(this.ctx.transform(...G),this.outputScaleX=G[0],this.outputScaleY=G[0]),this.ctx.transform(...X.transform),this.viewportScale=X.scale,this.baseTransform=(0,O.getCurrentTransform)(this.ctx)}executeOperatorList(G,X,pe,Pe){const Ae=G.argsArray,ke=G.fnArray;let Oe=X||0;const Qe=Ae.length;if(Qe===Oe)return Oe;const ot=Qe-Oe>be&&typeof pe=="function",st=ot?Date.now()+U:0;let ut=0;const dt=this.commonObjs,mt=this.objs;let Ge;for(;;){if(Pe!==void 0&&Oe===Pe.nextBreakPoint)return Pe.breakIt(Oe,pe),Oe;if(Ge=ke[Oe],Ge!==R.OPS.dependency)this[Ge].apply(this,Ae[Oe]);else for(const Xe of Ae[Oe]){const fe=Xe.startsWith("g_")?dt:mt;if(!fe.has(Xe))return fe.get(Xe,pe),Oe}if(Oe++,Oe===Qe)return Oe;if(ot&&++ut>be){if(Date.now()>st)return pe(),Oe;ut=0}}}endDrawing(){Ue(this,qe,Mi).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const G of this._cachedBitmapsMap.values()){for(const X of G.values())typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement&&(X.width=X.height=0);G.clear()}this._cachedBitmapsMap.clear(),Ue(this,qe,xi).call(this)}_scaleImage(G,X){const pe=G.width,Pe=G.height;let Ae=Math.max(Math.hypot(X[0],X[1]),1),ke=Math.max(Math.hypot(X[2],X[3]),1),Oe=pe,Qe=Pe,ot="prescale1",st,ut;for(;Ae>2&&Oe>1||ke>2&&Qe>1;){let dt=Oe,mt=Qe;Ae>2&&Oe>1&&(dt=Oe>=16384?Math.floor(Oe/2)-1||1:Math.ceil(Oe/2),Ae/=Oe/dt),ke>2&&Qe>1&&(mt=Qe>=16384?Math.floor(Qe/2)-1||1:Math.ceil(Qe)/2,ke/=Qe/mt),st=this.cachedCanvases.getCanvas(ot,dt,mt),ut=st.context,ut.clearRect(0,0,dt,mt),ut.drawImage(G,0,0,Oe,Qe,0,0,dt,mt),G=st.canvas,Oe=dt,Qe=mt,ot=ot==="prescale1"?"prescale2":"prescale1"}return{img:G,paintWidth:Oe,paintHeight:Qe}}_createMaskCanvas(G){const X=this.ctx,{width:pe,height:Pe}=G,Ae=this.current.fillColor,ke=this.current.patternFill,Oe=(0,O.getCurrentTransform)(X);let Qe,ot,st,ut;if((G.bitmap||G.data)&&G.count>1){const We=G.bitmap||G.data.buffer;ot=JSON.stringify(ke?Oe:[Oe.slice(0,4),Ae]),Qe=this._cachedBitmapsMap.get(We),Qe||(Qe=new Map,this._cachedBitmapsMap.set(We,Qe));const wt=Qe.get(ot);if(wt&&!ke){const St=Math.round(Math.min(Oe[0],Oe[2])+Oe[4]),Yt=Math.round(Math.min(Oe[1],Oe[3])+Oe[5]);return{canvas:wt,offsetX:St,offsetY:Yt}}st=wt}st||(ut=this.cachedCanvases.getCanvas("maskCanvas",pe,Pe),de(ut.context,G));let dt=R.Util.transform(Oe,[1/pe,0,0,-1/Pe,0,0]);dt=R.Util.transform(dt,[1,0,0,1,0,-Pe]);const mt=R.Util.applyTransform([0,0],dt),Ge=R.Util.applyTransform([pe,Pe],dt),Xe=R.Util.normalizeRect([mt[0],mt[1],Ge[0],Ge[1]]),fe=Math.round(Xe[2]-Xe[0])||1,ye=Math.round(Xe[3]-Xe[1])||1,je=this.cachedCanvases.getCanvas("fillCanvas",fe,ye),Ke=je.context,nt=Math.min(mt[0],Ge[0]),pt=Math.min(mt[1],Ge[1]);Ke.translate(-nt,-pt),Ke.transform(...dt),st||(st=this._scaleImage(ut.canvas,(0,O.getCurrentTransformInverse)(Ke)),st=st.img,Qe&&ke&&Qe.set(ot,st)),Ke.imageSmoothingEnabled=ge((0,O.getCurrentTransform)(Ke),G.interpolate),q(Ke,st,0,0,st.width,st.height,0,0,pe,Pe),Ke.globalCompositeOperation="source-in";const ht=R.Util.transform((0,O.getCurrentTransformInverse)(Ke),[1,0,0,1,-nt,-pt]);return Ke.fillStyle=ke?Ae.getPattern(X,this,ht,B.PathType.FILL):Ae,Ke.fillRect(0,0,pe,Pe),Qe&&!ke&&(this.cachedCanvases.delete("fillCanvas"),Qe.set(ot,je.canvas)),{canvas:je.canvas,offsetX:Math.round(nt),offsetY:Math.round(pt)}}setLineWidth(G){G!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=G,this.ctx.lineWidth=G}setLineCap(G){this.ctx.lineCap=Ce[G]}setLineJoin(G){this.ctx.lineJoin=De[G]}setMiterLimit(G){this.ctx.miterLimit=G}setDash(G,X){const pe=this.ctx;pe.setLineDash!==void 0&&(pe.setLineDash(G),pe.lineDashOffset=X)}setRenderingIntent(G){}setFlatness(G){}setGState(G){for(const[X,pe]of G)switch(X){case"LW":this.setLineWidth(pe);break;case"LC":this.setLineCap(pe);break;case"LJ":this.setLineJoin(pe);break;case"ML":this.setMiterLimit(pe);break;case"D":this.setDash(pe[0],pe[1]);break;case"RI":this.setRenderingIntent(pe);break;case"FL":this.setFlatness(pe);break;case"Font":this.setFont(pe[0],pe[1]);break;case"CA":this.current.strokeAlpha=pe;break;case"ca":this.current.fillAlpha=pe,this.ctx.globalAlpha=pe;break;case"BM":this.ctx.globalCompositeOperation=pe;break;case"SMask":this.current.activeSMask=pe?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(pe);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const G=this.inSMaskMode;this.current.activeSMask&&!G?this.beginSMaskMode():!this.current.activeSMask&&G&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const G=this.ctx.canvas.width,X=this.ctx.canvas.height,pe="smaskGroupAt"+this.groupLevel,Pe=this.cachedCanvases.getCanvas(pe,G,X);this.suspendedCtx=this.ctx,this.ctx=Pe.context;const Ae=this.ctx;Ae.setTransform(...(0,O.getCurrentTransform)(this.suspendedCtx)),te(this.suspendedCtx,Ae),re(Ae,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),te(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(G){if(!this.current.activeSMask)return;G?(G[0]=Math.floor(G[0]),G[1]=Math.floor(G[1]),G[2]=Math.ceil(G[2]),G[3]=Math.ceil(G[3])):G=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const X=this.current.activeSMask,pe=this.suspendedCtx;K(pe,X,this.ctx,G),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(te(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const G=this.current;this.stateStack.push(G),this.current=G.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),te(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(G,X,pe,Pe,Ae,ke){this.ctx.transform(G,X,pe,Pe,Ae,ke),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(G,X,pe){const Pe=this.ctx,Ae=this.current;let ke=Ae.x,Oe=Ae.y,Qe,ot;const st=(0,O.getCurrentTransform)(Pe),ut=st[0]===0&&st[3]===0||st[1]===0&&st[2]===0,dt=ut?pe.slice(0):null;for(let mt=0,Ge=0,Xe=G.length;mt<Xe;mt++)switch(G[mt]|0){case R.OPS.rectangle:ke=X[Ge++],Oe=X[Ge++];const fe=X[Ge++],ye=X[Ge++],je=ke+fe,Ke=Oe+ye;Pe.moveTo(ke,Oe),fe===0||ye===0?Pe.lineTo(je,Ke):(Pe.lineTo(je,Oe),Pe.lineTo(je,Ke),Pe.lineTo(ke,Ke)),ut||Ae.updateRectMinMax(st,[ke,Oe,je,Ke]),Pe.closePath();break;case R.OPS.moveTo:ke=X[Ge++],Oe=X[Ge++],Pe.moveTo(ke,Oe),ut||Ae.updatePathMinMax(st,ke,Oe);break;case R.OPS.lineTo:ke=X[Ge++],Oe=X[Ge++],Pe.lineTo(ke,Oe),ut||Ae.updatePathMinMax(st,ke,Oe);break;case R.OPS.curveTo:Qe=ke,ot=Oe,ke=X[Ge+4],Oe=X[Ge+5],Pe.bezierCurveTo(X[Ge],X[Ge+1],X[Ge+2],X[Ge+3],ke,Oe),Ae.updateCurvePathMinMax(st,Qe,ot,X[Ge],X[Ge+1],X[Ge+2],X[Ge+3],ke,Oe,dt),Ge+=6;break;case R.OPS.curveTo2:Qe=ke,ot=Oe,Pe.bezierCurveTo(ke,Oe,X[Ge],X[Ge+1],X[Ge+2],X[Ge+3]),Ae.updateCurvePathMinMax(st,Qe,ot,ke,Oe,X[Ge],X[Ge+1],X[Ge+2],X[Ge+3],dt),ke=X[Ge+2],Oe=X[Ge+3],Ge+=4;break;case R.OPS.curveTo3:Qe=ke,ot=Oe,ke=X[Ge+2],Oe=X[Ge+3],Pe.bezierCurveTo(X[Ge],X[Ge+1],ke,Oe,ke,Oe),Ae.updateCurvePathMinMax(st,Qe,ot,X[Ge],X[Ge+1],ke,Oe,ke,Oe,dt),Ge+=4;break;case R.OPS.closePath:Pe.closePath();break}ut&&Ae.updateScalingPathMinMax(st,dt),Ae.setCurrentPoint(ke,Oe)}closePath(){this.ctx.closePath()}stroke(G=!0){const X=this.ctx,pe=this.current.strokeColor;X.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof pe=="object"&&(pe!=null&&pe.getPattern)?(X.save(),X.strokeStyle=pe.getPattern(X,this,(0,O.getCurrentTransformInverse)(X),B.PathType.STROKE),this.rescaleAndStroke(!1),X.restore()):this.rescaleAndStroke(!0)),G&&this.consumePath(this.current.getClippedPathBoundingBox()),X.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(G=!0){const X=this.ctx,pe=this.current.fillColor,Pe=this.current.patternFill;let Ae=!1;Pe&&(X.save(),X.fillStyle=pe.getPattern(X,this,(0,O.getCurrentTransformInverse)(X),B.PathType.FILL),Ae=!0);const ke=this.current.getClippedPathBoundingBox();this.contentVisible&&ke!==null&&(this.pendingEOFill?(X.fill("evenodd"),this.pendingEOFill=!1):X.fill()),Ae&&X.restore(),G&&this.consumePath(ke)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=xe}eoClip(){this.pendingClip=Ne}beginText(){this.current.textMatrix=R.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const G=this.pendingTextPaths,X=this.ctx;if(G===void 0){X.beginPath();return}X.save(),X.beginPath();for(const pe of G)X.setTransform(...pe.transform),X.translate(pe.x,pe.y),pe.addToPath(X,pe.fontSize);X.restore(),X.clip(),X.beginPath(),delete this.pendingTextPaths}setCharSpacing(G){this.current.charSpacing=G}setWordSpacing(G){this.current.wordSpacing=G}setHScale(G){this.current.textHScale=G/100}setLeading(G){this.current.leading=-G}setFont(G,X){var st;const pe=this.commonObjs.get(G),Pe=this.current;if(!pe)throw new Error(`Can't find font for ${G}`);if(Pe.fontMatrix=pe.fontMatrix||R.FONT_IDENTITY_MATRIX,(Pe.fontMatrix[0]===0||Pe.fontMatrix[3]===0)&&(0,R.warn)("Invalid font matrix for font "+G),X<0?(X=-X,Pe.fontDirection=-1):Pe.fontDirection=1,this.current.font=pe,this.current.fontSize=X,pe.isType3Font)return;const Ae=pe.loadedName||"sans-serif",ke=((st=pe.systemFontInfo)==null?void 0:st.css)||`"${Ae}", ${pe.fallbackName}`;let Oe="normal";pe.black?Oe="900":pe.bold&&(Oe="bold");const Qe=pe.italic?"italic":"normal";let ot=X;X<me?ot=me:X>ue&&(ot=ue),this.current.fontSizeScale=X/ot,this.ctx.font=`${Qe} ${Oe} ${ot}px ${ke}`}setTextRenderingMode(G){this.current.textRenderingMode=G}setTextRise(G){this.current.textRise=G}moveText(G,X){this.current.x=this.current.lineX+=G,this.current.y=this.current.lineY+=X}setLeadingMoveText(G,X){this.setLeading(-X),this.moveText(G,X)}setTextMatrix(G,X,pe,Pe,Ae,ke){this.current.textMatrix=[G,X,pe,Pe,Ae,ke],this.current.textMatrixScale=Math.hypot(G,X),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(G,X,pe,Pe){const Ae=this.ctx,ke=this.current,Oe=ke.font,Qe=ke.textRenderingMode,ot=ke.fontSize/ke.fontSizeScale,st=Qe&R.TextRenderingMode.FILL_STROKE_MASK,ut=!!(Qe&R.TextRenderingMode.ADD_TO_PATH_FLAG),dt=ke.patternFill&&!Oe.missingFile;let mt;(Oe.disableFontFace||ut||dt)&&(mt=Oe.getPathGenerator(this.commonObjs,G)),Oe.disableFontFace||dt?(Ae.save(),Ae.translate(X,pe),Ae.beginPath(),mt(Ae,ot),Pe&&Ae.setTransform(...Pe),(st===R.TextRenderingMode.FILL||st===R.TextRenderingMode.FILL_STROKE)&&Ae.fill(),(st===R.TextRenderingMode.STROKE||st===R.TextRenderingMode.FILL_STROKE)&&Ae.stroke(),Ae.restore()):((st===R.TextRenderingMode.FILL||st===R.TextRenderingMode.FILL_STROKE)&&Ae.fillText(G,X,pe),(st===R.TextRenderingMode.STROKE||st===R.TextRenderingMode.FILL_STROKE)&&Ae.strokeText(G,X,pe)),ut&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,O.getCurrentTransform)(Ae),x:X,y:pe,fontSize:ot,addToPath:mt})}get isFontSubpixelAAEnabled(){const{context:G}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);G.scale(1.5,1),G.fillText("I",0,10);const X=G.getImageData(0,0,10,10).data;let pe=!1;for(let Pe=3;Pe<X.length;Pe+=4)if(X[Pe]>0&&X[Pe]<255){pe=!0;break}return(0,R.shadow)(this,"isFontSubpixelAAEnabled",pe)}showText(G){const X=this.current,pe=X.font;if(pe.isType3Font)return this.showType3Text(G);const Pe=X.fontSize;if(Pe===0)return;const Ae=this.ctx,ke=X.fontSizeScale,Oe=X.charSpacing,Qe=X.wordSpacing,ot=X.fontDirection,st=X.textHScale*ot,ut=G.length,dt=pe.vertical,mt=dt?1:-1,Ge=pe.defaultVMetrics,Xe=Pe*X.fontMatrix[0],fe=X.textRenderingMode===R.TextRenderingMode.FILL&&!pe.disableFontFace&&!X.patternFill;Ae.save(),Ae.transform(...X.textMatrix),Ae.translate(X.x,X.y+X.textRise),ot>0?Ae.scale(st,-1):Ae.scale(st,1);let ye;if(X.patternFill){Ae.save();const ht=X.fillColor.getPattern(Ae,this,(0,O.getCurrentTransformInverse)(Ae),B.PathType.FILL);ye=(0,O.getCurrentTransform)(Ae),Ae.restore(),Ae.fillStyle=ht}let je=X.lineWidth;const Ke=X.textMatrixScale;if(Ke===0||je===0){const ht=X.textRenderingMode&R.TextRenderingMode.FILL_STROKE_MASK;(ht===R.TextRenderingMode.STROKE||ht===R.TextRenderingMode.FILL_STROKE)&&(je=this.getSinglePixelWidth())}else je/=Ke;if(ke!==1&&(Ae.scale(ke,ke),je/=ke),Ae.lineWidth=je,pe.isInvalidPDFjsFont){const ht=[];let We=0;for(const wt of G)ht.push(wt.unicode),We+=wt.width;Ae.fillText(ht.join(""),0,0),X.x+=We*Xe*st,Ae.restore(),this.compose();return}let nt=0,pt;for(pt=0;pt<ut;++pt){const ht=G[pt];if(typeof ht=="number"){nt+=mt*ht*Pe/1e3;continue}let We=!1;const wt=(ht.isSpace?Qe:0)+Oe,St=ht.fontChar,Yt=ht.accent;let Ut,dn,Rt=ht.width;if(dt){const an=ht.vmetric||Ge,_n=-(ht.vmetric?an[1]:Rt*.5)*Xe,gt=an[2]*Xe;Rt=an?-an[0]:Rt,Ut=_n/ke,dn=(nt+gt)/ke}else Ut=nt/ke,dn=0;if(pe.remeasure&&Rt>0){const an=Ae.measureText(St).width*1e3/Pe*ke;if(Rt<an&&this.isFontSubpixelAAEnabled){const _n=Rt/an;We=!0,Ae.save(),Ae.scale(_n,1),Ut/=_n}else Rt!==an&&(Ut+=(Rt-an)/2e3*Pe/ke)}if(this.contentVisible&&(ht.isInFont||pe.missingFile)){if(fe&&!Yt)Ae.fillText(St,Ut,dn);else if(this.paintChar(St,Ut,dn,ye),Yt){const an=Ut+Pe*Yt.offset.x/ke,_n=dn-Pe*Yt.offset.y/ke;this.paintChar(Yt.fontChar,an,_n,ye)}}const zt=dt?Rt*Xe-wt*ot:Rt*Xe+wt*ot;nt+=zt,We&&Ae.restore()}dt?X.y-=nt:X.x+=nt*st,Ae.restore(),this.compose()}showType3Text(G){const X=this.ctx,pe=this.current,Pe=pe.font,Ae=pe.fontSize,ke=pe.fontDirection,Oe=Pe.vertical?1:-1,Qe=pe.charSpacing,ot=pe.wordSpacing,st=pe.textHScale*ke,ut=pe.fontMatrix||R.FONT_IDENTITY_MATRIX,dt=G.length,mt=pe.textRenderingMode===R.TextRenderingMode.INVISIBLE;let Ge,Xe,fe,ye;if(!(mt||Ae===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,X.save(),X.transform(...pe.textMatrix),X.translate(pe.x,pe.y),X.scale(st,ke),Ge=0;Ge<dt;++Ge){if(Xe=G[Ge],typeof Xe=="number"){ye=Oe*Xe*Ae/1e3,this.ctx.translate(ye,0),pe.x+=ye*st;continue}const je=(Xe.isSpace?ot:0)+Qe,Ke=Pe.charProcOperatorList[Xe.operatorListId];if(!Ke){(0,R.warn)(`Type3 character "${Xe.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Xe,this.save(),X.scale(Ae,Ae),X.transform(...ut),this.executeOperatorList(Ke),this.restore()),fe=R.Util.applyTransform([Xe.width,0],ut)[0]*Ae+je,X.translate(fe,0),pe.x+=fe*st}X.restore(),this.processingType3=null}}setCharWidth(G,X){}setCharWidthAndBounds(G,X,pe,Pe,Ae,ke){this.ctx.rect(pe,Pe,Ae-pe,ke-Pe),this.ctx.clip(),this.endPath()}getColorN_Pattern(G){let X;if(G[0]==="TilingPattern"){const pe=G[1],Pe=this.baseTransform||(0,O.getCurrentTransform)(this.ctx),Ae={createCanvasGraphics:ke=>new He(ke,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};X=new B.TilingPattern(G,pe,this.ctx,Ae,Pe)}else X=this._getPattern(G[1],G[2]);return X}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(G,X,pe){const Pe=R.Util.makeHexColor(G,X,pe);this.ctx.strokeStyle=Pe,this.current.strokeColor=Pe}setFillRGBColor(G,X,pe){const Pe=R.Util.makeHexColor(G,X,pe);this.ctx.fillStyle=Pe,this.current.fillColor=Pe,this.current.patternFill=!1}_getPattern(G,X=null){let pe;return this.cachedPatterns.has(G)?pe=this.cachedPatterns.get(G):(pe=(0,B.getShadingPattern)(this.getObject(G)),this.cachedPatterns.set(G,pe)),X&&(pe.matrix=X),pe}shadingFill(G){if(!this.contentVisible)return;const X=this.ctx;this.save();const pe=this._getPattern(G);X.fillStyle=pe.getPattern(X,this,(0,O.getCurrentTransformInverse)(X),B.PathType.SHADING);const Pe=(0,O.getCurrentTransformInverse)(X);if(Pe){const{width:Ae,height:ke}=X.canvas,[Oe,Qe,ot,st]=R.Util.getAxialAlignedBoundingBox([0,0,Ae,ke],Pe);this.ctx.fillRect(Oe,Qe,ot-Oe,st-Qe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,R.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,R.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(G,X){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(G)&&G.length===6&&this.transform(...G),this.baseTransform=(0,O.getCurrentTransform)(this.ctx),X)){const pe=X[2]-X[0],Pe=X[3]-X[1];this.ctx.rect(X[0],X[1],pe,Pe),this.current.updateRectMinMax((0,O.getCurrentTransform)(this.ctx),X),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(G){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const X=this.ctx;G.isolated||(0,R.info)("TODO: Support non-isolated groups."),G.knockout&&(0,R.warn)("Knockout groups not supported.");const pe=(0,O.getCurrentTransform)(X);if(G.matrix&&X.transform(...G.matrix),!G.bbox)throw new Error("Bounding box is required.");let Pe=R.Util.getAxialAlignedBoundingBox(G.bbox,(0,O.getCurrentTransform)(X));const Ae=[0,0,X.canvas.width,X.canvas.height];Pe=R.Util.intersect(Pe,Ae)||[0,0,0,0];const ke=Math.floor(Pe[0]),Oe=Math.floor(Pe[1]);let Qe=Math.max(Math.ceil(Pe[2])-ke,1),ot=Math.max(Math.ceil(Pe[3])-Oe,1),st=1,ut=1;Qe>le&&(st=Qe/le,Qe=le),ot>le&&(ut=ot/le,ot=le),this.current.startNewPathAndClipBox([0,0,Qe,ot]);let dt="groupAt"+this.groupLevel;G.smask&&(dt+="_smask_"+this.smaskCounter++%2);const mt=this.cachedCanvases.getCanvas(dt,Qe,ot),Ge=mt.context;Ge.scale(1/st,1/ut),Ge.translate(-ke,-Oe),Ge.transform(...pe),G.smask?this.smaskStack.push({canvas:mt.canvas,context:Ge,offsetX:ke,offsetY:Oe,scaleX:st,scaleY:ut,subtype:G.smask.subtype,backdrop:G.smask.backdrop,transferMap:G.smask.transferMap||null,startTransformInverse:null}):(X.setTransform(1,0,0,1,0,0),X.translate(ke,Oe),X.scale(st,ut),X.save()),te(X,Ge),this.ctx=Ge,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(X),this.groupLevel++}endGroup(G){if(!this.contentVisible)return;this.groupLevel--;const X=this.ctx,pe=this.groupStack.pop();if(this.ctx=pe,this.ctx.imageSmoothingEnabled=!1,G.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Pe=(0,O.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Pe);const Ae=R.Util.getAxialAlignedBoundingBox([0,0,X.canvas.width,X.canvas.height],Pe);this.ctx.drawImage(X.canvas,0,0),this.ctx.restore(),this.compose(Ae)}}beginAnnotation(G,X,pe,Pe,Ae){if(Ue(this,qe,Mi).call(this),se(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(X)&&X.length===4){const ke=X[2]-X[0],Oe=X[3]-X[1];if(Ae&&this.annotationCanvasMap){pe=pe.slice(),pe[4]-=X[0],pe[5]-=X[1],X=X.slice(),X[0]=X[1]=0,X[2]=ke,X[3]=Oe;const[Qe,ot]=R.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(this.ctx)),{viewportScale:st}=this,ut=Math.ceil(ke*this.outputScaleX*st),dt=Math.ceil(Oe*this.outputScaleY*st);this.annotationCanvas=this.canvasFactory.create(ut,dt);const{canvas:mt,context:Ge}=this.annotationCanvas;this.annotationCanvasMap.set(G,mt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ge,this.ctx.save(),this.ctx.setTransform(Qe,0,0,-ot,0,Oe*ot),se(this.ctx)}else se(this.ctx),this.ctx.rect(X[0],X[1],ke,Oe),this.ctx.clip(),this.endPath()}this.current=new ie(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...pe),this.transform(...Pe)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ue(this,qe,xi).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(G){if(!this.contentVisible)return;const X=G.count;G=this.getObject(G.data,G),G.count=X;const pe=this.ctx,Pe=this.processingType3;if(Pe&&(Pe.compiled===void 0&&(Pe.compiled=ee(G)),Pe.compiled)){Pe.compiled(pe);return}const Ae=this._createMaskCanvas(G),ke=Ae.canvas;pe.save(),pe.setTransform(1,0,0,1,0,0),pe.drawImage(ke,Ae.offsetX,Ae.offsetY),pe.restore(),this.compose()}paintImageMaskXObjectRepeat(G,X,pe=0,Pe=0,Ae,ke){if(!this.contentVisible)return;G=this.getObject(G.data,G);const Oe=this.ctx;Oe.save();const Qe=(0,O.getCurrentTransform)(Oe);Oe.transform(X,pe,Pe,Ae,0,0);const ot=this._createMaskCanvas(G);Oe.setTransform(1,0,0,1,ot.offsetX-Qe[4],ot.offsetY-Qe[5]);for(let st=0,ut=ke.length;st<ut;st+=2){const dt=R.Util.transform(Qe,[X,pe,Pe,Ae,ke[st],ke[st+1]]),[mt,Ge]=R.Util.applyTransform([0,0],dt);Oe.drawImage(ot.canvas,mt,Ge)}Oe.restore(),this.compose()}paintImageMaskXObjectGroup(G){if(!this.contentVisible)return;const X=this.ctx,pe=this.current.fillColor,Pe=this.current.patternFill;for(const Ae of G){const{data:ke,width:Oe,height:Qe,transform:ot}=Ae,st=this.cachedCanvases.getCanvas("maskCanvas",Oe,Qe),ut=st.context;ut.save();const dt=this.getObject(ke,Ae);de(ut,dt),ut.globalCompositeOperation="source-in",ut.fillStyle=Pe?pe.getPattern(ut,this,(0,O.getCurrentTransformInverse)(X),B.PathType.FILL):pe,ut.fillRect(0,0,Oe,Qe),ut.restore(),X.save(),X.transform(...ot),X.scale(1,-1),q(X,st.canvas,0,0,Oe,Qe,0,-1,1,1),X.restore()}this.compose()}paintImageXObject(G){if(!this.contentVisible)return;const X=this.getObject(G);if(!X){(0,R.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(X)}paintImageXObjectRepeat(G,X,pe,Pe){if(!this.contentVisible)return;const Ae=this.getObject(G);if(!Ae){(0,R.warn)("Dependent image isn't ready yet");return}const ke=Ae.width,Oe=Ae.height,Qe=[];for(let ot=0,st=Pe.length;ot<st;ot+=2)Qe.push({transform:[X,0,0,pe,Pe[ot],Pe[ot+1]],x:0,y:0,w:ke,h:Oe});this.paintInlineImageXObjectGroup(Ae,Qe)}applyTransferMapsToCanvas(G){return this.current.transferMaps!=="none"&&(G.filter=this.current.transferMaps,G.drawImage(G.canvas,0,0),G.filter="none"),G.canvas}applyTransferMapsToBitmap(G){if(this.current.transferMaps==="none")return G.bitmap;const{bitmap:X,width:pe,height:Pe}=G,Ae=this.cachedCanvases.getCanvas("inlineImage",pe,Pe),ke=Ae.context;return ke.filter=this.current.transferMaps,ke.drawImage(X,0,0),ke.filter="none",Ae.canvas}paintInlineImageXObject(G){if(!this.contentVisible)return;const X=G.width,pe=G.height,Pe=this.ctx;if(this.save(),!R.isNodeJS){const{filter:Oe}=Pe;Oe!=="none"&&Oe!==""&&(Pe.filter="none")}Pe.scale(1/X,-1/pe);let Ae;if(G.bitmap)Ae=this.applyTransferMapsToBitmap(G);else if(typeof HTMLElement=="function"&&G instanceof HTMLElement||!G.data)Ae=G;else{const Qe=this.cachedCanvases.getCanvas("inlineImage",X,pe).context;ve(Qe,G),Ae=this.applyTransferMapsToCanvas(Qe)}const ke=this._scaleImage(Ae,(0,O.getCurrentTransformInverse)(Pe));Pe.imageSmoothingEnabled=ge((0,O.getCurrentTransform)(Pe),G.interpolate),q(Pe,ke.img,0,0,ke.paintWidth,ke.paintHeight,0,-pe,X,pe),this.compose(),this.restore()}paintInlineImageXObjectGroup(G,X){if(!this.contentVisible)return;const pe=this.ctx;let Pe;if(G.bitmap)Pe=G.bitmap;else{const Ae=G.width,ke=G.height,Qe=this.cachedCanvases.getCanvas("inlineImage",Ae,ke).context;ve(Qe,G),Pe=this.applyTransferMapsToCanvas(Qe)}for(const Ae of X)pe.save(),pe.transform(...Ae.transform),pe.scale(1,-1),q(pe,Pe,Ae.x,Ae.y,Ae.w,Ae.h,0,-1,1,1),pe.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(G){}markPointProps(G,X){}beginMarkedContent(G){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(G,X){G==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(X)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(G){const X=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(G);const pe=this.ctx;this.pendingClip&&(X||(this.pendingClip===Ne?pe.clip("evenodd"):pe.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),pe.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const G=(0,O.getCurrentTransform)(this.ctx);if(G[1]===0&&G[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(G[0]),Math.abs(G[3]));else{const X=Math.abs(G[0]*G[3]-G[2]*G[1]),pe=Math.hypot(G[0],G[2]),Pe=Math.hypot(G[1],G[3]);this._cachedGetSinglePixelWidth=Math.max(pe,Pe)/X}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:G}=this.current,{a:X,b:pe,c:Pe,d:Ae}=this.ctx.getTransform();let ke,Oe;if(pe===0&&Pe===0){const Qe=Math.abs(X),ot=Math.abs(Ae);if(Qe===ot)if(G===0)ke=Oe=1/Qe;else{const st=Qe*G;ke=Oe=st<1?1/st:1}else if(G===0)ke=1/Qe,Oe=1/ot;else{const st=Qe*G,ut=ot*G;ke=st<1?1/st:1,Oe=ut<1?1/ut:1}}else{const Qe=Math.abs(X*Ae-pe*Pe),ot=Math.hypot(X,pe),st=Math.hypot(Pe,Ae);if(G===0)ke=st/Qe,Oe=ot/Qe;else{const ut=G*Qe;ke=st>ut?st/ut:1,Oe=ot>ut?ot/ut:1}}this._cachedScaleForStroking[0]=ke,this._cachedScaleForStroking[1]=Oe}return this._cachedScaleForStroking}rescaleAndStroke(G){const{ctx:X}=this,{lineWidth:pe}=this.current,[Pe,Ae]=this.getScaleForStroking();if(X.lineWidth=pe||1,Pe===1&&Ae===1){X.stroke();return}const ke=X.getLineDash();if(G&&X.save(),X.scale(Pe,Ae),ke.length>0){const Oe=Math.max(Pe,Ae);X.setLineDash(ke.map(Qe=>Qe/Oe)),X.lineDashOffset/=Oe}X.stroke(),G&&X.restore()}isContentVisible(){for(let G=this.markedContentStack.length-1;G>=0;G--)if(!this.markedContentStack[G].visible)return!1;return!0}};qe=new WeakSet,Mi=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},xi=function(){if(this.pageColors){const G=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(G!=="none"){const X=this.ctx.filter;this.ctx.filter=G,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=X}}};let Fe=He;$.CanvasGraphics=Fe;for(const _e in R.OPS)Fe.prototype[_e]!==void 0&&(Fe.prototype[R.OPS[_e]]=Fe.prototype[_e])},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=J;var R=H(1),O=H(6);const B={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=B;function Y(ee,ie){if(!ie)return;const ve=ie[2]-ie[0],de=ie[3]-ie[1],te=new Path2D;te.rect(ie[0],ie[1],ve,de),ee.clip(te)}class me{constructor(){this.constructor===me&&(0,R.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,R.unreachable)("Abstract method `getPattern` called.")}}class ue extends me{constructor(ie){super(),this._type=ie[1],this._bbox=ie[2],this._colorStops=ie[3],this._p0=ie[4],this._p1=ie[5],this._r0=ie[6],this._r1=ie[7],this.matrix=null}_createGradient(ie){let ve;this._type==="axial"?ve=ie.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ve=ie.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const de of this._colorStops)ve.addColorStop(de[0],de[1]);return ve}getPattern(ie,ve,de,te){let se;if(te===B.STROKE||te===B.FILL){const ne=ve.current.getClippedPathBoundingBox(te,(0,O.getCurrentTransform)(ie))||[0,0,0,0],ae=Math.ceil(ne[2]-ne[0])||1,oe=Math.ceil(ne[3]-ne[1])||1,Ee=ve.cachedCanvases.getCanvas("pattern",ae,oe,!0),K=Ee.context;K.clearRect(0,0,K.canvas.width,K.canvas.height),K.beginPath(),K.rect(0,0,K.canvas.width,K.canvas.height),K.translate(-ne[0],-ne[1]),de=R.Util.transform(de,[1,0,0,1,ne[0],ne[1]]),K.transform(...ve.baseTransform),this.matrix&&K.transform(...this.matrix),Y(K,this._bbox),K.fillStyle=this._createGradient(K),K.fill(),se=ie.createPattern(Ee.canvas,"no-repeat");const ge=new DOMMatrix(de);se.setTransform(ge)}else Y(ie,this._bbox),se=this._createGradient(ie);return se}}function le(ee,ie,ve,de,te,se,ne,ae){const oe=ie.coords,Ee=ie.colors,K=ee.data,ge=ee.width*4;let Ce;oe[ve+1]>oe[de+1]&&(Ce=ve,ve=de,de=Ce,Ce=se,se=ne,ne=Ce),oe[de+1]>oe[te+1]&&(Ce=de,de=te,te=Ce,Ce=ne,ne=ae,ae=Ce),oe[ve+1]>oe[de+1]&&(Ce=ve,ve=de,de=Ce,Ce=se,se=ne,ne=Ce);const De=(oe[ve]+ie.offsetX)*ie.scaleX,xe=(oe[ve+1]+ie.offsetY)*ie.scaleY,Ne=(oe[de]+ie.offsetX)*ie.scaleX,Fe=(oe[de+1]+ie.offsetY)*ie.scaleY,qe=(oe[te]+ie.offsetX)*ie.scaleX,Se=(oe[te+1]+ie.offsetY)*ie.scaleY;if(xe>=Se)return;const $e=Ee[se],He=Ee[se+1],_e=Ee[se+2],G=Ee[ne],X=Ee[ne+1],pe=Ee[ne+2],Pe=Ee[ae],Ae=Ee[ae+1],ke=Ee[ae+2],Oe=Math.round(xe),Qe=Math.round(Se);let ot,st,ut,dt,mt,Ge,Xe,fe;for(let ye=Oe;ye<=Qe;ye++){if(ye<Fe){const ht=ye<xe?0:(xe-ye)/(xe-Fe);ot=De-(De-Ne)*ht,st=$e-($e-G)*ht,ut=He-(He-X)*ht,dt=_e-(_e-pe)*ht}else{let ht;ye>Se?ht=1:Fe===Se?ht=0:ht=(Fe-ye)/(Fe-Se),ot=Ne-(Ne-qe)*ht,st=G-(G-Pe)*ht,ut=X-(X-Ae)*ht,dt=pe-(pe-ke)*ht}let je;ye<xe?je=0:ye>Se?je=1:je=(xe-ye)/(xe-Se),mt=De-(De-qe)*je,Ge=$e-($e-Pe)*je,Xe=He-(He-Ae)*je,fe=_e-(_e-ke)*je;const Ke=Math.round(Math.min(ot,mt)),nt=Math.round(Math.max(ot,mt));let pt=ge*ye+Ke*4;for(let ht=Ke;ht<=nt;ht++)je=(ot-ht)/(ot-mt),je<0?je=0:je>1&&(je=1),K[pt++]=st-(st-Ge)*je|0,K[pt++]=ut-(ut-Xe)*je|0,K[pt++]=dt-(dt-fe)*je|0,K[pt++]=255}}function U(ee,ie,ve){const de=ie.coords,te=ie.colors;let se,ne;switch(ie.type){case"lattice":const ae=ie.verticesPerRow,oe=Math.floor(de.length/ae)-1,Ee=ae-1;for(se=0;se<oe;se++){let K=se*ae;for(let ge=0;ge<Ee;ge++,K++)le(ee,ve,de[K],de[K+1],de[K+ae],te[K],te[K+1],te[K+ae]),le(ee,ve,de[K+ae+1],de[K+1],de[K+ae],te[K+ae+1],te[K+1],te[K+ae])}break;case"triangles":for(se=0,ne=de.length;se<ne;se+=3)le(ee,ve,de[se],de[se+1],de[se+2],te[se],te[se+1],te[se+2]);break;default:throw new Error("illegal figure")}}class be extends me{constructor(ie){super(),this._coords=ie[2],this._colors=ie[3],this._figures=ie[4],this._bounds=ie[5],this._bbox=ie[7],this._background=ie[8],this.matrix=null}_createMeshCanvas(ie,ve,de){const ae=Math.floor(this._bounds[0]),oe=Math.floor(this._bounds[1]),Ee=Math.ceil(this._bounds[2])-ae,K=Math.ceil(this._bounds[3])-oe,ge=Math.min(Math.ceil(Math.abs(Ee*ie[0]*1.1)),3e3),Ce=Math.min(Math.ceil(Math.abs(K*ie[1]*1.1)),3e3),De=Ee/ge,xe=K/Ce,Ne={coords:this._coords,colors:this._colors,offsetX:-ae,offsetY:-oe,scaleX:1/De,scaleY:1/xe},Fe=ge+2*2,qe=Ce+2*2,Se=de.getCanvas("mesh",Fe,qe,!1),$e=Se.context,He=$e.createImageData(ge,Ce);if(ve){const G=He.data;for(let X=0,pe=G.length;X<pe;X+=4)G[X]=ve[0],G[X+1]=ve[1],G[X+2]=ve[2],G[X+3]=255}for(const G of this._figures)U(He,G,Ne);return $e.putImageData(He,2,2),{canvas:Se.canvas,offsetX:ae-2*De,offsetY:oe-2*xe,scaleX:De,scaleY:xe}}getPattern(ie,ve,de,te){Y(ie,this._bbox);let se;if(te===B.SHADING)se=R.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(ie));else if(se=R.Util.singularValueDecompose2dScale(ve.baseTransform),this.matrix){const ae=R.Util.singularValueDecompose2dScale(this.matrix);se=[se[0]*ae[0],se[1]*ae[1]]}const ne=this._createMeshCanvas(se,te===B.SHADING?null:this._background,ve.cachedCanvases);return te!==B.SHADING&&(ie.setTransform(...ve.baseTransform),this.matrix&&ie.transform(...this.matrix)),ie.translate(ne.offsetX,ne.offsetY),ie.scale(ne.scaleX,ne.scaleY),ie.createPattern(ne.canvas,"no-repeat")}}class ce extends me{getPattern(){return"hotpink"}}function J(ee){switch(ee[0]){case"RadialAxial":return new ue(ee);case"Mesh":return new be(ee);case"Dummy":return new ce}throw new Error(`Unknown IR type: ${ee[0]}`)}const re={COLORED:1,UNCOLORED:2},q=class q{constructor(ie,ve,de,te,se){this.operatorList=ie[2],this.matrix=ie[3]||[1,0,0,1,0,0],this.bbox=ie[4],this.xstep=ie[5],this.ystep=ie[6],this.paintType=ie[7],this.tilingType=ie[8],this.color=ve,this.ctx=de,this.canvasGraphicsFactory=te,this.baseTransform=se}createPatternCanvas(ie){const ve=this.operatorList,de=this.bbox,te=this.xstep,se=this.ystep,ne=this.paintType,ae=this.tilingType,oe=this.color,Ee=this.canvasGraphicsFactory;(0,R.info)("TilingType: "+ae);const K=de[0],ge=de[1],Ce=de[2],De=de[3],xe=R.Util.singularValueDecompose2dScale(this.matrix),Ne=R.Util.singularValueDecompose2dScale(this.baseTransform),Fe=[xe[0]*Ne[0],xe[1]*Ne[1]],qe=this.getSizeAndScale(te,this.ctx.canvas.width,Fe[0]),Se=this.getSizeAndScale(se,this.ctx.canvas.height,Fe[1]),$e=ie.cachedCanvases.getCanvas("pattern",qe.size,Se.size,!0),He=$e.context,_e=Ee.createCanvasGraphics(He);_e.groupLevel=ie.groupLevel,this.setFillAndStrokeStyleToContext(_e,ne,oe);let G=K,X=ge,pe=Ce,Pe=De;return K<0&&(G=0,pe+=Math.abs(K)),ge<0&&(X=0,Pe+=Math.abs(ge)),He.translate(-(qe.scale*G),-(Se.scale*X)),_e.transform(qe.scale,0,0,Se.scale,0,0),He.save(),this.clipBbox(_e,G,X,pe,Pe),_e.baseTransform=(0,O.getCurrentTransform)(_e.ctx),_e.executeOperatorList(ve),_e.endDrawing(),{canvas:$e.canvas,scaleX:qe.scale,scaleY:Se.scale,offsetX:G,offsetY:X}}getSizeAndScale(ie,ve,de){ie=Math.abs(ie);const te=Math.max(q.MAX_PATTERN_SIZE,ve);let se=Math.ceil(ie*de);return se>=te?se=te:de=se/ie,{scale:de,size:se}}clipBbox(ie,ve,de,te,se){const ne=te-ve,ae=se-de;ie.ctx.rect(ve,de,ne,ae),ie.current.updateRectMinMax((0,O.getCurrentTransform)(ie.ctx),[ve,de,te,se]),ie.clip(),ie.endPath()}setFillAndStrokeStyleToContext(ie,ve,de){const te=ie.ctx,se=ie.current;switch(ve){case re.COLORED:const ne=this.ctx;te.fillStyle=ne.fillStyle,te.strokeStyle=ne.strokeStyle,se.fillColor=ne.fillStyle,se.strokeColor=ne.strokeStyle;break;case re.UNCOLORED:const ae=R.Util.makeHexColor(de[0],de[1],de[2]);te.fillStyle=ae,te.strokeStyle=ae,se.fillColor=ae,se.strokeColor=ae;break;default:throw new R.FormatError(`Unsupported paint type: ${ve}`)}}getPattern(ie,ve,de,te){let se=de;te!==B.SHADING&&(se=R.Util.transform(se,ve.baseTransform),this.matrix&&(se=R.Util.transform(se,this.matrix)));const ne=this.createPatternCanvas(ve);let ae=new DOMMatrix(se);ae=ae.translate(ne.offsetX,ne.offsetY),ae=ae.scale(1/ne.scaleX,1/ne.scaleY);const oe=ie.createPattern(ne.canvas,"repeat");return oe.setTransform(ae),oe}};Tn(q,"MAX_PATTERN_SIZE",3e3);let Q=q;$.TilingPattern=Q},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=B,$.convertToRGBA=O,$.grayToRGBA=me;var R=H(1);function O(ue){switch(ue.kind){case R.ImageKind.GRAYSCALE_1BPP:return B(ue);case R.ImageKind.RGB_24BPP:return Y(ue)}return null}function B({src:ue,srcPos:le=0,dest:U,width:be,height:ce,nonBlackColor:J=4294967295,inverseDecode:re=!1}){const Q=R.FeatureTest.isLittleEndian?4278190080:255,[q,ee]=re?[J,Q]:[Q,J],ie=be>>3,ve=be&7,de=ue.length;U=new Uint32Array(U.buffer);let te=0;for(let se=0;se<ce;se++){for(const ae=le+ie;le<ae;le++){const oe=le<de?ue[le]:255;U[te++]=oe&128?ee:q,U[te++]=oe&64?ee:q,U[te++]=oe&32?ee:q,U[te++]=oe&16?ee:q,U[te++]=oe&8?ee:q,U[te++]=oe&4?ee:q,U[te++]=oe&2?ee:q,U[te++]=oe&1?ee:q}if(ve===0)continue;const ne=le<de?ue[le++]:255;for(let ae=0;ae<ve;ae++)U[te++]=ne&1<<7-ae?ee:q}return{srcPos:le,destPos:te}}function Y({src:ue,srcPos:le=0,dest:U,destPos:be=0,width:ce,height:J}){let re=0;const Q=ue.length>>2,q=new Uint32Array(ue.buffer,le,Q);if(R.FeatureTest.isLittleEndian){for(;re<Q-2;re+=3,be+=4){const ee=q[re],ie=q[re+1],ve=q[re+2];U[be]=ee|4278190080,U[be+1]=ee>>>24|ie<<8|4278190080,U[be+2]=ie>>>16|ve<<16|4278190080,U[be+3]=ve>>>8|4278190080}for(let ee=re*4,ie=ue.length;ee<ie;ee+=3)U[be++]=ue[ee]|ue[ee+1]<<8|ue[ee+2]<<16|4278190080}else{for(;re<Q-2;re+=3,be+=4){const ee=q[re],ie=q[re+1],ve=q[re+2];U[be]=ee|255,U[be+1]=ee<<24|ie>>>8|255,U[be+2]=ie<<16|ve>>>16|255,U[be+3]=ve<<8|255}for(let ee=re*4,ie=ue.length;ee<ie;ee+=3)U[be++]=ue[ee]<<24|ue[ee+1]<<16|ue[ee+2]<<8|255}return{srcPos:le,destPos:be}}function me(ue,le){if(R.FeatureTest.isLittleEndian)for(let U=0,be=ue.length;U<be;U++)le[U]=ue[U]*65793|4278190080;else for(let U=0,be=ue.length;U<be;U++)le[U]=ue[U]*16843008|255}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const H=Object.create(null);$.GlobalWorkerOptions=H,H.workerPort=null,H.workerSrc=""},(A,$,H)=>{var ue,Sa,wa,Gr;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var R=H(1);const O={UNKNOWN:0,DATA:1,ERROR:2},B={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Y(ce){switch(ce instanceof Error||typeof ce=="object"&&ce!==null||(0,R.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ce.name){case"AbortException":return new R.AbortException(ce.message);case"MissingPDFException":return new R.MissingPDFException(ce.message);case"PasswordException":return new R.PasswordException(ce.message,ce.code);case"UnexpectedResponseException":return new R.UnexpectedResponseException(ce.message,ce.status);case"UnknownErrorException":return new R.UnknownErrorException(ce.message,ce.details);default:return new R.UnknownErrorException(ce.message,ce.toString())}}class me{constructor(J,re,Q){it(this,ue);this.sourceName=J,this.targetName=re,this.comObj=Q,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=q=>{const ee=q.data;if(ee.targetName!==this.sourceName)return;if(ee.stream){Ue(this,ue,wa).call(this,ee);return}if(ee.callback){const ve=ee.callbackId,de=this.callbackCapabilities[ve];if(!de)throw new Error(`Cannot resolve callback ${ve}`);if(delete this.callbackCapabilities[ve],ee.callback===O.DATA)de.resolve(ee.data);else if(ee.callback===O.ERROR)de.reject(Y(ee.reason));else throw new Error("Unexpected callback case");return}const ie=this.actionHandler[ee.action];if(!ie)throw new Error(`Unknown action from worker: ${ee.action}`);if(ee.callbackId){const ve=this.sourceName,de=ee.sourceName;new Promise(function(te){te(ie(ee.data))}).then(function(te){Q.postMessage({sourceName:ve,targetName:de,callback:O.DATA,callbackId:ee.callbackId,data:te})},function(te){Q.postMessage({sourceName:ve,targetName:de,callback:O.ERROR,callbackId:ee.callbackId,reason:Y(te)})});return}if(ee.streamId){Ue(this,ue,Sa).call(this,ee);return}ie(ee.data)},Q.addEventListener("message",this._onComObjOnMessage)}on(J,re){const Q=this.actionHandler;if(Q[J])throw new Error(`There is already an actionName called "${J}"`);Q[J]=re}send(J,re,Q){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:J,data:re},Q)}sendWithPromise(J,re,Q){const q=this.callbackId++,ee=new R.PromiseCapability;this.callbackCapabilities[q]=ee;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:J,callbackId:q,data:re},Q)}catch(ie){ee.reject(ie)}return ee.promise}sendWithStream(J,re,Q,q){const ee=this.streamId++,ie=this.sourceName,ve=this.targetName,de=this.comObj;return new ReadableStream({start:te=>{const se=new R.PromiseCapability;return this.streamControllers[ee]={controller:te,startCall:se,pullCall:null,cancelCall:null,isClosed:!1},de.postMessage({sourceName:ie,targetName:ve,action:J,streamId:ee,data:re,desiredSize:te.desiredSize},q),se.promise},pull:te=>{const se=new R.PromiseCapability;return this.streamControllers[ee].pullCall=se,de.postMessage({sourceName:ie,targetName:ve,stream:B.PULL,streamId:ee,desiredSize:te.desiredSize}),se.promise},cancel:te=>{(0,R.assert)(te instanceof Error,"cancel must have a valid reason");const se=new R.PromiseCapability;return this.streamControllers[ee].cancelCall=se,this.streamControllers[ee].isClosed=!0,de.postMessage({sourceName:ie,targetName:ve,stream:B.CANCEL,streamId:ee,reason:Y(te)}),se.promise}},Q)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ue=new WeakSet,Sa=function(J){const re=J.streamId,Q=this.sourceName,q=J.sourceName,ee=this.comObj,ie=this,ve=this.actionHandler[J.action],de={enqueue(te,se=1,ne){if(this.isCancelled)return;const ae=this.desiredSize;this.desiredSize-=se,ae>0&&this.desiredSize<=0&&(this.sinkCapability=new R.PromiseCapability,this.ready=this.sinkCapability.promise),ee.postMessage({sourceName:Q,targetName:q,stream:B.ENQUEUE,streamId:re,chunk:te},ne)},close(){this.isCancelled||(this.isCancelled=!0,ee.postMessage({sourceName:Q,targetName:q,stream:B.CLOSE,streamId:re}),delete ie.streamSinks[re])},error(te){(0,R.assert)(te instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ee.postMessage({sourceName:Q,targetName:q,stream:B.ERROR,streamId:re,reason:Y(te)}))},sinkCapability:new R.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:J.desiredSize,ready:null};de.sinkCapability.resolve(),de.ready=de.sinkCapability.promise,this.streamSinks[re]=de,new Promise(function(te){te(ve(J.data,de))}).then(function(){ee.postMessage({sourceName:Q,targetName:q,stream:B.START_COMPLETE,streamId:re,success:!0})},function(te){ee.postMessage({sourceName:Q,targetName:q,stream:B.START_COMPLETE,streamId:re,reason:Y(te)})})},wa=function(J){const re=J.streamId,Q=this.sourceName,q=J.sourceName,ee=this.comObj,ie=this.streamControllers[re],ve=this.streamSinks[re];switch(J.stream){case B.START_COMPLETE:J.success?ie.startCall.resolve():ie.startCall.reject(Y(J.reason));break;case B.PULL_COMPLETE:J.success?ie.pullCall.resolve():ie.pullCall.reject(Y(J.reason));break;case B.PULL:if(!ve){ee.postMessage({sourceName:Q,targetName:q,stream:B.PULL_COMPLETE,streamId:re,success:!0});break}ve.desiredSize<=0&&J.desiredSize>0&&ve.sinkCapability.resolve(),ve.desiredSize=J.desiredSize,new Promise(function(de){var te;de((te=ve.onPull)==null?void 0:te.call(ve))}).then(function(){ee.postMessage({sourceName:Q,targetName:q,stream:B.PULL_COMPLETE,streamId:re,success:!0})},function(de){ee.postMessage({sourceName:Q,targetName:q,stream:B.PULL_COMPLETE,streamId:re,reason:Y(de)})});break;case B.ENQUEUE:if((0,R.assert)(ie,"enqueue should have stream controller"),ie.isClosed)break;ie.controller.enqueue(J.chunk);break;case B.CLOSE:if((0,R.assert)(ie,"close should have stream controller"),ie.isClosed)break;ie.isClosed=!0,ie.controller.close(),Ue(this,ue,Gr).call(this,ie,re);break;case B.ERROR:(0,R.assert)(ie,"error should have stream controller"),ie.controller.error(Y(J.reason)),Ue(this,ue,Gr).call(this,ie,re);break;case B.CANCEL_COMPLETE:J.success?ie.cancelCall.resolve():ie.cancelCall.reject(Y(J.reason)),Ue(this,ue,Gr).call(this,ie,re);break;case B.CANCEL:if(!ve)break;new Promise(function(de){var te;de((te=ve.onCancel)==null?void 0:te.call(ve,Y(J.reason)))}).then(function(){ee.postMessage({sourceName:Q,targetName:q,stream:B.CANCEL_COMPLETE,streamId:re,success:!0})},function(de){ee.postMessage({sourceName:Q,targetName:q,stream:B.CANCEL_COMPLETE,streamId:re,reason:Y(de)})}),ve.sinkCapability.reject(Y(J.reason)),ve.isCancelled=!0,delete this.streamSinks[re];break;default:throw new Error("Unexpected stream case")}},Gr=async function(J,re){var Q,q,ee;await Promise.allSettled([(Q=J.startCall)==null?void 0:Q.promise,(q=J.pullCall)==null?void 0:q.promise,(ee=J.cancelCall)==null?void 0:ee.promise]),delete this.streamControllers[re]},$.MessageHandler=me},(A,$,H)=>{var B,Y;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var R=H(1);class O{constructor({parsedData:ue,rawData:le}){it(this,B);it(this,Y);at(this,B,ue),at(this,Y,le)}getRaw(){return V(this,Y)}get(ue){return V(this,B).get(ue)??null}getAll(){return(0,R.objectFromMap)(V(this,B))}has(ue){return V(this,B).has(ue)}}B=new WeakMap,Y=new WeakMap,$.Metadata=O},(A,$,H)=>{var ue,le,U,be,ce,J,$i;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var R=H(1),O=H(8);const B=Symbol("INTERNAL");class Y{constructor(q,ee){it(this,ue,!0);this.name=q,this.intent=ee}get visible(){return V(this,ue)}_setVisible(q,ee){q!==B&&(0,R.unreachable)("Internal method `_setVisible` called."),at(this,ue,ee)}}ue=new WeakMap;class me{constructor(q){it(this,J);it(this,le,null);it(this,U,new Map);it(this,be,null);it(this,ce,null);if(this.name=null,this.creator=null,q!==null){this.name=q.name,this.creator=q.creator,at(this,ce,q.order);for(const ee of q.groups)V(this,U).set(ee.id,new Y(ee.name,ee.intent));if(q.baseState==="OFF")for(const ee of V(this,U).values())ee._setVisible(B,!1);for(const ee of q.on)V(this,U).get(ee)._setVisible(B,!0);for(const ee of q.off)V(this,U).get(ee)._setVisible(B,!1);at(this,be,this.getHash())}}isVisible(q){if(V(this,U).size===0)return!0;if(!q)return(0,R.warn)("Optional content group not defined."),!0;if(q.type==="OCG")return V(this,U).has(q.id)?V(this,U).get(q.id).visible:((0,R.warn)(`Optional content group not found: ${q.id}`),!0);if(q.type==="OCMD"){if(q.expression)return Ue(this,J,$i).call(this,q.expression);if(!q.policy||q.policy==="AnyOn"){for(const ee of q.ids){if(!V(this,U).has(ee))return(0,R.warn)(`Optional content group not found: ${ee}`),!0;if(V(this,U).get(ee).visible)return!0}return!1}else if(q.policy==="AllOn"){for(const ee of q.ids){if(!V(this,U).has(ee))return(0,R.warn)(`Optional content group not found: ${ee}`),!0;if(!V(this,U).get(ee).visible)return!1}return!0}else if(q.policy==="AnyOff"){for(const ee of q.ids){if(!V(this,U).has(ee))return(0,R.warn)(`Optional content group not found: ${ee}`),!0;if(!V(this,U).get(ee).visible)return!0}return!1}else if(q.policy==="AllOff"){for(const ee of q.ids){if(!V(this,U).has(ee))return(0,R.warn)(`Optional content group not found: ${ee}`),!0;if(V(this,U).get(ee).visible)return!1}return!0}return(0,R.warn)(`Unknown optional content policy ${q.policy}.`),!0}return(0,R.warn)(`Unknown group type ${q.type}.`),!0}setVisibility(q,ee=!0){if(!V(this,U).has(q)){(0,R.warn)(`Optional content group not found: ${q}`);return}V(this,U).get(q)._setVisible(B,!!ee),at(this,le,null)}get hasInitialVisibility(){return V(this,be)===null||this.getHash()===V(this,be)}getOrder(){return V(this,U).size?V(this,ce)?V(this,ce).slice():[...V(this,U).keys()]:null}getGroups(){return V(this,U).size>0?(0,R.objectFromMap)(V(this,U)):null}getGroup(q){return V(this,U).get(q)||null}getHash(){if(V(this,le)!==null)return V(this,le);const q=new O.MurmurHash3_64;for(const[ee,ie]of V(this,U))q.update(`${ee}:${ie.visible}`);return at(this,le,q.hexdigest())}}le=new WeakMap,U=new WeakMap,be=new WeakMap,ce=new WeakMap,J=new WeakSet,$i=function(q){const ee=q.length;if(ee<2)return!0;const ie=q[0];for(let ve=1;ve<ee;ve++){const de=q[ve];let te;if(Array.isArray(de))te=Ue(this,J,$i).call(this,de);else if(V(this,U).has(de))te=V(this,U).get(de).visible;else return(0,R.warn)(`Optional content group not found: ${de}`),!0;switch(ie){case"And":if(!te)return!1;break;case"Or":if(te)return!0;break;case"Not":return!te;default:return!0}}return ie==="And"},$.OptionalContentConfig=me},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var R=H(1),O=H(6);class B{constructor({length:le,initialData:U,progressiveDone:be=!1,contentDispositionFilename:ce=null,disableRange:J=!1,disableStream:re=!1},Q){if((0,R.assert)(Q,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=be,this._contentDispositionFilename=ce,(U==null?void 0:U.length)>0){const q=U instanceof Uint8Array&&U.byteLength===U.buffer.byteLength?U.buffer:new Uint8Array(U).buffer;this._queuedChunks.push(q)}this._pdfDataRangeTransport=Q,this._isStreamingSupported=!re,this._isRangeSupported=!J,this._contentLength=le,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((q,ee)=>{this._onReceiveData({begin:q,chunk:ee})}),this._pdfDataRangeTransport.addProgressListener((q,ee)=>{this._onProgress({loaded:q,total:ee})}),this._pdfDataRangeTransport.addProgressiveReadListener(q=>{this._onReceiveData({chunk:q})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:le,chunk:U}){const be=U instanceof Uint8Array&&U.byteLength===U.buffer.byteLength?U.buffer:new Uint8Array(U).buffer;if(le===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(be):this._queuedChunks.push(be);else{const ce=this._rangeReaders.some(function(J){return J._begin!==le?!1:(J._enqueue(be),!0)});(0,R.assert)(ce,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var le;return((le=this._fullRequestReader)==null?void 0:le._loaded)??0}_onProgress(le){var U,be,ce,J;le.total===void 0?(be=(U=this._rangeReaders[0])==null?void 0:U.onProgress)==null||be.call(U,{loaded:le.loaded}):(J=(ce=this._fullRequestReader)==null?void 0:ce.onProgress)==null||J.call(ce,{loaded:le.loaded,total:le.total})}_onProgressiveDone(){var le;(le=this._fullRequestReader)==null||le.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(le){const U=this._rangeReaders.indexOf(le);U>=0&&this._rangeReaders.splice(U,1)}getFullReader(){(0,R.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const le=this._queuedChunks;return this._queuedChunks=null,new Y(this,le,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(le,U){if(U<=this._progressiveDataLength)return null;const be=new me(this,le,U);return this._pdfDataRangeTransport.requestDataRange(le,U),this._rangeReaders.push(be),be}cancelAllRequests(le){var U;(U=this._fullRequestReader)==null||U.cancel(le);for(const be of this._rangeReaders.slice(0))be.cancel(le);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=B;class Y{constructor(le,U,be=!1,ce=null){this._stream=le,this._done=be||!1,this._filename=(0,O.isPdfFile)(ce)?ce:null,this._queuedChunks=U||[],this._loaded=0;for(const J of this._queuedChunks)this._loaded+=J.byteLength;this._requests=[],this._headersReady=Promise.resolve(),le._fullRequestReader=this,this.onProgress=null}_enqueue(le){this._done||(this._requests.length>0?this._requests.shift().resolve({value:le,done:!1}):this._queuedChunks.push(le),this._loaded+=le.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const le=new R.PromiseCapability;return this._requests.push(le),le.promise}cancel(le){this._done=!0;for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class me{constructor(le,U,be){this._stream=le,this._begin=U,this._end=be,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(le){if(!this._done){if(this._requests.length===0)this._queuedChunk=le;else{this._requests.shift().resolve({value:le,done:!1});for(const be of this._requests)be.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const U=this._queuedChunk;return this._queuedChunk=null,{value:U,done:!1}}if(this._done)return{value:void 0,done:!0};const le=new R.PromiseCapability;return this._requests.push(le),le.promise}cancel(le){this._done=!0;for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var R=H(1),O=H(20);function B(be,ce,J){return{method:"GET",headers:be,signal:J.signal,mode:"cors",credentials:ce?"include":"same-origin",redirect:"follow"}}function Y(be){const ce=new Headers;for(const J in be){const re=be[J];re!==void 0&&ce.append(J,re)}return ce}function me(be){return be instanceof Uint8Array?be.buffer:be instanceof ArrayBuffer?be:((0,R.warn)(`getArrayBuffer - unexpected data format: ${be}`),new Uint8Array(be).buffer)}class ue{constructor(ce){this.source=ce,this.isHttp=/^https?:/i.test(ce.url),this.httpHeaders=this.isHttp&&ce.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ce;return((ce=this._fullRequestReader)==null?void 0:ce._loaded)??0}getFullReader(){return(0,R.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new le(this),this._fullRequestReader}getRangeReader(ce,J){if(J<=this._progressiveDataLength)return null;const re=new U(this,ce,J);return this._rangeRequestReaders.push(re),re}cancelAllRequests(ce){var J;(J=this._fullRequestReader)==null||J.cancel(ce);for(const re of this._rangeRequestReaders.slice(0))re.cancel(ce)}}$.PDFFetchStream=ue;class le{constructor(ce){this._stream=ce,this._reader=null,this._loaded=0,this._filename=null;const J=ce.source;this._withCredentials=J.withCredentials||!1,this._contentLength=J.length,this._headersCapability=new R.PromiseCapability,this._disableRange=J.disableRange||!1,this._rangeChunkSize=J.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!J.disableStream,this._isRangeSupported=!J.disableRange,this._headers=Y(this._stream.httpHeaders);const re=J.url;fetch(re,B(this._headers,this._withCredentials,this._abortController)).then(Q=>{if(!(0,O.validateResponseStatus)(Q.status))throw(0,O.createResponseStatusError)(Q.status,re);this._reader=Q.body.getReader(),this._headersCapability.resolve();const q=ve=>Q.headers.get(ve),{allowRangeRequests:ee,suggestedLength:ie}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:q,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ee,this._contentLength=ie||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(q),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new R.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._headersCapability.promise;const{value:ce,done:J}=await this._reader.read();return J?{value:ce,done:J}:(this._loaded+=ce.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded,total:this._contentLength}),{value:me(ce),done:!1})}cancel(ce){var J;(J=this._reader)==null||J.cancel(ce),this._abortController.abort()}}class U{constructor(ce,J,re){this._stream=ce,this._reader=null,this._loaded=0;const Q=ce.source;this._withCredentials=Q.withCredentials||!1,this._readCapability=new R.PromiseCapability,this._isStreamingSupported=!Q.disableStream,this._abortController=new AbortController,this._headers=Y(this._stream.httpHeaders),this._headers.append("Range",`bytes=${J}-${re-1}`);const q=Q.url;fetch(q,B(this._headers,this._withCredentials,this._abortController)).then(ee=>{if(!(0,O.validateResponseStatus)(ee.status))throw(0,O.createResponseStatusError)(ee.status,q);this._readCapability.resolve(),this._reader=ee.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._readCapability.promise;const{value:ce,done:J}=await this._reader.read();return J?{value:ce,done:J}:(this._loaded+=ce.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded}),{value:me(ce),done:!1})}cancel(ce){var J;(J=this._reader)==null||J.cancel(ce),this._abortController.abort()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=ue,$.extractFilenameFromHeader=me,$.validateRangeRequestCapabilities=Y,$.validateResponseStatus=le;var R=H(1),O=H(21),B=H(6);function Y({getResponseHeader:U,isHttp:be,rangeChunkSize:ce,disableRange:J}){const re={allowRangeRequests:!1,suggestedLength:void 0},Q=parseInt(U("Content-Length"),10);return!Number.isInteger(Q)||(re.suggestedLength=Q,Q<=2*ce)||J||!be||U("Accept-Ranges")!=="bytes"||(U("Content-Encoding")||"identity")!=="identity"||(re.allowRangeRequests=!0),re}function me(U){const be=U("Content-Disposition");if(be){let ce=(0,O.getFilenameFromContentDispositionHeader)(be);if(ce.includes("%"))try{ce=decodeURIComponent(ce)}catch{}if((0,B.isPdfFile)(ce))return ce}return null}function ue(U,be){return U===404||U===0&&be.startsWith("file:")?new R.MissingPDFException('Missing PDF "'+be+'".'):new R.UnexpectedResponseException(`Unexpected server response (${U}) while retrieving PDF "${be}".`,U)}function le(U){return U===200||U===206}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=O;var R=H(1);function O(B){let Y=!0,me=ue("filename\\*","i").exec(B);if(me){me=me[1];let Q=ce(me);return Q=unescape(Q),Q=J(Q),Q=re(Q),U(Q)}if(me=be(B),me){const Q=re(me);return U(Q)}if(me=ue("filename","i").exec(B),me){me=me[1];let Q=ce(me);return Q=re(Q),U(Q)}function ue(Q,q){return new RegExp("(?:^|;)\\s*"+Q+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',q)}function le(Q,q){if(Q){if(!/^[\x00-\xFF]+$/.test(q))return q;try{const ee=new TextDecoder(Q,{fatal:!0}),ie=(0,R.stringToBytes)(q);q=ee.decode(ie),Y=!1}catch{}}return q}function U(Q){return Y&&/[\x80-\xff]/.test(Q)&&(Q=le("utf-8",Q),Y&&(Q=le("iso-8859-1",Q))),Q}function be(Q){const q=[];let ee;const ie=ue("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ee=ie.exec(Q))!==null;){let[,de,te,se]=ee;if(de=parseInt(de,10),de in q){if(de===0)break;continue}q[de]=[te,se]}const ve=[];for(let de=0;de<q.length&&de in q;++de){let[te,se]=q[de];se=ce(se),te&&(se=unescape(se),de===0&&(se=J(se))),ve.push(se)}return ve.join("")}function ce(Q){if(Q.startsWith('"')){const q=Q.slice(1).split('\\"');for(let ee=0;ee<q.length;++ee){const ie=q[ee].indexOf('"');ie!==-1&&(q[ee]=q[ee].slice(0,ie),q.length=ee+1),q[ee]=q[ee].replaceAll(/\\(.)/g,"$1")}Q=q.join('"')}return Q}function J(Q){const q=Q.indexOf("'");if(q===-1)return Q;const ee=Q.slice(0,q),ve=Q.slice(q+1).replace(/^[^']*'/,"");return le(ee,ve)}function re(Q){return!Q.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Q)?Q:Q.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(q,ee,ie,ve){if(ie==="q"||ie==="Q")return ve=ve.replaceAll("_"," "),ve=ve.replaceAll(/=([0-9a-fA-F]{2})/g,function(de,te){return String.fromCharCode(parseInt(te,16))}),le(ee,ve);try{ve=atob(ve)}catch{}return le(ee,ve)})}return""}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var R=H(1),O=H(20);const B=200,Y=206;function me(ce){const J=ce.response;return typeof J!="string"?J:(0,R.stringToBytes)(J).buffer}class ue{constructor(J,re={}){this.url=J,this.isHttp=/^https?:/i.test(J),this.httpHeaders=this.isHttp&&re.httpHeaders||Object.create(null),this.withCredentials=re.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(J,re,Q){const q={begin:J,end:re};for(const ee in Q)q[ee]=Q[ee];return this.request(q)}requestFull(J){return this.request(J)}request(J){const re=new XMLHttpRequest,Q=this.currXhrId++,q=this.pendingRequests[Q]={xhr:re};re.open("GET",this.url),re.withCredentials=this.withCredentials;for(const ee in this.httpHeaders){const ie=this.httpHeaders[ee];ie!==void 0&&re.setRequestHeader(ee,ie)}return this.isHttp&&"begin"in J&&"end"in J?(re.setRequestHeader("Range",`bytes=${J.begin}-${J.end-1}`),q.expectedStatus=Y):q.expectedStatus=B,re.responseType="arraybuffer",J.onError&&(re.onerror=function(ee){J.onError(re.status)}),re.onreadystatechange=this.onStateChange.bind(this,Q),re.onprogress=this.onProgress.bind(this,Q),q.onHeadersReceived=J.onHeadersReceived,q.onDone=J.onDone,q.onError=J.onError,q.onProgress=J.onProgress,re.send(null),Q}onProgress(J,re){var q;const Q=this.pendingRequests[J];Q&&((q=Q.onProgress)==null||q.call(Q,re))}onStateChange(J,re){var de,te,se;const Q=this.pendingRequests[J];if(!Q)return;const q=Q.xhr;if(q.readyState>=2&&Q.onHeadersReceived&&(Q.onHeadersReceived(),delete Q.onHeadersReceived),q.readyState!==4||!(J in this.pendingRequests))return;if(delete this.pendingRequests[J],q.status===0&&this.isHttp){(de=Q.onError)==null||de.call(Q,q.status);return}const ee=q.status||B;if(!(ee===B&&Q.expectedStatus===Y)&&ee!==Q.expectedStatus){(te=Q.onError)==null||te.call(Q,q.status);return}const ve=me(q);if(ee===Y){const ne=q.getResponseHeader("Content-Range"),ae=/bytes (\d+)-(\d+)\/(\d+)/.exec(ne);Q.onDone({begin:parseInt(ae[1],10),chunk:ve})}else ve?Q.onDone({begin:0,chunk:ve}):(se=Q.onError)==null||se.call(Q,q.status)}getRequestXhr(J){return this.pendingRequests[J].xhr}isPendingRequest(J){return J in this.pendingRequests}abortRequest(J){const re=this.pendingRequests[J].xhr;delete this.pendingRequests[J],re.abort()}}class le{constructor(J){this._source=J,this._manager=new ue(J.url,{httpHeaders:J.httpHeaders,withCredentials:J.withCredentials}),this._rangeChunkSize=J.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(J){const re=this._rangeRequestReaders.indexOf(J);re>=0&&this._rangeRequestReaders.splice(re,1)}getFullReader(){return(0,R.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new U(this._manager,this._source),this._fullRequestReader}getRangeReader(J,re){const Q=new be(this._manager,J,re);return Q.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Q),Q}cancelAllRequests(J){var re;(re=this._fullRequestReader)==null||re.cancel(J);for(const Q of this._rangeRequestReaders.slice(0))Q.cancel(J)}}$.PDFNetworkStream=le;class U{constructor(J,re){this._manager=J;const Q={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=re.url,this._fullRequestId=J.requestFull(Q),this._headersReceivedCapability=new R.PromiseCapability,this._disableRange=re.disableRange||!1,this._contentLength=re.length,this._rangeChunkSize=re.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const J=this._fullRequestId,re=this._manager.getRequestXhr(J),Q=ie=>re.getResponseHeader(ie),{allowRangeRequests:q,suggestedLength:ee}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:Q,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});q&&(this._isRangeSupported=!0),this._contentLength=ee||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(Q),this._isRangeSupported&&this._manager.abortRequest(J),this._headersReceivedCapability.resolve()}_onDone(J){if(J&&(this._requests.length>0?this._requests.shift().resolve({value:J.chunk,done:!1}):this._cachedChunks.push(J.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(J){this._storedError=(0,O.createResponseStatusError)(J,this._url),this._headersReceivedCapability.reject(this._storedError);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(J){var re;(re=this.onProgress)==null||re.call(this,{loaded:J.loaded,total:J.lengthComputable?J.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const J=new R.PromiseCapability;return this._requests.push(J),J.promise}cancel(J){this._done=!0,this._headersReceivedCapability.reject(J);for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class be{constructor(J,re,Q){this._manager=J;const q={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=J.url,this._requestId=J.requestRange(re,Q,q),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var J;(J=this.onClosed)==null||J.call(this,this)}_onDone(J){const re=J.chunk;this._requests.length>0?this._requests.shift().resolve({value:re,done:!1}):this._queuedChunk=re,this._done=!0;for(const Q of this._requests)Q.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(J){this._storedError=(0,O.createResponseStatusError)(J,this._url);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(J){var re;this.isStreamingSupported||(re=this.onProgress)==null||re.call(this,{loaded:J.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const re=this._queuedChunk;return this._queuedChunk=null,{value:re,done:!1}}if(this._done)return{value:void 0,done:!0};const J=new R.PromiseCapability;return this._requests.push(J),J.promise}cancel(J){this._done=!0;for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var R=H(1),O=H(20);const B=/^file:\/\/\/[a-zA-Z]:\//;function Y(Q){const q=require$$5,ee=q.parse(Q);return ee.protocol==="file:"||ee.host?ee:/^[a-z]:[/\\]/i.test(Q)?q.parse(`file:///${Q}`):(ee.host||(ee.protocol="file:"),ee)}class me{constructor(q){this.source=q,this.url=Y(q.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&q.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var q;return((q=this._fullRequestReader)==null?void 0:q._loaded)??0}getFullReader(){return(0,R.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new J(this):new be(this),this._fullRequestReader}getRangeReader(q,ee){if(ee<=this._progressiveDataLength)return null;const ie=this.isFsUrl?new re(this,q,ee):new ce(this,q,ee);return this._rangeRequestReaders.push(ie),ie}cancelAllRequests(q){var ee;(ee=this._fullRequestReader)==null||ee.cancel(q);for(const ie of this._rangeRequestReaders.slice(0))ie.cancel(q)}}$.PDFNodeStream=me;class ue{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null;const ee=q.source;this._contentLength=ee.length,this._loaded=0,this._filename=null,this._disableRange=ee.disableRange||!1,this._rangeChunkSize=ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ee.disableStream,this._isRangeSupported=!ee.disableRange,this._readableStream=null,this._readCapability=new R.PromiseCapability,this._headersCapability=new R.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ie;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=new R.PromiseCapability,this.read()):(this._loaded+=q.length,(ie=this.onProgress)==null||ie.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",ee=>{this._error(ee)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new R.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class le{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new R.PromiseCapability;const ee=q.source;this._isStreamingSupported=!ee.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ie;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=new R.PromiseCapability,this.read()):(this._loaded+=q.length,(ie=this.onProgress)==null||ie.call(this,{loaded:this._loaded}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",ee=>{this._error(ee)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function U(Q,q){return{protocol:Q.protocol,auth:Q.auth,host:Q.hostname,port:Q.port,path:Q.path,method:"GET",headers:q}}class be extends ue{constructor(q){super(q);const ee=ie=>{if(ie.statusCode===404){const se=new R.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=se,this._headersCapability.reject(se);return}this._headersCapability.resolve(),this._setReadableStream(ie);const ve=se=>this._readableStream.headers[se.toLowerCase()],{allowRangeRequests:de,suggestedLength:te}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:ve,isHttp:q.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=de,this._contentLength=te||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(ve)};if(this._request=null,this._url.protocol==="http:"){const ie=require$$5;this._request=ie.request(U(this._url,q.httpHeaders),ee)}else{const ie=require$$5;this._request=ie.request(U(this._url,q.httpHeaders),ee)}this._request.on("error",ie=>{this._storedError=ie,this._headersCapability.reject(ie)}),this._request.end()}}class ce extends le{constructor(q,ee,ie){super(q),this._httpHeaders={};for(const de in q.httpHeaders){const te=q.httpHeaders[de];te!==void 0&&(this._httpHeaders[de]=te)}this._httpHeaders.Range=`bytes=${ee}-${ie-1}`;const ve=de=>{if(de.statusCode===404){const te=new R.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=te;return}this._setReadableStream(de)};if(this._request=null,this._url.protocol==="http:"){const de=require$$5;this._request=de.request(U(this._url,this._httpHeaders),ve)}else{const de=require$$5;this._request=de.request(U(this._url,this._httpHeaders),ve)}this._request.on("error",de=>{this._storedError=de}),this._request.end()}}class J extends ue{constructor(q){super(q);let ee=decodeURIComponent(this._url.path);B.test(this._url.href)&&(ee=ee.replace(/^\//,""));const ie=require$$5;ie.lstat(ee,(ve,de)=>{if(ve){ve.code==="ENOENT"&&(ve=new R.MissingPDFException(`Missing PDF "${ee}".`)),this._storedError=ve,this._headersCapability.reject(ve);return}this._contentLength=de.size,this._setReadableStream(ie.createReadStream(ee)),this._headersCapability.resolve()})}}class re extends le{constructor(q,ee,ie){super(q);let ve=decodeURIComponent(this._url.path);B.test(this._url.href)&&(ve=ve.replace(/^\//,""));const de=require$$5;this._setReadableStream(de.createReadStream(ve,{start:ee,end:ie-1}))}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var R=H(6),O=H(1);const B={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Y="http://www.w3.org/XML/1998/namespace",me="http://www.w3.org/1999/xlink",ue=["butt","round","square"],le=["miter","round","bevel"],U=function(de,te="",se=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!se)return URL.createObjectURL(new Blob([de],{type:te}));const ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ae=`data:${te};base64,`;for(let oe=0,Ee=de.length;oe<Ee;oe+=3){const K=de[oe]&255,ge=de[oe+1]&255,Ce=de[oe+2]&255,De=K>>2,xe=(K&3)<<4|ge>>4,Ne=oe+1<Ee?(ge&15)<<2|Ce>>6:64,Fe=oe+2<Ee?Ce&63:64;ae+=ne[De]+ne[xe]+ne[Ne]+ne[Fe]}return ae},be=function(){const de=new Uint8Array([137,80,78,71,13,10,26,10]),te=12,se=new Int32Array(256);for(let Ce=0;Ce<256;Ce++){let De=Ce;for(let xe=0;xe<8;xe++)De=De&1?3988292384^De>>1&2147483647:De>>1&2147483647;se[Ce]=De}function ne(Ce,De,xe){let Ne=-1;for(let Fe=De;Fe<xe;Fe++){const qe=(Ne^Ce[Fe])&255,Se=se[qe];Ne=Ne>>>8^Se}return Ne^-1}function ae(Ce,De,xe,Ne){let Fe=Ne;const qe=De.length;xe[Fe]=qe>>24&255,xe[Fe+1]=qe>>16&255,xe[Fe+2]=qe>>8&255,xe[Fe+3]=qe&255,Fe+=4,xe[Fe]=Ce.charCodeAt(0)&255,xe[Fe+1]=Ce.charCodeAt(1)&255,xe[Fe+2]=Ce.charCodeAt(2)&255,xe[Fe+3]=Ce.charCodeAt(3)&255,Fe+=4,xe.set(De,Fe),Fe+=De.length;const Se=ne(xe,Ne+4,Fe);xe[Fe]=Se>>24&255,xe[Fe+1]=Se>>16&255,xe[Fe+2]=Se>>8&255,xe[Fe+3]=Se&255}function oe(Ce,De,xe){let Ne=1,Fe=0;for(let qe=De;qe<xe;++qe)Ne=(Ne+(Ce[qe]&255))%65521,Fe=(Fe+Ne)%65521;return Fe<<16|Ne}function Ee(Ce){if(!O.isNodeJS)return K(Ce);try{const De=parseInt(process.versions.node)>=8?Ce:Buffer.from(Ce),xe=require$$5.deflateSync(De,{level:9});return xe instanceof Uint8Array?xe:new Uint8Array(xe)}catch(De){(0,O.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+De)}return K(Ce)}function K(Ce){let De=Ce.length;const xe=65535,Ne=Math.ceil(De/xe),Fe=new Uint8Array(2+De+Ne*5+4);let qe=0;Fe[qe++]=120,Fe[qe++]=156;let Se=0;for(;De>xe;)Fe[qe++]=0,Fe[qe++]=255,Fe[qe++]=255,Fe[qe++]=0,Fe[qe++]=0,Fe.set(Ce.subarray(Se,Se+xe),qe),qe+=xe,Se+=xe,De-=xe;Fe[qe++]=1,Fe[qe++]=De&255,Fe[qe++]=De>>8&255,Fe[qe++]=~De&65535&255,Fe[qe++]=(~De&65535)>>8&255,Fe.set(Ce.subarray(Se),qe),qe+=Ce.length-Se;const $e=oe(Ce,0,Ce.length);return Fe[qe++]=$e>>24&255,Fe[qe++]=$e>>16&255,Fe[qe++]=$e>>8&255,Fe[qe++]=$e&255,Fe}function ge(Ce,De,xe,Ne){const Fe=Ce.width,qe=Ce.height;let Se,$e,He;const _e=Ce.data;switch(De){case O.ImageKind.GRAYSCALE_1BPP:$e=0,Se=1,He=Fe+7>>3;break;case O.ImageKind.RGB_24BPP:$e=2,Se=8,He=Fe*3;break;case O.ImageKind.RGBA_32BPP:$e=6,Se=8,He=Fe*4;break;default:throw new Error("invalid format")}const G=new Uint8Array((1+He)*qe);let X=0,pe=0;for(let ot=0;ot<qe;++ot)G[X++]=0,G.set(_e.subarray(pe,pe+He),X),pe+=He,X+=He;if(De===O.ImageKind.GRAYSCALE_1BPP&&Ne){X=0;for(let ot=0;ot<qe;ot++){X++;for(let st=0;st<He;st++)G[X++]^=255}}const Pe=new Uint8Array([Fe>>24&255,Fe>>16&255,Fe>>8&255,Fe&255,qe>>24&255,qe>>16&255,qe>>8&255,qe&255,Se,$e,0,0,0]),Ae=Ee(G),ke=de.length+te*3+Pe.length+Ae.length,Oe=new Uint8Array(ke);let Qe=0;return Oe.set(de,Qe),Qe+=de.length,ae("IHDR",Pe,Oe,Qe),Qe+=te+Pe.length,ae("IDATA",Ae,Oe,Qe),Qe+=te+Ae.length,ae("IEND",new Uint8Array(0),Oe,Qe),U(Oe,"image/png",xe)}return function(De,xe,Ne){const Fe=De.kind===void 0?O.ImageKind.GRAYSCALE_1BPP:De.kind;return ge(De,Fe,xe,Ne)}}();class ce{constructor(){this.fontSizeScale=1,this.fontWeight=B.fontWeight,this.fontSize=0,this.textMatrix=O.IDENTITY_MATRIX,this.fontMatrix=O.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=O.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=B.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(te,se){this.x=te,this.y=se}}function J(de){let te=[];const se=[];for(const ne of de){if(ne.fn==="save"){te.push({fnId:92,fn:"group",items:[]}),se.push(te),te=te.at(-1).items;continue}ne.fn==="restore"?te=se.pop():te.push(ne)}return te}function re(de){if(Number.isInteger(de))return de.toString();const te=de.toFixed(10);let se=te.length-1;if(te[se]!=="0")return te;do se--;while(te[se]==="0");return te.substring(0,te[se]==="."?se:se+1)}function Q(de){if(de[4]===0&&de[5]===0){if(de[1]===0&&de[2]===0)return de[0]===1&&de[3]===1?"":`scale(${re(de[0])} ${re(de[3])})`;if(de[0]===de[3]&&de[1]===-de[2]){const te=Math.acos(de[0])*180/Math.PI;return`rotate(${re(te)})`}}else if(de[0]===1&&de[1]===0&&de[2]===0&&de[3]===1)return`translate(${re(de[4])} ${re(de[5])})`;return`matrix(${re(de[0])} ${re(de[1])} ${re(de[2])} ${re(de[3])} ${re(de[4])} ${re(de[5])})`}let q=0,ee=0,ie=0;class ve{constructor(te,se,ne=!1){(0,R.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new R.DOMSVGFactory,this.current=new ce,this.transformMatrix=O.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=te,this.objs=se,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ne,this._operatorIdMapping=[];for(const ae in O.OPS)this._operatorIdMapping[O.OPS[ae]]=ae}getObject(te,se=null){return typeof te=="string"?te.startsWith("g_")?this.commonObjs.get(te):this.objs.get(te):se}save(){this.transformStack.push(this.transformMatrix);const te=this.current;this.extraStack.push(te),this.current=te.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(te){this.save(),this.executeOpTree(te),this.restore()}loadDependencies(te){const se=te.fnArray,ne=te.argsArray;for(let ae=0,oe=se.length;ae<oe;ae++)if(se[ae]===O.OPS.dependency)for(const Ee of ne[ae]){const K=Ee.startsWith("g_")?this.commonObjs:this.objs,ge=new Promise(Ce=>{K.get(Ee,Ce)});this.current.dependencies.push(ge)}return Promise.all(this.current.dependencies)}transform(te,se,ne,ae,oe,Ee){const K=[te,se,ne,ae,oe,Ee];this.transformMatrix=O.Util.transform(this.transformMatrix,K),this.tgrp=null}getSVG(te,se){this.viewport=se;const ne=this._initialize(se);return this.loadDependencies(te).then(()=>(this.transformMatrix=O.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(te)),ne))}convertOpList(te){const se=this._operatorIdMapping,ne=te.argsArray,ae=te.fnArray,oe=[];for(let Ee=0,K=ae.length;Ee<K;Ee++){const ge=ae[Ee];oe.push({fnId:ge,fn:se[ge],args:ne[Ee]})}return J(oe)}executeOpTree(te){for(const se of te){const ne=se.fn,ae=se.fnId,oe=se.args;switch(ae|0){case O.OPS.beginText:this.beginText();break;case O.OPS.dependency:break;case O.OPS.setLeading:this.setLeading(oe);break;case O.OPS.setLeadingMoveText:this.setLeadingMoveText(oe[0],oe[1]);break;case O.OPS.setFont:this.setFont(oe);break;case O.OPS.showText:this.showText(oe[0]);break;case O.OPS.showSpacedText:this.showText(oe[0]);break;case O.OPS.endText:this.endText();break;case O.OPS.moveText:this.moveText(oe[0],oe[1]);break;case O.OPS.setCharSpacing:this.setCharSpacing(oe[0]);break;case O.OPS.setWordSpacing:this.setWordSpacing(oe[0]);break;case O.OPS.setHScale:this.setHScale(oe[0]);break;case O.OPS.setTextMatrix:this.setTextMatrix(oe[0],oe[1],oe[2],oe[3],oe[4],oe[5]);break;case O.OPS.setTextRise:this.setTextRise(oe[0]);break;case O.OPS.setTextRenderingMode:this.setTextRenderingMode(oe[0]);break;case O.OPS.setLineWidth:this.setLineWidth(oe[0]);break;case O.OPS.setLineJoin:this.setLineJoin(oe[0]);break;case O.OPS.setLineCap:this.setLineCap(oe[0]);break;case O.OPS.setMiterLimit:this.setMiterLimit(oe[0]);break;case O.OPS.setFillRGBColor:this.setFillRGBColor(oe[0],oe[1],oe[2]);break;case O.OPS.setStrokeRGBColor:this.setStrokeRGBColor(oe[0],oe[1],oe[2]);break;case O.OPS.setStrokeColorN:this.setStrokeColorN(oe);break;case O.OPS.setFillColorN:this.setFillColorN(oe);break;case O.OPS.shadingFill:this.shadingFill(oe[0]);break;case O.OPS.setDash:this.setDash(oe[0],oe[1]);break;case O.OPS.setRenderingIntent:this.setRenderingIntent(oe[0]);break;case O.OPS.setFlatness:this.setFlatness(oe[0]);break;case O.OPS.setGState:this.setGState(oe[0]);break;case O.OPS.fill:this.fill();break;case O.OPS.eoFill:this.eoFill();break;case O.OPS.stroke:this.stroke();break;case O.OPS.fillStroke:this.fillStroke();break;case O.OPS.eoFillStroke:this.eoFillStroke();break;case O.OPS.clip:this.clip("nonzero");break;case O.OPS.eoClip:this.clip("evenodd");break;case O.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case O.OPS.paintImageXObject:this.paintImageXObject(oe[0]);break;case O.OPS.paintInlineImageXObject:this.paintInlineImageXObject(oe[0]);break;case O.OPS.paintImageMaskXObject:this.paintImageMaskXObject(oe[0]);break;case O.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(oe[0],oe[1]);break;case O.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case O.OPS.closePath:this.closePath();break;case O.OPS.closeStroke:this.closeStroke();break;case O.OPS.closeFillStroke:this.closeFillStroke();break;case O.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case O.OPS.nextLine:this.nextLine();break;case O.OPS.transform:this.transform(oe[0],oe[1],oe[2],oe[3],oe[4],oe[5]);break;case O.OPS.constructPath:this.constructPath(oe[0],oe[1]);break;case O.OPS.endPath:this.endPath();break;case 92:this.group(se.items);break;default:(0,O.warn)(`Unimplemented operator ${ne}`);break}}}setWordSpacing(te){this.current.wordSpacing=te}setCharSpacing(te){this.current.charSpacing=te}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(te,se,ne,ae,oe,Ee){const K=this.current;K.textMatrix=K.lineMatrix=[te,se,ne,ae,oe,Ee],K.textMatrixScale=Math.hypot(te,se),K.x=K.lineX=0,K.y=K.lineY=0,K.xcoords=[],K.ycoords=[],K.tspan=this.svgFactory.createElement("svg:tspan"),K.tspan.setAttributeNS(null,"font-family",K.fontFamily),K.tspan.setAttributeNS(null,"font-size",`${re(K.fontSize)}px`),K.tspan.setAttributeNS(null,"y",re(-K.y)),K.txtElement=this.svgFactory.createElement("svg:text"),K.txtElement.append(K.tspan)}beginText(){const te=this.current;te.x=te.lineX=0,te.y=te.lineY=0,te.textMatrix=O.IDENTITY_MATRIX,te.lineMatrix=O.IDENTITY_MATRIX,te.textMatrixScale=1,te.tspan=this.svgFactory.createElement("svg:tspan"),te.txtElement=this.svgFactory.createElement("svg:text"),te.txtgrp=this.svgFactory.createElement("svg:g"),te.xcoords=[],te.ycoords=[]}moveText(te,se){const ne=this.current;ne.x=ne.lineX+=te,ne.y=ne.lineY+=se,ne.xcoords=[],ne.ycoords=[],ne.tspan=this.svgFactory.createElement("svg:tspan"),ne.tspan.setAttributeNS(null,"font-family",ne.fontFamily),ne.tspan.setAttributeNS(null,"font-size",`${re(ne.fontSize)}px`),ne.tspan.setAttributeNS(null,"y",re(-ne.y))}showText(te){const se=this.current,ne=se.font,ae=se.fontSize;if(ae===0)return;const oe=se.fontSizeScale,Ee=se.charSpacing,K=se.wordSpacing,ge=se.fontDirection,Ce=se.textHScale*ge,De=ne.vertical,xe=De?1:-1,Ne=ne.defaultVMetrics,Fe=ae*se.fontMatrix[0];let qe=0;for(const He of te){if(He===null){qe+=ge*K;continue}else if(typeof He=="number"){qe+=xe*He*ae/1e3;continue}const _e=(He.isSpace?K:0)+Ee,G=He.fontChar;let X,pe,Pe=He.width;if(De){let ke;const Oe=He.vmetric||Ne;ke=He.vmetric?Oe[1]:Pe*.5,ke=-ke*Fe;const Qe=Oe[2]*Fe;Pe=Oe?-Oe[0]:Pe,X=ke/oe,pe=(qe+Qe)/oe}else X=qe/oe,pe=0;(He.isInFont||ne.missingFile)&&(se.xcoords.push(se.x+X),De&&se.ycoords.push(-se.y+pe),se.tspan.textContent+=G);const Ae=De?Pe*Fe-_e*ge:Pe*Fe+_e*ge;qe+=Ae}se.tspan.setAttributeNS(null,"x",se.xcoords.map(re).join(" ")),De?se.tspan.setAttributeNS(null,"y",se.ycoords.map(re).join(" ")):se.tspan.setAttributeNS(null,"y",re(-se.y)),De?se.y-=qe:se.x+=qe*Ce,se.tspan.setAttributeNS(null,"font-family",se.fontFamily),se.tspan.setAttributeNS(null,"font-size",`${re(se.fontSize)}px`),se.fontStyle!==B.fontStyle&&se.tspan.setAttributeNS(null,"font-style",se.fontStyle),se.fontWeight!==B.fontWeight&&se.tspan.setAttributeNS(null,"font-weight",se.fontWeight);const Se=se.textRenderingMode&O.TextRenderingMode.FILL_STROKE_MASK;if(Se===O.TextRenderingMode.FILL||Se===O.TextRenderingMode.FILL_STROKE?(se.fillColor!==B.fillColor&&se.tspan.setAttributeNS(null,"fill",se.fillColor),se.fillAlpha<1&&se.tspan.setAttributeNS(null,"fill-opacity",se.fillAlpha)):se.textRenderingMode===O.TextRenderingMode.ADD_TO_PATH?se.tspan.setAttributeNS(null,"fill","transparent"):se.tspan.setAttributeNS(null,"fill","none"),Se===O.TextRenderingMode.STROKE||Se===O.TextRenderingMode.FILL_STROKE){const He=1/(se.textMatrixScale||1);this._setStrokeAttributes(se.tspan,He)}let $e=se.textMatrix;se.textRise!==0&&($e=$e.slice(),$e[5]+=se.textRise),se.txtElement.setAttributeNS(null,"transform",`${Q($e)} scale(${re(Ce)}, -1)`),se.txtElement.setAttributeNS(Y,"xml:space","preserve"),se.txtElement.append(se.tspan),se.txtgrp.append(se.txtElement),this._ensureTransformGroup().append(se.txtElement)}setLeadingMoveText(te,se){this.setLeading(-se),this.moveText(te,se)}addFontStyle(te){if(!te.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const se=U(te.data,te.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${te.loadedName}"; src: url(${se}); }
`}setFont(te){const se=this.current,ne=this.commonObjs.get(te[0]);let ae=te[1];se.font=ne,this.embedFonts&&!ne.missingFile&&!this.embeddedFonts[ne.loadedName]&&(this.addFontStyle(ne),this.embeddedFonts[ne.loadedName]=ne),se.fontMatrix=ne.fontMatrix||O.FONT_IDENTITY_MATRIX;let oe="normal";ne.black?oe="900":ne.bold&&(oe="bold");const Ee=ne.italic?"italic":"normal";ae<0?(ae=-ae,se.fontDirection=-1):se.fontDirection=1,se.fontSize=ae,se.fontFamily=ne.loadedName,se.fontWeight=oe,se.fontStyle=Ee,se.tspan=this.svgFactory.createElement("svg:tspan"),se.tspan.setAttributeNS(null,"y",re(-se.y)),se.xcoords=[],se.ycoords=[]}endText(){var se;const te=this.current;te.textRenderingMode&O.TextRenderingMode.ADD_TO_PATH_FLAG&&((se=te.txtElement)!=null&&se.hasChildNodes())&&(te.element=te.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(te){te>0&&(this.current.lineWidth=te)}setLineCap(te){this.current.lineCap=ue[te]}setLineJoin(te){this.current.lineJoin=le[te]}setMiterLimit(te){this.current.miterLimit=te}setStrokeAlpha(te){this.current.strokeAlpha=te}setStrokeRGBColor(te,se,ne){this.current.strokeColor=O.Util.makeHexColor(te,se,ne)}setFillAlpha(te){this.current.fillAlpha=te}setFillRGBColor(te,se,ne){this.current.fillColor=O.Util.makeHexColor(te,se,ne),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(te){this.current.strokeColor=this._makeColorN_Pattern(te)}setFillColorN(te){this.current.fillColor=this._makeColorN_Pattern(te)}shadingFill(te){const{width:se,height:ne}=this.viewport,ae=O.Util.inverseTransform(this.transformMatrix),[oe,Ee,K,ge]=O.Util.getAxialAlignedBoundingBox([0,0,se,ne],ae),Ce=this.svgFactory.createElement("svg:rect");Ce.setAttributeNS(null,"x",oe),Ce.setAttributeNS(null,"y",Ee),Ce.setAttributeNS(null,"width",K-oe),Ce.setAttributeNS(null,"height",ge-Ee),Ce.setAttributeNS(null,"fill",this._makeShadingPattern(te)),this.current.fillAlpha<1&&Ce.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ce)}_makeColorN_Pattern(te){return te[0]==="TilingPattern"?this._makeTilingPattern(te):this._makeShadingPattern(te)}_makeTilingPattern(te){const se=te[1],ne=te[2],ae=te[3]||O.IDENTITY_MATRIX,[oe,Ee,K,ge]=te[4],Ce=te[5],De=te[6],xe=te[7],Ne=`shading${ie++}`,[Fe,qe,Se,$e]=O.Util.normalizeRect([...O.Util.applyTransform([oe,Ee],ae),...O.Util.applyTransform([K,ge],ae)]),[He,_e]=O.Util.singularValueDecompose2dScale(ae),G=Ce*He,X=De*_e,pe=this.svgFactory.createElement("svg:pattern");pe.setAttributeNS(null,"id",Ne),pe.setAttributeNS(null,"patternUnits","userSpaceOnUse"),pe.setAttributeNS(null,"width",G),pe.setAttributeNS(null,"height",X),pe.setAttributeNS(null,"x",`${Fe}`),pe.setAttributeNS(null,"y",`${qe}`);const Pe=this.svg,Ae=this.transformMatrix,ke=this.current.fillColor,Oe=this.current.strokeColor,Qe=this.svgFactory.create(Se-Fe,$e-qe);if(this.svg=Qe,this.transformMatrix=ae,xe===2){const ot=O.Util.makeHexColor(...se);this.current.fillColor=ot,this.current.strokeColor=ot}return this.executeOpTree(this.convertOpList(ne)),this.svg=Pe,this.transformMatrix=Ae,this.current.fillColor=ke,this.current.strokeColor=Oe,pe.append(Qe.childNodes[0]),this.defs.append(pe),`url(#${Ne})`}_makeShadingPattern(te){switch(typeof te=="string"&&(te=this.objs.get(te)),te[0]){case"RadialAxial":const se=`shading${ie++}`,ne=te[3];let ae;switch(te[1]){case"axial":const oe=te[4],Ee=te[5];ae=this.svgFactory.createElement("svg:linearGradient"),ae.setAttributeNS(null,"id",se),ae.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ae.setAttributeNS(null,"x1",oe[0]),ae.setAttributeNS(null,"y1",oe[1]),ae.setAttributeNS(null,"x2",Ee[0]),ae.setAttributeNS(null,"y2",Ee[1]);break;case"radial":const K=te[4],ge=te[5],Ce=te[6],De=te[7];ae=this.svgFactory.createElement("svg:radialGradient"),ae.setAttributeNS(null,"id",se),ae.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ae.setAttributeNS(null,"cx",ge[0]),ae.setAttributeNS(null,"cy",ge[1]),ae.setAttributeNS(null,"r",De),ae.setAttributeNS(null,"fx",K[0]),ae.setAttributeNS(null,"fy",K[1]),ae.setAttributeNS(null,"fr",Ce);break;default:throw new Error(`Unknown RadialAxial type: ${te[1]}`)}for(const oe of ne){const Ee=this.svgFactory.createElement("svg:stop");Ee.setAttributeNS(null,"offset",oe[0]),Ee.setAttributeNS(null,"stop-color",oe[1]),ae.append(Ee)}return this.defs.append(ae),`url(#${se})`;case"Mesh":return(0,O.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${te[0]}`)}}setDash(te,se){this.current.dashArray=te,this.current.dashPhase=se}constructPath(te,se){const ne=this.current;let ae=ne.x,oe=ne.y,Ee=[],K=0;for(const ge of te)switch(ge|0){case O.OPS.rectangle:ae=se[K++],oe=se[K++];const Ce=se[K++],De=se[K++],xe=ae+Ce,Ne=oe+De;Ee.push("M",re(ae),re(oe),"L",re(xe),re(oe),"L",re(xe),re(Ne),"L",re(ae),re(Ne),"Z");break;case O.OPS.moveTo:ae=se[K++],oe=se[K++],Ee.push("M",re(ae),re(oe));break;case O.OPS.lineTo:ae=se[K++],oe=se[K++],Ee.push("L",re(ae),re(oe));break;case O.OPS.curveTo:ae=se[K+4],oe=se[K+5],Ee.push("C",re(se[K]),re(se[K+1]),re(se[K+2]),re(se[K+3]),re(ae),re(oe)),K+=6;break;case O.OPS.curveTo2:Ee.push("C",re(ae),re(oe),re(se[K]),re(se[K+1]),re(se[K+2]),re(se[K+3])),ae=se[K+2],oe=se[K+3],K+=4;break;case O.OPS.curveTo3:ae=se[K+2],oe=se[K+3],Ee.push("C",re(se[K]),re(se[K+1]),re(ae),re(oe),re(ae),re(oe)),K+=4;break;case O.OPS.closePath:Ee.push("Z");break}Ee=Ee.join(" "),ne.path&&te.length>0&&te[0]!==O.OPS.rectangle&&te[0]!==O.OPS.moveTo?Ee=ne.path.getAttributeNS(null,"d")+Ee:(ne.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ne.path)),ne.path.setAttributeNS(null,"d",Ee),ne.path.setAttributeNS(null,"fill","none"),ne.element=ne.path,ne.setCurrentPoint(ae,oe)}endPath(){const te=this.current;if(te.path=null,!this.pendingClip)return;if(!te.element){this.pendingClip=null;return}const se=`clippath${q++}`,ne=this.svgFactory.createElement("svg:clipPath");ne.setAttributeNS(null,"id",se),ne.setAttributeNS(null,"transform",Q(this.transformMatrix));const ae=te.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ae.setAttributeNS(null,"clip-rule","evenodd"):ae.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ne.append(ae),this.defs.append(ne),te.activeClipUrl){te.clipGroup=null;for(const oe of this.extraStack)oe.clipGroup=null;ne.setAttributeNS(null,"clip-path",te.activeClipUrl)}te.activeClipUrl=`url(#${se})`,this.tgrp=null}clip(te){this.pendingClip=te}closePath(){const te=this.current;if(te.path){const se=`${te.path.getAttributeNS(null,"d")}Z`;te.path.setAttributeNS(null,"d",se)}}setLeading(te){this.current.leading=-te}setTextRise(te){this.current.textRise=te}setTextRenderingMode(te){this.current.textRenderingMode=te}setHScale(te){this.current.textHScale=te/100}setRenderingIntent(te){}setFlatness(te){}setGState(te){for(const[se,ne]of te)switch(se){case"LW":this.setLineWidth(ne);break;case"LC":this.setLineCap(ne);break;case"LJ":this.setLineJoin(ne);break;case"ML":this.setMiterLimit(ne);break;case"D":this.setDash(ne[0],ne[1]);break;case"RI":this.setRenderingIntent(ne);break;case"FL":this.setFlatness(ne);break;case"Font":this.setFont(ne);break;case"CA":this.setStrokeAlpha(ne);break;case"ca":this.setFillAlpha(ne);break;default:(0,O.warn)(`Unimplemented graphic state operator ${se}`);break}}fill(){const te=this.current;te.element&&(te.element.setAttributeNS(null,"fill",te.fillColor),te.element.setAttributeNS(null,"fill-opacity",te.fillAlpha),this.endPath())}stroke(){const te=this.current;te.element&&(this._setStrokeAttributes(te.element),te.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(te,se=1){const ne=this.current;let ae=ne.dashArray;se!==1&&ae.length>0&&(ae=ae.map(function(oe){return se*oe})),te.setAttributeNS(null,"stroke",ne.strokeColor),te.setAttributeNS(null,"stroke-opacity",ne.strokeAlpha),te.setAttributeNS(null,"stroke-miterlimit",re(ne.miterLimit)),te.setAttributeNS(null,"stroke-linecap",ne.lineCap),te.setAttributeNS(null,"stroke-linejoin",ne.lineJoin),te.setAttributeNS(null,"stroke-width",re(se*ne.lineWidth)+"px"),te.setAttributeNS(null,"stroke-dasharray",ae.map(re).join(" ")),te.setAttributeNS(null,"stroke-dashoffset",re(se*ne.dashPhase)+"px")}eoFill(){var te;(te=this.current.element)==null||te.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var te;(te=this.current.element)==null||te.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const te=this.svgFactory.createElement("svg:rect");te.setAttributeNS(null,"x","0"),te.setAttributeNS(null,"y","0"),te.setAttributeNS(null,"width","1px"),te.setAttributeNS(null,"height","1px"),te.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(te)}paintImageXObject(te){const se=this.getObject(te);if(!se){(0,O.warn)(`Dependent image with object ID ${te} is not ready yet`);return}this.paintInlineImageXObject(se)}paintInlineImageXObject(te,se){const ne=te.width,ae=te.height,oe=be(te,this.forceDataSchema,!!se),Ee=this.svgFactory.createElement("svg:rect");Ee.setAttributeNS(null,"x","0"),Ee.setAttributeNS(null,"y","0"),Ee.setAttributeNS(null,"width",re(ne)),Ee.setAttributeNS(null,"height",re(ae)),this.current.element=Ee,this.clip("nonzero");const K=this.svgFactory.createElement("svg:image");K.setAttributeNS(me,"xlink:href",oe),K.setAttributeNS(null,"x","0"),K.setAttributeNS(null,"y",re(-ae)),K.setAttributeNS(null,"width",re(ne)+"px"),K.setAttributeNS(null,"height",re(ae)+"px"),K.setAttributeNS(null,"transform",`scale(${re(1/ne)} ${re(-1/ae)})`),se?se.append(K):this._ensureTransformGroup().append(K)}paintImageMaskXObject(te){const se=this.getObject(te.data,te);if(se.bitmap){(0,O.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ne=this.current,ae=se.width,oe=se.height,Ee=ne.fillColor;ne.maskId=`mask${ee++}`;const K=this.svgFactory.createElement("svg:mask");K.setAttributeNS(null,"id",ne.maskId);const ge=this.svgFactory.createElement("svg:rect");ge.setAttributeNS(null,"x","0"),ge.setAttributeNS(null,"y","0"),ge.setAttributeNS(null,"width",re(ae)),ge.setAttributeNS(null,"height",re(oe)),ge.setAttributeNS(null,"fill",Ee),ge.setAttributeNS(null,"mask",`url(#${ne.maskId})`),this.defs.append(K),this._ensureTransformGroup().append(ge),this.paintInlineImageXObject(se,K)}paintFormXObjectBegin(te,se){if(Array.isArray(te)&&te.length===6&&this.transform(te[0],te[1],te[2],te[3],te[4],te[5]),se){const ne=se[2]-se[0],ae=se[3]-se[1],oe=this.svgFactory.createElement("svg:rect");oe.setAttributeNS(null,"x",se[0]),oe.setAttributeNS(null,"y",se[1]),oe.setAttributeNS(null,"width",re(ne)),oe.setAttributeNS(null,"height",re(ae)),this.current.element=oe,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(te){const se=this.svgFactory.create(te.width,te.height),ne=this.svgFactory.createElement("svg:defs");se.append(ne),this.defs=ne;const ae=this.svgFactory.createElement("svg:g");return ae.setAttributeNS(null,"transform",Q(te.transform)),se.append(ae),this.svg=ae,se}_ensureClipGroup(){if(!this.current.clipGroup){const te=this.svgFactory.createElement("svg:g");te.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(te),this.current.clipGroup=te}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Q(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=ve},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class H{static textContent(O){const B=[],Y={items:B,styles:Object.create(null)};function me(ue){var be;if(!ue)return;let le=null;const U=ue.name;if(U==="#text")le=ue.value;else if(H.shouldBuildText(U))(be=ue==null?void 0:ue.attributes)!=null&&be.textContent?le=ue.attributes.textContent:ue.value&&(le=ue.value);else return;if(le!==null&&B.push({str:le}),!!ue.children)for(const ce of ue.children)me(ce)}return me(O),Y}static shouldBuildText(O){return!(O==="textarea"||O==="input"||O==="option"||O==="select")}}$.XfaText=H},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=Q,$.updateTextLayer=q;var R=H(1),O=H(6);const B=1e5,Y=30,me=.8,ue=new Map;function le(ee,ie){let ve;if(ie&&R.FeatureTest.isOffscreenCanvasSupported)ve=new OffscreenCanvas(ee,ee).getContext("2d",{alpha:!1});else{const de=document.createElement("canvas");de.width=de.height=ee,ve=de.getContext("2d",{alpha:!1})}return ve}function U(ee,ie){const ve=ue.get(ee);if(ve)return ve;const de=le(Y,ie);de.font=`${Y}px ${ee}`;const te=de.measureText("");let se=te.fontBoundingBoxAscent,ne=Math.abs(te.fontBoundingBoxDescent);if(se){const oe=se/(se+ne);return ue.set(ee,oe),de.canvas.width=de.canvas.height=0,oe}de.strokeStyle="red",de.clearRect(0,0,Y,Y),de.strokeText("g",0,0);let ae=de.getImageData(0,0,Y,Y).data;ne=0;for(let oe=ae.length-1-3;oe>=0;oe-=4)if(ae[oe]>0){ne=Math.ceil(oe/4/Y);break}de.clearRect(0,0,Y,Y),de.strokeText("A",0,Y),ae=de.getImageData(0,0,Y,Y).data,se=0;for(let oe=0,Ee=ae.length;oe<Ee;oe+=4)if(ae[oe]>0){se=Y-Math.floor(oe/4/Y);break}if(de.canvas.width=de.canvas.height=0,se){const oe=se/(se+ne);return ue.set(ee,oe),oe}return ue.set(ee,me),me}function be(ee,ie,ve){const de=document.createElement("span"),te={angle:0,canvasWidth:0,hasText:ie.str!=="",hasEOL:ie.hasEOL,fontSize:0};ee._textDivs.push(de);const se=R.Util.transform(ee._transform,ie.transform);let ne=Math.atan2(se[1],se[0]);const ae=ve[ie.fontName];ae.vertical&&(ne+=Math.PI/2);const oe=Math.hypot(se[2],se[3]),Ee=oe*U(ae.fontFamily,ee._isOffscreenCanvasSupported);let K,ge;ne===0?(K=se[4],ge=se[5]-Ee):(K=se[4]+Ee*Math.sin(ne),ge=se[5]-Ee*Math.cos(ne));const Ce="calc(var(--scale-factor)*",De=de.style;ee._container===ee._rootContainer?(De.left=`${(100*K/ee._pageWidth).toFixed(2)}%`,De.top=`${(100*ge/ee._pageHeight).toFixed(2)}%`):(De.left=`${Ce}${K.toFixed(2)}px)`,De.top=`${Ce}${ge.toFixed(2)}px)`),De.fontSize=`${Ce}${oe.toFixed(2)}px)`,De.fontFamily=ae.fontFamily,te.fontSize=oe,de.setAttribute("role","presentation"),de.textContent=ie.str,de.dir=ie.dir,ee._fontInspectorEnabled&&(de.dataset.fontName=ie.fontName),ne!==0&&(te.angle=ne*(180/Math.PI));let xe=!1;if(ie.str.length>1)xe=!0;else if(ie.str!==" "&&ie.transform[0]!==ie.transform[3]){const Ne=Math.abs(ie.transform[0]),Fe=Math.abs(ie.transform[3]);Ne!==Fe&&Math.max(Ne,Fe)/Math.min(Ne,Fe)>1.5&&(xe=!0)}xe&&(te.canvasWidth=ae.vertical?ie.height:ie.width),ee._textDivProperties.set(de,te),ee._isReadableStream&&ee._layoutText(de)}function ce(ee){const{div:ie,scale:ve,properties:de,ctx:te,prevFontSize:se,prevFontFamily:ne}=ee,{style:ae}=ie;let oe="";if(de.canvasWidth!==0&&de.hasText){const{fontFamily:Ee}=ae,{canvasWidth:K,fontSize:ge}=de;(se!==ge||ne!==Ee)&&(te.font=`${ge*ve}px ${Ee}`,ee.prevFontSize=ge,ee.prevFontFamily=Ee);const{width:Ce}=te.measureText(ie.textContent);Ce>0&&(oe=`scaleX(${K*ve/Ce})`)}de.angle!==0&&(oe=`rotate(${de.angle}deg) ${oe}`),oe.length>0&&(ae.transform=oe)}function J(ee){if(ee._canceled)return;const ie=ee._textDivs,ve=ee._capability;if(ie.length>B){ve.resolve();return}if(!ee._isReadableStream)for(const te of ie)ee._layoutText(te);ve.resolve()}class re{constructor({textContentSource:ie,container:ve,viewport:de,textDivs:te,textDivProperties:se,textContentItemsStr:ne,isOffscreenCanvasSupported:ae}){var Ce;this._textContentSource=ie,this._isReadableStream=ie instanceof ReadableStream,this._container=this._rootContainer=ve,this._textDivs=te||[],this._textContentItemsStr=ne||[],this._isOffscreenCanvasSupported=ae,this._fontInspectorEnabled=!!((Ce=globalThis.FontInspector)!=null&&Ce.enabled),this._reader=null,this._textDivProperties=se||new WeakMap,this._canceled=!1,this._capability=new R.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:de.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:le(0,ae)};const{pageWidth:oe,pageHeight:Ee,pageX:K,pageY:ge}=de.rawDims;this._transform=[1,0,0,-1,-K,ge+Ee],this._pageWidth=oe,this._pageHeight=Ee,(0,O.setLayerDimensions)(ve,de),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new R.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new R.AbortException("TextLayer task cancelled."))}_processItems(ie,ve){for(const de of ie){if(de.str===void 0){if(de.type==="beginMarkedContentProps"||de.type==="beginMarkedContent"){const te=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),de.id!==null&&this._container.setAttribute("id",`${de.id}`),te.append(this._container)}else de.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(de.str),be(this,de,ve)}}_layoutText(ie){const ve=this._layoutTextParams.properties=this._textDivProperties.get(ie);if(this._layoutTextParams.div=ie,ce(this._layoutTextParams),ve.hasText&&this._container.append(ie),ve.hasEOL){const de=document.createElement("br");de.setAttribute("role","presentation"),this._container.append(de)}}_render(){const ie=new R.PromiseCapability;let ve=Object.create(null);if(this._isReadableStream){const de=()=>{this._reader.read().then(({value:te,done:se})=>{if(se){ie.resolve();return}Object.assign(ve,te.styles),this._processItems(te.items,ve),de()},ie.reject)};this._reader=this._textContentSource.getReader(),de()}else if(this._textContentSource){const{items:de,styles:te}=this._textContentSource;this._processItems(de,te),ie.resolve()}else throw new Error('No "textContentSource" parameter specified.');ie.promise.then(()=>{ve=null,J(this)},this._capability.reject)}}$.TextLayerRenderTask=re;function Q(ee){!ee.textContentSource&&(ee.textContent||ee.textContentStream)&&((0,O.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ee.textContentSource=ee.textContent||ee.textContentStream);const{container:ie,viewport:ve}=ee,de=getComputedStyle(ie),te=de.getPropertyValue("visibility"),se=parseFloat(de.getPropertyValue("--scale-factor"));te==="visible"&&(!se||Math.abs(se-ve.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const ne=new re(ee);return ne._render(),ne}function q({container:ee,viewport:ie,textDivs:ve,textDivProperties:de,isOffscreenCanvasSupported:te,mustRotate:se=!0,mustRescale:ne=!0}){if(se&&(0,O.setLayerDimensions)(ee,{rotation:ie.rotation}),ne){const ae=le(0,te),Ee={prevFontSize:null,prevFontFamily:null,div:null,scale:ie.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ae};for(const K of ve)Ee.properties=de.get(K),Ee.div=K,ce(Ee)}}},(A,$,H)=>{var U,be,ce,J,re,Q,q,ee,ie,ve,de,Ti,qr,Ri,Fi;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var R=H(1),O=H(4),B=H(28),Y=H(33),me=H(6),ue=H(34);const oe=class oe{constructor({uiManager:K,pageIndex:ge,div:Ce,accessibilityManager:De,annotationLayer:xe,viewport:Ne,l10n:Fe}){it(this,de);it(this,U);it(this,be,!1);it(this,ce,null);it(this,J,this.pointerup.bind(this));it(this,re,this.pointerdown.bind(this));it(this,Q,new Map);it(this,q,!1);it(this,ee,!1);it(this,ie,!1);it(this,ve);const qe=[B.FreeTextEditor,Y.InkEditor,ue.StampEditor];if(!oe._initialized){oe._initialized=!0;for(const Se of qe)Se.initialize(Fe)}K.registerEditorTypes(qe),at(this,ve,K),this.pageIndex=ge,this.div=Ce,at(this,U,De),at(this,ce,xe),this.viewport=Ne,V(this,ve).addLayer(this)}get isEmpty(){return V(this,Q).size===0}updateToolbar(K){V(this,ve).updateToolbar(K)}updateMode(K=V(this,ve).getMode()){Ue(this,de,Fi).call(this),K===R.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),K!==R.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",K===R.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",K===R.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",K===R.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(K){if(!K&&V(this,ve).getMode()!==R.AnnotationEditorType.INK)return;if(!K){for(const Ce of V(this,Q).values())if(Ce.isEmpty()){Ce.setInBackground();return}}Ue(this,de,qr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(K){V(this,ve).setEditingState(K)}addCommands(K){V(this,ve).addCommands(K)}enable(){this.div.style.pointerEvents="auto";const K=new Set;for(const Ce of V(this,Q).values())Ce.enableEditing(),Ce.annotationElementId&&K.add(Ce.annotationElementId);if(!V(this,ce))return;const ge=V(this,ce).getEditableAnnotations();for(const Ce of ge){if(Ce.hide(),V(this,ve).isDeletedAnnotationElement(Ce.data.id)||K.has(Ce.data.id))continue;const De=this.deserialize(Ce);De&&(this.addOrRebuild(De),De.enableEditing())}}disable(){var ge;at(this,ie,!0),this.div.style.pointerEvents="none";const K=new Set;for(const Ce of V(this,Q).values()){if(Ce.disableEditing(),!Ce.annotationElementId||Ce.serialize()!==null){K.add(Ce.annotationElementId);continue}(ge=this.getEditableAnnotation(Ce.annotationElementId))==null||ge.show(),Ce.remove()}if(V(this,ce)){const Ce=V(this,ce).getEditableAnnotations();for(const De of Ce){const{id:xe}=De.data;K.has(xe)||V(this,ve).isDeletedAnnotationElement(xe)||De.show()}}Ue(this,de,Fi).call(this),this.isEmpty&&(this.div.hidden=!0),at(this,ie,!1)}getEditableAnnotation(K){var ge;return((ge=V(this,ce))==null?void 0:ge.getEditableAnnotation(K))||null}setActiveEditor(K){V(this,ve).getActive()!==K&&V(this,ve).setActiveEditor(K)}enableClick(){this.div.addEventListener("pointerdown",V(this,re)),this.div.addEventListener("pointerup",V(this,J))}disableClick(){this.div.removeEventListener("pointerdown",V(this,re)),this.div.removeEventListener("pointerup",V(this,J))}attach(K){V(this,Q).set(K.id,K);const{annotationElementId:ge}=K;ge&&V(this,ve).isDeletedAnnotationElement(ge)&&V(this,ve).removeDeletedAnnotationElement(K)}detach(K){var ge;V(this,Q).delete(K.id),(ge=V(this,U))==null||ge.removePointerInTextLayer(K.contentDiv),!V(this,ie)&&K.annotationElementId&&V(this,ve).addDeletedAnnotationElement(K)}remove(K){this.detach(K),V(this,ve).removeEditor(K),K.div.contains(document.activeElement)&&setTimeout(()=>{V(this,ve).focusMainContainer()},0),K.div.remove(),K.isAttachedToDOM=!1,V(this,ee)||this.addInkEditorIfNeeded(!1)}changeParent(K){var ge;K.parent!==this&&(K.annotationElementId&&(V(this,ve).addDeletedAnnotationElement(K.annotationElementId),O.AnnotationEditor.deleteAnnotationElement(K),K.annotationElementId=null),this.attach(K),(ge=K.parent)==null||ge.detach(K),K.setParent(this),K.div&&K.isAttachedToDOM&&(K.div.remove(),this.div.append(K.div)))}add(K){if(this.changeParent(K),V(this,ve).addEditor(K),this.attach(K),!K.isAttachedToDOM){const ge=K.render();this.div.append(ge),K.isAttachedToDOM=!0}K.fixAndSetPosition(),K.onceAdded(),V(this,ve).addToAnnotationStorage(K)}moveEditorInDOM(K){var Ce;if(!K.isAttachedToDOM)return;const{activeElement:ge}=document;K.div.contains(ge)&&(K._focusEventsAllowed=!1,setTimeout(()=>{K.div.contains(document.activeElement)?K._focusEventsAllowed=!0:(K.div.addEventListener("focusin",()=>{K._focusEventsAllowed=!0},{once:!0}),ge.focus())},0)),K._structTreeParentId=(Ce=V(this,U))==null?void 0:Ce.moveElementInDOM(this.div,K.div,K.contentDiv,!0)}addOrRebuild(K){K.needsToBeRebuilt()?K.rebuild():this.add(K)}addUndoableEditor(K){const ge=()=>K._uiManager.rebuild(K),Ce=()=>{K.remove()};this.addCommands({cmd:ge,undo:Ce,mustExec:!1})}getNextId(){return V(this,ve).getId()}pasteEditor(K,ge){V(this,ve).updateToolbar(K),V(this,ve).updateMode(K);const{offsetX:Ce,offsetY:De}=Ue(this,de,Ri).call(this),xe=this.getNextId(),Ne=Ue(this,de,Ti).call(this,{parent:this,id:xe,x:Ce,y:De,uiManager:V(this,ve),isCentered:!0,...ge});Ne&&this.add(Ne)}deserialize(K){switch(K.annotationType??K.annotationEditorType){case R.AnnotationEditorType.FREETEXT:return B.FreeTextEditor.deserialize(K,this,V(this,ve));case R.AnnotationEditorType.INK:return Y.InkEditor.deserialize(K,this,V(this,ve));case R.AnnotationEditorType.STAMP:return ue.StampEditor.deserialize(K,this,V(this,ve))}return null}addNewEditor(){Ue(this,de,qr).call(this,Ue(this,de,Ri).call(this),!0)}setSelected(K){V(this,ve).setSelected(K)}toggleSelected(K){V(this,ve).toggleSelected(K)}isSelected(K){return V(this,ve).isSelected(K)}unselect(K){V(this,ve).unselect(K)}pointerup(K){const{isMac:ge}=R.FeatureTest.platform;if(!(K.button!==0||K.ctrlKey&&ge)&&K.target===this.div&&V(this,q)){if(at(this,q,!1),!V(this,be)){at(this,be,!0);return}if(V(this,ve).getMode()===R.AnnotationEditorType.STAMP){V(this,ve).unselectAll();return}Ue(this,de,qr).call(this,K,!1)}}pointerdown(K){if(V(this,q)){at(this,q,!1);return}const{isMac:ge}=R.FeatureTest.platform;if(K.button!==0||K.ctrlKey&&ge||K.target!==this.div)return;at(this,q,!0);const Ce=V(this,ve).getActive();at(this,be,!Ce||Ce.isEmpty())}findNewParent(K,ge,Ce){const De=V(this,ve).findParent(ge,Ce);return De===null||De===this?!1:(De.changeParent(K),!0)}destroy(){var K,ge;((K=V(this,ve).getActive())==null?void 0:K.parent)===this&&(V(this,ve).commitOrRemove(),V(this,ve).setActiveEditor(null));for(const Ce of V(this,Q).values())(ge=V(this,U))==null||ge.removePointerInTextLayer(Ce.contentDiv),Ce.setParent(null),Ce.isAttachedToDOM=!1,Ce.div.remove();this.div=null,V(this,Q).clear(),V(this,ve).removeLayer(this)}render({viewport:K}){this.viewport=K,(0,me.setLayerDimensions)(this.div,K);for(const ge of V(this,ve).getEditors(this.pageIndex))this.add(ge);this.updateMode()}update({viewport:K}){V(this,ve).commitOrRemove(),this.viewport=K,(0,me.setLayerDimensions)(this.div,{rotation:K.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:K,pageHeight:ge}=this.viewport.rawDims;return[K,ge]}};U=new WeakMap,be=new WeakMap,ce=new WeakMap,J=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,ee=new WeakMap,ie=new WeakMap,ve=new WeakMap,de=new WeakSet,Ti=function(K){switch(V(this,ve).getMode()){case R.AnnotationEditorType.FREETEXT:return new B.FreeTextEditor(K);case R.AnnotationEditorType.INK:return new Y.InkEditor(K);case R.AnnotationEditorType.STAMP:return new ue.StampEditor(K)}return null},qr=function(K,ge){const Ce=this.getNextId(),De=Ue(this,de,Ti).call(this,{parent:this,id:Ce,x:K.offsetX,y:K.offsetY,uiManager:V(this,ve),isCentered:ge});return De&&this.add(De),De},Ri=function(){const{x:K,y:ge,width:Ce,height:De}=this.div.getBoundingClientRect(),xe=Math.max(0,K),Ne=Math.max(0,ge),Fe=Math.min(window.innerWidth,K+Ce),qe=Math.min(window.innerHeight,ge+De),Se=(xe+Fe)/2-K,$e=(Ne+qe)/2-ge,[He,_e]=this.viewport.rotation%180===0?[Se,$e]:[$e,Se];return{offsetX:He,offsetY:_e}},Fi=function(){at(this,ee,!0);for(const K of V(this,Q).values())K.isEmpty()&&K.remove();at(this,ee,!1)},Tn(oe,"_initialized",!1);let le=oe;$.AnnotationEditorLayer=le},(A,$,H)=>{var ue,le,U,be,ce,J,re,Q,q,ee,Aa,Ca,Pa,$r,Li,ka,Ii;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var R=H(1),O=H(5),B=H(4),Y=H(29);const oe=class oe extends B.AnnotationEditor{constructor(ge){super({...ge,name:"freeTextEditor"});it(this,ee);it(this,ue,this.editorDivBlur.bind(this));it(this,le,this.editorDivFocus.bind(this));it(this,U,this.editorDivInput.bind(this));it(this,be,this.editorDivKeydown.bind(this));it(this,ce);it(this,J,"");it(this,re,`${this.id}-editor`);it(this,Q);it(this,q,null);at(this,ce,ge.color||oe._defaultColor||B.AnnotationEditor._defaultLineColor),at(this,Q,ge.fontSize||oe._defaultFontSize)}static get _keyboardManager(){const ge=oe.prototype,Ce=Ne=>Ne.isEmpty(),De=O.AnnotationEditorUIManager.TRANSLATE_SMALL,xe=O.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,R.shadow)(this,"_keyboardManager",new O.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ge.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ge.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ge._translateEmpty,{args:[-De,0],checker:Ce}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ge._translateEmpty,{args:[-xe,0],checker:Ce}],[["ArrowRight","mac+ArrowRight"],ge._translateEmpty,{args:[De,0],checker:Ce}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ge._translateEmpty,{args:[xe,0],checker:Ce}],[["ArrowUp","mac+ArrowUp"],ge._translateEmpty,{args:[0,-De],checker:Ce}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ge._translateEmpty,{args:[0,-xe],checker:Ce}],[["ArrowDown","mac+ArrowDown"],ge._translateEmpty,{args:[0,De],checker:Ce}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ge._translateEmpty,{args:[0,xe],checker:Ce}]]))}static initialize(ge){B.AnnotationEditor.initialize(ge,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Ce=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ce.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ge,Ce){switch(ge){case R.AnnotationEditorParamsType.FREETEXT_SIZE:oe._defaultFontSize=Ce;break;case R.AnnotationEditorParamsType.FREETEXT_COLOR:oe._defaultColor=Ce;break}}updateParams(ge,Ce){switch(ge){case R.AnnotationEditorParamsType.FREETEXT_SIZE:Ue(this,ee,Aa).call(this,Ce);break;case R.AnnotationEditorParamsType.FREETEXT_COLOR:Ue(this,ee,Ca).call(this,Ce);break}}static get defaultPropertiesToUpdate(){return[[R.AnnotationEditorParamsType.FREETEXT_SIZE,oe._defaultFontSize],[R.AnnotationEditorParamsType.FREETEXT_COLOR,oe._defaultColor||B.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[R.AnnotationEditorParamsType.FREETEXT_SIZE,V(this,Q)],[R.AnnotationEditorParamsType.FREETEXT_COLOR,V(this,ce)]]}_translateEmpty(ge,Ce){this._uiManager.translateSelectedEditors(ge,Ce,!0)}getInitialTranslation(){const ge=this.parentScale;return[-oe._internalPadding*ge,-(oe._internalPadding+V(this,Q))*ge]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(R.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",V(this,be)),this.editorDiv.addEventListener("focus",V(this,le)),this.editorDiv.addEventListener("blur",V(this,ue)),this.editorDiv.addEventListener("input",V(this,U)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",V(this,re)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",V(this,be)),this.editorDiv.removeEventListener("focus",V(this,le)),this.editorDiv.removeEventListener("blur",V(this,ue)),this.editorDiv.removeEventListener("input",V(this,U)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ge){this._focusEventsAllowed&&(super.focusin(ge),ge.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ge;if(this.width){Ue(this,ee,Ii).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(ge=this._initialOptions)!=null&&ge.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ge=V(this,J),Ce=at(this,J,Ue(this,ee,Pa).call(this).trimEnd());if(ge===Ce)return;const De=xe=>{if(at(this,J,xe),!xe){this.remove();return}Ue(this,ee,Li).call(this),this._uiManager.rebuild(this),Ue(this,ee,$r).call(this)};this.addCommands({cmd:()=>{De(Ce)},undo:()=>{De(ge)},mustExec:!1}),Ue(this,ee,$r).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ge){this.enterInEditMode()}keydown(ge){ge.target===this.div&&ge.key==="Enter"&&(this.enterInEditMode(),ge.preventDefault())}editorDivKeydown(ge){oe._keyboardManager.exec(this,ge)}editorDivFocus(ge){this.isEditing=!0}editorDivBlur(ge){this.isEditing=!1}editorDivInput(ge){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ge,Ce;this.width&&(ge=this.x,Ce=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",V(this,re)),this.enableEditing(),B.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(xe=>{var Ne;return(Ne=this.editorDiv)==null?void 0:Ne.setAttribute("aria-label",xe)}),B.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(xe=>{var Ne;return(Ne=this.editorDiv)==null?void 0:Ne.setAttribute("default-content",xe)}),this.editorDiv.contentEditable=!0;const{style:De}=this.editorDiv;if(De.fontSize=`calc(${V(this,Q)}px * var(--scale-factor))`,De.color=V(this,ce),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,O.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[xe,Ne]=this.parentDimensions;if(this.annotationElementId){const{position:Fe}=V(this,q);let[qe,Se]=this.getInitialTranslation();[qe,Se]=this.pageTranslationToScreen(qe,Se);const[$e,He]=this.pageDimensions,[_e,G]=this.pageTranslation;let X,pe;switch(this.rotation){case 0:X=ge+(Fe[0]-_e)/$e,pe=Ce+this.height-(Fe[1]-G)/He;break;case 90:X=ge+(Fe[0]-_e)/$e,pe=Ce-(Fe[1]-G)/He,[qe,Se]=[Se,-qe];break;case 180:X=ge-this.width+(Fe[0]-_e)/$e,pe=Ce-(Fe[1]-G)/He,[qe,Se]=[-qe,-Se];break;case 270:X=ge+(Fe[0]-_e-this.height*He)/$e,pe=Ce+(Fe[1]-G-this.width*$e)/He,[qe,Se]=[-Se,qe];break}this.setAt(X*xe,pe*Ne,qe,Se)}else this.setAt(ge*xe,Ce*Ne,this.width*xe,this.height*Ne);Ue(this,ee,Li).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ge,Ce,De){let xe=null;if(ge instanceof Y.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Fe,fontColor:qe},rect:Se,rotation:$e,id:He},textContent:_e,textPosition:G,parent:{page:{pageNumber:X}}}=ge;if(!_e||_e.length===0)return null;xe=ge={annotationType:R.AnnotationEditorType.FREETEXT,color:Array.from(qe),fontSize:Fe,value:_e.join(`
`),position:G,pageIndex:X-1,rect:Se,rotation:$e,id:He,deleted:!1}}const Ne=super.deserialize(ge,Ce,De);return at(Ne,Q,ge.fontSize),at(Ne,ce,R.Util.makeHexColor(...ge.color)),at(Ne,J,ge.value),Ne.annotationElementId=ge.id||null,at(Ne,q,xe),Ne}serialize(ge=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Ce=oe._internalPadding*this.parentScale,De=this.getRect(Ce,Ce),xe=B.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:V(this,ce)),Ne={annotationType:R.AnnotationEditorType.FREETEXT,color:xe,fontSize:V(this,Q),value:V(this,J),pageIndex:this.pageIndex,rect:De,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ge?Ne:this.annotationElementId&&!Ue(this,ee,ka).call(this,Ne)?null:(Ne.id=this.annotationElementId,Ne)}};ue=new WeakMap,le=new WeakMap,U=new WeakMap,be=new WeakMap,ce=new WeakMap,J=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,ee=new WeakSet,Aa=function(ge){const Ce=xe=>{this.editorDiv.style.fontSize=`calc(${xe}px * var(--scale-factor))`,this.translate(0,-(xe-V(this,Q))*this.parentScale),at(this,Q,xe),Ue(this,ee,$r).call(this)},De=V(this,Q);this.addCommands({cmd:()=>{Ce(ge)},undo:()=>{Ce(De)},mustExec:!0,type:R.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Ca=function(ge){const Ce=V(this,ce);this.addCommands({cmd:()=>{at(this,ce,this.editorDiv.style.color=ge)},undo:()=>{at(this,ce,this.editorDiv.style.color=Ce)},mustExec:!0,type:R.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Pa=function(){const ge=this.editorDiv.getElementsByTagName("div");if(ge.length===0)return this.editorDiv.innerText;const Ce=[];for(const De of ge)Ce.push(De.innerText.replace(/\r\n?|\n/,""));return Ce.join(`
`)},$r=function(){const[ge,Ce]=this.parentDimensions;let De;if(this.isAttachedToDOM)De=this.div.getBoundingClientRect();else{const{currentLayer:xe,div:Ne}=this,Fe=Ne.style.display;Ne.style.display="hidden",xe.div.append(this.div),De=Ne.getBoundingClientRect(),Ne.remove(),Ne.style.display=Fe}this.rotation%180===this.parentRotation%180?(this.width=De.width/ge,this.height=De.height/Ce):(this.width=De.height/ge,this.height=De.width/Ce),this.fixAndSetPosition()},Li=function(){if(this.editorDiv.replaceChildren(),!!V(this,J))for(const ge of V(this,J).split(`
`)){const Ce=document.createElement("div");Ce.append(ge?document.createTextNode(ge):document.createElement("br")),this.editorDiv.append(Ce)}},ka=function(ge){const{value:Ce,fontSize:De,color:xe,rect:Ne,pageIndex:Fe}=V(this,q);return ge.value!==Ce||ge.fontSize!==De||ge.rect.some((qe,Se)=>Math.abs(qe-Ne[Se])>=1)||ge.color.some((qe,Se)=>qe!==xe[Se])||ge.pageIndex!==Fe},Ii=function(ge=!1){if(!this.annotationElementId)return;if(Ue(this,ee,$r).call(this),!ge&&(this.width===0||this.height===0)){setTimeout(()=>Ue(this,ee,Ii).call(this,!0),0);return}const Ce=oe._internalPadding*this.parentScale;V(this,q).rect=this.getRect(Ce,Ce)},Tn(oe,"_freeTextDefaultContent",""),Tn(oe,"_internalPadding",0),Tn(oe,"_defaultColor",null),Tn(oe,"_defaultFontSize",10),Tn(oe,"_type","freetext");let me=oe;$.FreeTextEditor=me},(A,$,H)=>{var pe,Ae,pr,Ma,Qe,ot,st,ut,dt,mt,Ge,Xe,fe,ye,je,Ke,nt,pt,ht,We,wt,St,xa,Xr,Di,Oi,zt,an,_n,gt,Ye,Je,Tt,Ni,Gt,Te,ft,Pt,$a,Bi;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var R=H(1),O=H(6),B=H(3),Y=H(30),me=H(31),ue=H(32);const le=1e3,U=9,be=new WeakSet;function ce($t){return{width:$t[2]-$t[0],height:$t[3]-$t[1]}}class J{static create(Me){switch(Me.data.annotationType){case R.AnnotationType.LINK:return new Q(Me);case R.AnnotationType.TEXT:return new q(Me);case R.AnnotationType.WIDGET:switch(Me.data.fieldType){case"Tx":return new ie(Me);case"Btn":return Me.data.radioButton?new te(Me):Me.data.checkBox?new de(Me):new se(Me);case"Ch":return new ne(Me);case"Sig":return new ve(Me)}return new ee(Me);case R.AnnotationType.POPUP:return new ae(Me);case R.AnnotationType.FREETEXT:return new Ee(Me);case R.AnnotationType.LINE:return new K(Me);case R.AnnotationType.SQUARE:return new ge(Me);case R.AnnotationType.CIRCLE:return new Ce(Me);case R.AnnotationType.POLYLINE:return new De(Me);case R.AnnotationType.CARET:return new Ne(Me);case R.AnnotationType.INK:return new Fe(Me);case R.AnnotationType.POLYGON:return new xe(Me);case R.AnnotationType.HIGHLIGHT:return new qe(Me);case R.AnnotationType.UNDERLINE:return new Se(Me);case R.AnnotationType.SQUIGGLY:return new $e(Me);case R.AnnotationType.STRIKEOUT:return new He(Me);case R.AnnotationType.STAMP:return new _e(Me);case R.AnnotationType.FILEATTACHMENT:return new G(Me);default:return new re(Me)}}}const Pe=class Pe{constructor(Me,{isRenderable:we=!1,ignoreBorder:ze=!1,createQuadrilaterals:ct=!1}={}){it(this,pe,!1);this.isRenderable=we,this.data=Me.data,this.layer=Me.layer,this.linkService=Me.linkService,this.downloadManager=Me.downloadManager,this.imageResourcesPath=Me.imageResourcesPath,this.renderForms=Me.renderForms,this.svgFactory=Me.svgFactory,this.annotationStorage=Me.annotationStorage,this.enableScripting=Me.enableScripting,this.hasJSActions=Me.hasJSActions,this._fieldObjects=Me.fieldObjects,this.parent=Me.parent,we&&(this.container=this._createContainer(ze)),ct&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Me,contentsObj:we,richText:ze}){return!!(Me!=null&&Me.str||we!=null&&we.str||ze!=null&&ze.str)}get hasPopupData(){return Pe._hasPopupData(this.data)}_createContainer(Me){const{data:we,parent:{page:ze,viewport:ct}}=this,lt=document.createElement("section");lt.setAttribute("data-annotation-id",we.id),this instanceof ee||(lt.tabIndex=le),lt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&lt.setAttribute("aria-haspopup","dialog"),we.noRotate&&lt.classList.add("norotate");const{pageWidth:vt,pageHeight:yt,pageX:Ot,pageY:Ft}=ct.rawDims;if(!we.rect||this instanceof ae){const{rotation:Zt}=we;return!we.hasOwnCanvas&&Zt!==0&&this.setRotation(Zt,lt),lt}const{width:Mt,height:nn}=ce(we.rect),Lt=R.Util.normalizeRect([we.rect[0],ze.view[3]-we.rect[1]+ze.view[1],we.rect[2],ze.view[3]-we.rect[3]+ze.view[1]]);if(!Me&&we.borderStyle.width>0){lt.style.borderWidth=`${we.borderStyle.width}px`;const Zt=we.borderStyle.horizontalCornerRadius,cn=we.borderStyle.verticalCornerRadius;if(Zt>0||cn>0){const Cn=`calc(${Zt}px * var(--scale-factor)) / calc(${cn}px * var(--scale-factor))`;lt.style.borderRadius=Cn}else if(this instanceof te){const Cn=`calc(${Mt}px * var(--scale-factor)) / calc(${nn}px * var(--scale-factor))`;lt.style.borderRadius=Cn}switch(we.borderStyle.style){case R.AnnotationBorderStyleType.SOLID:lt.style.borderStyle="solid";break;case R.AnnotationBorderStyleType.DASHED:lt.style.borderStyle="dashed";break;case R.AnnotationBorderStyleType.BEVELED:(0,R.warn)("Unimplemented border style: beveled");break;case R.AnnotationBorderStyleType.INSET:(0,R.warn)("Unimplemented border style: inset");break;case R.AnnotationBorderStyleType.UNDERLINE:lt.style.borderBottomStyle="solid";break}const gn=we.borderColor||null;gn?(at(this,pe,!0),lt.style.borderColor=R.Util.makeHexColor(gn[0]|0,gn[1]|0,gn[2]|0)):lt.style.borderWidth=0}lt.style.left=`${100*(Lt[0]-Ot)/vt}%`,lt.style.top=`${100*(Lt[1]-Ft)/yt}%`;const{rotation:jt}=we;return we.hasOwnCanvas||jt===0?(lt.style.width=`${100*Mt/vt}%`,lt.style.height=`${100*nn/yt}%`):this.setRotation(jt,lt),lt}setRotation(Me,we=this.container){if(!this.data.rect)return;const{pageWidth:ze,pageHeight:ct}=this.parent.viewport.rawDims,{width:lt,height:vt}=ce(this.data.rect);let yt,Ot;Me%180===0?(yt=100*lt/ze,Ot=100*vt/ct):(yt=100*vt/ze,Ot=100*lt/ct),we.style.width=`${yt}%`,we.style.height=`${Ot}%`,we.setAttribute("data-main-rotation",(360-Me)%360)}get _commonActions(){const Me=(we,ze,ct)=>{const lt=ct.detail[we],vt=lt[0],yt=lt.slice(1);ct.target.style[ze]=Y.ColorConverters[`${vt}_HTML`](yt),this.annotationStorage.setValue(this.data.id,{[ze]:Y.ColorConverters[`${vt}_rgb`](yt)})};return(0,R.shadow)(this,"_commonActions",{display:we=>{const{display:ze}=we.detail,ct=ze%2===1;this.container.style.visibility=ct?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:ct,noPrint:ze===1||ze===2})},print:we=>{this.annotationStorage.setValue(this.data.id,{noPrint:!we.detail.print})},hidden:we=>{const{hidden:ze}=we.detail;this.container.style.visibility=ze?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:ze,noView:ze})},focus:we=>{setTimeout(()=>we.target.focus({preventScroll:!1}),0)},userName:we=>{we.target.title=we.detail.userName},readonly:we=>{we.target.disabled=we.detail.readonly},required:we=>{this._setRequired(we.target,we.detail.required)},bgColor:we=>{Me("bgColor","backgroundColor",we)},fillColor:we=>{Me("fillColor","backgroundColor",we)},fgColor:we=>{Me("fgColor","color",we)},textColor:we=>{Me("textColor","color",we)},borderColor:we=>{Me("borderColor","borderColor",we)},strokeColor:we=>{Me("strokeColor","borderColor",we)},rotation:we=>{const ze=we.detail.rotation;this.setRotation(ze),this.annotationStorage.setValue(this.data.id,{rotation:ze})}})}_dispatchEventFromSandbox(Me,we){const ze=this._commonActions;for(const ct of Object.keys(we.detail)){const lt=Me[ct]||ze[ct];lt==null||lt(we)}}_setDefaultPropertiesFromJS(Me){if(!this.enableScripting)return;const we=this.annotationStorage.getRawValue(this.data.id);if(!we)return;const ze=this._commonActions;for(const[ct,lt]of Object.entries(we)){const vt=ze[ct];if(vt){const yt={detail:{[ct]:lt},target:Me};vt(yt),delete we[ct]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Me}=this.data;if(!Me)return;const[we,ze,ct,lt]=this.data.rect;if(Me.length===1){const[,{x:cn,y:gn},{x:Cn,y:Vn}]=Me[0];if(ct===cn&&lt===gn&&we===Cn&&ze===Vn)return}const{style:vt}=this.container;let yt;if(V(this,pe)){const{borderColor:cn,borderWidth:gn}=vt;vt.borderWidth=0,yt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${cn}" stroke-width="${gn}">`],this.container.classList.add("hasBorder")}const Ot=ct-we,Ft=lt-ze,{svgFactory:Mt}=this,nn=Mt.createElement("svg");nn.classList.add("quadrilateralsContainer"),nn.setAttribute("width",0),nn.setAttribute("height",0);const Lt=Mt.createElement("defs");nn.append(Lt);const jt=Mt.createElement("clipPath"),Zt=`clippath_${this.data.id}`;jt.setAttribute("id",Zt),jt.setAttribute("clipPathUnits","objectBoundingBox"),Lt.append(jt);for(const[,{x:cn,y:gn},{x:Cn,y:Vn}]of Me){const Dn=Mt.createElement("rect"),er=(Cn-we)/Ot,nr=(lt-gn)/Ft,rr=(cn-Cn)/Ot,Fr=(gn-Vn)/Ft;Dn.setAttribute("x",er),Dn.setAttribute("y",nr),Dn.setAttribute("width",rr),Dn.setAttribute("height",Fr),jt.append(Dn),yt==null||yt.push(`<rect vector-effect="non-scaling-stroke" x="${er}" y="${nr}" width="${rr}" height="${Fr}"/>`)}V(this,pe)&&(yt.push("</g></svg>')"),vt.backgroundImage=yt.join("")),this.container.append(nn),this.container.style.clipPath=`url(#${Zt})`}_createPopup(){const{container:Me,data:we}=this;Me.setAttribute("aria-haspopup","dialog");const ze=new ae({data:{color:we.color,titleObj:we.titleObj,modificationDate:we.modificationDate,contentsObj:we.contentsObj,richText:we.richText,parentRect:we.rect,borderStyle:0,id:`popup_${we.id}`,rotation:we.rotation},parent:this.parent,elements:[this]});this.parent.div.append(ze.render())}render(){(0,R.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Me,we=null){const ze=[];if(this._fieldObjects){const ct=this._fieldObjects[Me];if(ct)for(const{page:lt,id:vt,exportValues:yt}of ct){if(lt===-1||vt===we)continue;const Ot=typeof yt=="string"?yt:null,Ft=document.querySelector(`[data-element-id="${vt}"]`);if(Ft&&!be.has(Ft)){(0,R.warn)(`_getElementsByName - element not allowed: ${vt}`);continue}ze.push({id:vt,exportValue:Ot,domElement:Ft})}return ze}for(const ct of document.getElementsByName(Me)){const{exportValue:lt}=ct,vt=ct.getAttribute("data-element-id");vt!==we&&be.has(ct)&&ze.push({id:vt,exportValue:lt,domElement:ct})}return ze}show(){var Me;this.container&&(this.container.hidden=!1),(Me=this.popup)==null||Me.maybeShow()}hide(){var Me;this.container&&(this.container.hidden=!0),(Me=this.popup)==null||Me.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Me=this.getElementsToTriggerPopup();if(Array.isArray(Me))for(const we of Me)we.classList.add("highlightArea");else Me.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Me,data:{id:we}}=this;this.container.addEventListener("dblclick",()=>{var ze;(ze=this.linkService.eventBus)==null||ze.dispatch("switchannotationeditormode",{source:this,mode:Me,editId:we})})}};pe=new WeakMap;let re=Pe;class Q extends re{constructor(we,ze=null){super(we,{isRenderable:!0,ignoreBorder:!!(ze!=null&&ze.ignoreBorder),createQuadrilaterals:!0});it(this,Ae);this.isTooltipOnly=we.data.isTooltipOnly}render(){const{data:we,linkService:ze}=this,ct=document.createElement("a");ct.setAttribute("data-element-id",we.id);let lt=!1;return we.url?(ze.addLinkAttributes(ct,we.url,we.newWindow),lt=!0):we.action?(this._bindNamedAction(ct,we.action),lt=!0):we.attachment?(this._bindAttachment(ct,we.attachment),lt=!0):we.setOCGState?(Ue(this,Ae,Ma).call(this,ct,we.setOCGState),lt=!0):we.dest?(this._bindLink(ct,we.dest),lt=!0):(we.actions&&(we.actions.Action||we.actions["Mouse Up"]||we.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ct,we),lt=!0),we.resetForm?(this._bindResetFormAction(ct,we.resetForm),lt=!0):this.isTooltipOnly&&!lt&&(this._bindLink(ct,""),lt=!0)),this.container.classList.add("linkAnnotation"),lt&&this.container.append(ct),this.container}_bindLink(we,ze){we.href=this.linkService.getDestinationHash(ze),we.onclick=()=>(ze&&this.linkService.goToDestination(ze),!1),(ze||ze==="")&&Ue(this,Ae,pr).call(this)}_bindNamedAction(we,ze){we.href=this.linkService.getAnchorUrl(""),we.onclick=()=>(this.linkService.executeNamedAction(ze),!1),Ue(this,Ae,pr).call(this)}_bindAttachment(we,ze){we.href=this.linkService.getAnchorUrl(""),we.onclick=()=>{var ct;return(ct=this.downloadManager)==null||ct.openOrDownloadData(this.container,ze.content,ze.filename),!1},Ue(this,Ae,pr).call(this)}_bindJSAction(we,ze){we.href=this.linkService.getAnchorUrl("");const ct=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const lt of Object.keys(ze.actions)){const vt=ct.get(lt);vt&&(we[vt]=()=>{var yt;return(yt=this.linkService.eventBus)==null||yt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ze.id,name:lt}}),!1})}we.onclick||(we.onclick=()=>!1),Ue(this,Ae,pr).call(this)}_bindResetFormAction(we,ze){const ct=we.onclick;if(ct||(we.href=this.linkService.getAnchorUrl("")),Ue(this,Ae,pr).call(this),!this._fieldObjects){(0,R.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ct||(we.onclick=()=>!1);return}we.onclick=()=>{var nn;ct==null||ct();const{fields:lt,refs:vt,include:yt}=ze,Ot=[];if(lt.length!==0||vt.length!==0){const Lt=new Set(vt);for(const jt of lt){const Zt=this._fieldObjects[jt]||[];for(const{id:cn}of Zt)Lt.add(cn)}for(const jt of Object.values(this._fieldObjects))for(const Zt of jt)Lt.has(Zt.id)===yt&&Ot.push(Zt)}else for(const Lt of Object.values(this._fieldObjects))Ot.push(...Lt);const Ft=this.annotationStorage,Mt=[];for(const Lt of Ot){const{id:jt}=Lt;switch(Mt.push(jt),Lt.type){case"text":{const cn=Lt.defaultValue||"";Ft.setValue(jt,{value:cn});break}case"checkbox":case"radiobutton":{const cn=Lt.defaultValue===Lt.exportValues;Ft.setValue(jt,{value:cn});break}case"combobox":case"listbox":{const cn=Lt.defaultValue||"";Ft.setValue(jt,{value:cn});break}default:continue}const Zt=document.querySelector(`[data-element-id="${jt}"]`);if(Zt){if(!be.has(Zt)){(0,R.warn)(`_bindResetFormAction - element not allowed: ${jt}`);continue}}else continue;Zt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((nn=this.linkService.eventBus)==null||nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Mt,name:"ResetForm"}})),!1}}}Ae=new WeakSet,pr=function(){this.container.setAttribute("data-internal-link","")},Ma=function(we,ze){we.href=this.linkService.getAnchorUrl(""),we.onclick=()=>(this.linkService.executeSetOCGState(ze),!1),Ue(this,Ae,pr).call(this)};class q extends re{constructor(Me){super(Me,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Me=document.createElement("img");return Me.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Me.alt="[{{type}} Annotation]",Me.dataset.l10nId="text_annotation_type",Me.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Me),this.container}}class ee extends re{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Me){var we;this.data.hasOwnCanvas&&(((we=Me.previousSibling)==null?void 0:we.nodeName)==="CANVAS"&&(Me.previousSibling.hidden=!0),Me.hidden=!1)}_getKeyModifier(Me){const{isWin:we,isMac:ze}=R.FeatureTest.platform;return we&&Me.ctrlKey||ze&&Me.metaKey}_setEventListener(Me,we,ze,ct,lt){ze.includes("mouse")?Me.addEventListener(ze,vt=>{var yt;(yt=this.linkService.eventBus)==null||yt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ct,value:lt(vt),shift:vt.shiftKey,modifier:this._getKeyModifier(vt)}})}):Me.addEventListener(ze,vt=>{var yt;if(ze==="blur"){if(!we.focused||!vt.relatedTarget)return;we.focused=!1}else if(ze==="focus"){if(we.focused)return;we.focused=!0}lt&&((yt=this.linkService.eventBus)==null||yt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ct,value:lt(vt)}}))})}_setEventListeners(Me,we,ze,ct){var lt,vt,yt;for(const[Ot,Ft]of ze)(Ft==="Action"||(lt=this.data.actions)!=null&&lt[Ft])&&((Ft==="Focus"||Ft==="Blur")&&(we||(we={focused:!1})),this._setEventListener(Me,we,Ot,Ft,ct),Ft==="Focus"&&!((vt=this.data.actions)!=null&&vt.Blur)?this._setEventListener(Me,we,"blur","Blur",null):Ft==="Blur"&&!((yt=this.data.actions)!=null&&yt.Focus)&&this._setEventListener(Me,we,"focus","Focus",null))}_setBackgroundColor(Me){const we=this.data.backgroundColor||null;Me.style.backgroundColor=we===null?"transparent":R.Util.makeHexColor(we[0],we[1],we[2])}_setTextStyle(Me){const we=["left","center","right"],{fontColor:ze}=this.data.defaultAppearanceData,ct=this.data.defaultAppearanceData.fontSize||U,lt=Me.style;let vt;const yt=2,Ot=Ft=>Math.round(10*Ft)/10;if(this.data.multiLine){const Ft=Math.abs(this.data.rect[3]-this.data.rect[1]-yt),Mt=Math.round(Ft/(R.LINE_FACTOR*ct))||1,nn=Ft/Mt;vt=Math.min(ct,Ot(nn/R.LINE_FACTOR))}else{const Ft=Math.abs(this.data.rect[3]-this.data.rect[1]-yt);vt=Math.min(ct,Ot(Ft/R.LINE_FACTOR))}lt.fontSize=`calc(${vt}px * var(--scale-factor))`,lt.color=R.Util.makeHexColor(ze[0],ze[1],ze[2]),this.data.textAlignment!==null&&(lt.textAlign=we[this.data.textAlignment])}_setRequired(Me,we){we?Me.setAttribute("required",!0):Me.removeAttribute("required"),Me.setAttribute("aria-required",we)}}class ie extends ee{constructor(Me){const we=Me.renderForms||!Me.data.hasAppearance&&!!Me.data.fieldValue;super(Me,{isRenderable:we})}setPropertyOnSiblings(Me,we,ze,ct){const lt=this.annotationStorage;for(const vt of this._getElementsByName(Me.name,Me.id))vt.domElement&&(vt.domElement[we]=ze),lt.setValue(vt.id,{[ct]:ze})}render(){var ct,lt;const Me=this.annotationStorage,we=this.data.id;this.container.classList.add("textWidgetAnnotation");let ze=null;if(this.renderForms){const vt=Me.getValue(we,{value:this.data.fieldValue});let yt=vt.value||"";const Ot=Me.getValue(we,{charLimit:this.data.maxLen}).charLimit;Ot&&yt.length>Ot&&(yt=yt.slice(0,Ot));let Ft=vt.formattedValue||((ct=this.data.textContent)==null?void 0:ct.join(`
`))||null;Ft&&this.data.comb&&(Ft=Ft.replaceAll(/\s+/g,""));const Mt={userValue:yt,formattedValue:Ft,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(ze=document.createElement("textarea"),ze.textContent=Ft??yt,this.data.doNotScroll&&(ze.style.overflowY="hidden")):(ze=document.createElement("input"),ze.type="text",ze.setAttribute("value",Ft??yt),this.data.doNotScroll&&(ze.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ze.hidden=!0),be.add(ze),ze.setAttribute("data-element-id",we),ze.disabled=this.data.readOnly,ze.name=this.data.fieldName,ze.tabIndex=le,this._setRequired(ze,this.data.required),Ot&&(ze.maxLength=Ot),ze.addEventListener("input",Lt=>{Me.setValue(we,{value:Lt.target.value}),this.setPropertyOnSiblings(ze,"value",Lt.target.value,"value"),Mt.formattedValue=null}),ze.addEventListener("resetform",Lt=>{const jt=this.data.defaultFieldValue??"";ze.value=Mt.userValue=jt,Mt.formattedValue=null});let nn=Lt=>{const{formattedValue:jt}=Mt;jt!=null&&(Lt.target.value=jt),Lt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ze.addEventListener("focus",jt=>{if(Mt.focused)return;const{target:Zt}=jt;Mt.userValue&&(Zt.value=Mt.userValue),Mt.lastCommittedValue=Zt.value,Mt.commitKey=1,Mt.focused=!0}),ze.addEventListener("updatefromsandbox",jt=>{this.showElementAndHideCanvas(jt.target);const Zt={value(cn){Mt.userValue=cn.detail.value??"",Me.setValue(we,{value:Mt.userValue.toString()}),cn.target.value=Mt.userValue},formattedValue(cn){const{formattedValue:gn}=cn.detail;Mt.formattedValue=gn,gn!=null&&cn.target!==document.activeElement&&(cn.target.value=gn),Me.setValue(we,{formattedValue:gn})},selRange(cn){cn.target.setSelectionRange(...cn.detail.selRange)},charLimit:cn=>{var Dn;const{charLimit:gn}=cn.detail,{target:Cn}=cn;if(gn===0){Cn.removeAttribute("maxLength");return}Cn.setAttribute("maxLength",gn);let Vn=Mt.userValue;!Vn||Vn.length<=gn||(Vn=Vn.slice(0,gn),Cn.value=Mt.userValue=Vn,Me.setValue(we,{value:Vn}),(Dn=this.linkService.eventBus)==null||Dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:we,name:"Keystroke",value:Vn,willCommit:!0,commitKey:1,selStart:Cn.selectionStart,selEnd:Cn.selectionEnd}}))}};this._dispatchEventFromSandbox(Zt,jt)}),ze.addEventListener("keydown",jt=>{var gn;Mt.commitKey=1;let Zt=-1;if(jt.key==="Escape"?Zt=0:jt.key==="Enter"&&!this.data.multiLine?Zt=2:jt.key==="Tab"&&(Mt.commitKey=3),Zt===-1)return;const{value:cn}=jt.target;Mt.lastCommittedValue!==cn&&(Mt.lastCommittedValue=cn,Mt.userValue=cn,(gn=this.linkService.eventBus)==null||gn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:we,name:"Keystroke",value:cn,willCommit:!0,commitKey:Zt,selStart:jt.target.selectionStart,selEnd:jt.target.selectionEnd}}))});const Lt=nn;nn=null,ze.addEventListener("blur",jt=>{var cn;if(!Mt.focused||!jt.relatedTarget)return;Mt.focused=!1;const{value:Zt}=jt.target;Mt.userValue=Zt,Mt.lastCommittedValue!==Zt&&((cn=this.linkService.eventBus)==null||cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:we,name:"Keystroke",value:Zt,willCommit:!0,commitKey:Mt.commitKey,selStart:jt.target.selectionStart,selEnd:jt.target.selectionEnd}})),Lt(jt)}),(lt=this.data.actions)!=null&&lt.Keystroke&&ze.addEventListener("beforeinput",jt=>{var nr;Mt.lastCommittedValue=null;const{data:Zt,target:cn}=jt,{value:gn,selectionStart:Cn,selectionEnd:Vn}=cn;let Dn=Cn,er=Vn;switch(jt.inputType){case"deleteWordBackward":{const rr=gn.substring(0,Cn).match(/\w*[^\w]*$/);rr&&(Dn-=rr[0].length);break}case"deleteWordForward":{const rr=gn.substring(Cn).match(/^[^\w]*\w*/);rr&&(er+=rr[0].length);break}case"deleteContentBackward":Cn===Vn&&(Dn-=1);break;case"deleteContentForward":Cn===Vn&&(er+=1);break}jt.preventDefault(),(nr=this.linkService.eventBus)==null||nr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:we,name:"Keystroke",value:gn,change:Zt||"",willCommit:!1,selStart:Dn,selEnd:er}})}),this._setEventListeners(ze,Mt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],jt=>jt.target.value)}if(nn&&ze.addEventListener("blur",nn),this.data.comb){const jt=(this.data.rect[2]-this.data.rect[0])/Ot;ze.classList.add("comb"),ze.style.letterSpacing=`calc(${jt}px * var(--scale-factor) - 1ch)`}}else ze=document.createElement("div"),ze.textContent=this.data.fieldValue,ze.style.verticalAlign="middle",ze.style.display="table-cell";return this._setTextStyle(ze),this._setBackgroundColor(ze),this._setDefaultPropertiesFromJS(ze),this.container.append(ze),this.container}}class ve extends ee{constructor(Me){super(Me,{isRenderable:!!Me.data.hasOwnCanvas})}}class de extends ee{constructor(Me){super(Me,{isRenderable:Me.renderForms})}render(){const Me=this.annotationStorage,we=this.data,ze=we.id;let ct=Me.getValue(ze,{value:we.exportValue===we.fieldValue}).value;typeof ct=="string"&&(ct=ct!=="Off",Me.setValue(ze,{value:ct})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const lt=document.createElement("input");return be.add(lt),lt.setAttribute("data-element-id",ze),lt.disabled=we.readOnly,this._setRequired(lt,this.data.required),lt.type="checkbox",lt.name=we.fieldName,ct&&lt.setAttribute("checked",!0),lt.setAttribute("exportValue",we.exportValue),lt.tabIndex=le,lt.addEventListener("change",vt=>{const{name:yt,checked:Ot}=vt.target;for(const Ft of this._getElementsByName(yt,ze)){const Mt=Ot&&Ft.exportValue===we.exportValue;Ft.domElement&&(Ft.domElement.checked=Mt),Me.setValue(Ft.id,{value:Mt})}Me.setValue(ze,{value:Ot})}),lt.addEventListener("resetform",vt=>{const yt=we.defaultFieldValue||"Off";vt.target.checked=yt===we.exportValue}),this.enableScripting&&this.hasJSActions&&(lt.addEventListener("updatefromsandbox",vt=>{const yt={value(Ot){Ot.target.checked=Ot.detail.value!=="Off",Me.setValue(ze,{value:Ot.target.checked})}};this._dispatchEventFromSandbox(yt,vt)}),this._setEventListeners(lt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],vt=>vt.target.checked)),this._setBackgroundColor(lt),this._setDefaultPropertiesFromJS(lt),this.container.append(lt),this.container}}class te extends ee{constructor(Me){super(Me,{isRenderable:Me.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Me=this.annotationStorage,we=this.data,ze=we.id;let ct=Me.getValue(ze,{value:we.fieldValue===we.buttonValue}).value;typeof ct=="string"&&(ct=ct!==we.buttonValue,Me.setValue(ze,{value:ct}));const lt=document.createElement("input");if(be.add(lt),lt.setAttribute("data-element-id",ze),lt.disabled=we.readOnly,this._setRequired(lt,this.data.required),lt.type="radio",lt.name=we.fieldName,ct&&lt.setAttribute("checked",!0),lt.tabIndex=le,lt.addEventListener("change",vt=>{const{name:yt,checked:Ot}=vt.target;for(const Ft of this._getElementsByName(yt,ze))Me.setValue(Ft.id,{value:!1});Me.setValue(ze,{value:Ot})}),lt.addEventListener("resetform",vt=>{const yt=we.defaultFieldValue;vt.target.checked=yt!=null&&yt===we.buttonValue}),this.enableScripting&&this.hasJSActions){const vt=we.buttonValue;lt.addEventListener("updatefromsandbox",yt=>{const Ot={value:Ft=>{const Mt=vt===Ft.detail.value;for(const nn of this._getElementsByName(Ft.target.name)){const Lt=Mt&&nn.id===ze;nn.domElement&&(nn.domElement.checked=Lt),Me.setValue(nn.id,{value:Lt})}}};this._dispatchEventFromSandbox(Ot,yt)}),this._setEventListeners(lt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],yt=>yt.target.checked)}return this._setBackgroundColor(lt),this._setDefaultPropertiesFromJS(lt),this.container.append(lt),this.container}}class se extends Q{constructor(Me){super(Me,{ignoreBorder:Me.data.hasAppearance})}render(){const Me=super.render();Me.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Me.title=this.data.alternativeText);const we=Me.lastChild;return this.enableScripting&&this.hasJSActions&&we&&(this._setDefaultPropertiesFromJS(we),we.addEventListener("updatefromsandbox",ze=>{this._dispatchEventFromSandbox({},ze)})),Me}}class ne extends ee{constructor(Me){super(Me,{isRenderable:Me.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Me=this.annotationStorage,we=this.data.id,ze=Me.getValue(we,{value:this.data.fieldValue}),ct=document.createElement("select");be.add(ct),ct.setAttribute("data-element-id",we),ct.disabled=this.data.readOnly,this._setRequired(ct,this.data.required),ct.name=this.data.fieldName,ct.tabIndex=le;let lt=this.data.combo&&this.data.options.length>0;this.data.combo||(ct.size=this.data.options.length,this.data.multiSelect&&(ct.multiple=!0)),ct.addEventListener("resetform",Mt=>{const nn=this.data.defaultFieldValue;for(const Lt of ct.options)Lt.selected=Lt.value===nn});for(const Mt of this.data.options){const nn=document.createElement("option");nn.textContent=Mt.displayValue,nn.value=Mt.exportValue,ze.value.includes(Mt.exportValue)&&(nn.setAttribute("selected",!0),lt=!1),ct.append(nn)}let vt=null;if(lt){const Mt=document.createElement("option");Mt.value=" ",Mt.setAttribute("hidden",!0),Mt.setAttribute("selected",!0),ct.prepend(Mt),vt=()=>{Mt.remove(),ct.removeEventListener("input",vt),vt=null},ct.addEventListener("input",vt)}const yt=Mt=>{const nn=Mt?"value":"textContent",{options:Lt,multiple:jt}=ct;return jt?Array.prototype.filter.call(Lt,Zt=>Zt.selected).map(Zt=>Zt[nn]):Lt.selectedIndex===-1?null:Lt[Lt.selectedIndex][nn]};let Ot=yt(!1);const Ft=Mt=>{const nn=Mt.target.options;return Array.prototype.map.call(nn,Lt=>({displayValue:Lt.textContent,exportValue:Lt.value}))};return this.enableScripting&&this.hasJSActions?(ct.addEventListener("updatefromsandbox",Mt=>{const nn={value(Lt){vt==null||vt();const jt=Lt.detail.value,Zt=new Set(Array.isArray(jt)?jt:[jt]);for(const cn of ct.options)cn.selected=Zt.has(cn.value);Me.setValue(we,{value:yt(!0)}),Ot=yt(!1)},multipleSelection(Lt){ct.multiple=!0},remove(Lt){const jt=ct.options,Zt=Lt.detail.remove;jt[Zt].selected=!1,ct.remove(Zt),jt.length>0&&Array.prototype.findIndex.call(jt,gn=>gn.selected)===-1&&(jt[0].selected=!0),Me.setValue(we,{value:yt(!0),items:Ft(Lt)}),Ot=yt(!1)},clear(Lt){for(;ct.length!==0;)ct.remove(0);Me.setValue(we,{value:null,items:[]}),Ot=yt(!1)},insert(Lt){const{index:jt,displayValue:Zt,exportValue:cn}=Lt.detail.insert,gn=ct.children[jt],Cn=document.createElement("option");Cn.textContent=Zt,Cn.value=cn,gn?gn.before(Cn):ct.append(Cn),Me.setValue(we,{value:yt(!0),items:Ft(Lt)}),Ot=yt(!1)},items(Lt){const{items:jt}=Lt.detail;for(;ct.length!==0;)ct.remove(0);for(const Zt of jt){const{displayValue:cn,exportValue:gn}=Zt,Cn=document.createElement("option");Cn.textContent=cn,Cn.value=gn,ct.append(Cn)}ct.options.length>0&&(ct.options[0].selected=!0),Me.setValue(we,{value:yt(!0),items:Ft(Lt)}),Ot=yt(!1)},indices(Lt){const jt=new Set(Lt.detail.indices);for(const Zt of Lt.target.options)Zt.selected=jt.has(Zt.index);Me.setValue(we,{value:yt(!0)}),Ot=yt(!1)},editable(Lt){Lt.target.disabled=!Lt.detail.editable}};this._dispatchEventFromSandbox(nn,Mt)}),ct.addEventListener("input",Mt=>{var Lt;const nn=yt(!0);Me.setValue(we,{value:nn}),Mt.preventDefault(),(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:we,name:"Keystroke",value:Ot,changeEx:nn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ct,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Mt=>Mt.target.value)):ct.addEventListener("input",function(Mt){Me.setValue(we,{value:yt(!0)})}),this.data.combo&&this._setTextStyle(ct),this._setBackgroundColor(ct),this._setDefaultPropertiesFromJS(ct),this.container.append(ct),this.container}}class ae extends re{constructor(Me){const{data:we,elements:ze}=Me;super(Me,{isRenderable:re._hasPopupData(we)}),this.elements=ze}render(){this.container.classList.add("popupAnnotation");const Me=new oe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),we=[];for(const ze of this.elements)ze.popup=Me,we.push(ze.data.id),ze.addHighlightArea();return this.container.setAttribute("aria-controls",we.map(ze=>`${R.AnnotationPrefix}${ze}`).join(",")),this.container}}class oe{constructor({container:Me,color:we,elements:ze,titleObj:ct,modificationDate:lt,contentsObj:vt,richText:yt,parent:Ot,rect:Ft,parentRect:Mt,open:nn}){it(this,St);it(this,Qe,null);it(this,ot,Ue(this,St,xa).bind(this));it(this,st,Ue(this,St,Oi).bind(this));it(this,ut,Ue(this,St,Di).bind(this));it(this,dt,Ue(this,St,Xr).bind(this));it(this,mt,null);it(this,Ge,null);it(this,Xe,null);it(this,fe,null);it(this,ye,null);it(this,je,null);it(this,Ke,!1);it(this,nt,null);it(this,pt,null);it(this,ht,null);it(this,We,null);it(this,wt,!1);var jt;at(this,Ge,Me),at(this,We,ct),at(this,Xe,vt),at(this,ht,yt),at(this,ye,Ot),at(this,mt,we),at(this,pt,Ft),at(this,je,Mt),at(this,fe,ze);const Lt=O.PDFDateString.toDateObject(lt);Lt&&at(this,Qe,Ot.l10n.get("annotation_date_string",{date:Lt.toLocaleDateString(),time:Lt.toLocaleTimeString()})),this.trigger=ze.flatMap(Zt=>Zt.getElementsToTriggerPopup());for(const Zt of this.trigger)Zt.addEventListener("click",V(this,dt)),Zt.addEventListener("mouseenter",V(this,ut)),Zt.addEventListener("mouseleave",V(this,st)),Zt.classList.add("popupTriggerArea");for(const Zt of ze)(jt=Zt.container)==null||jt.addEventListener("keydown",V(this,ot));V(this,Ge).hidden=!0,nn&&Ue(this,St,Xr).call(this)}render(){if(V(this,nt))return;const{page:{view:Me},viewport:{rawDims:{pageWidth:we,pageHeight:ze,pageX:ct,pageY:lt}}}=V(this,ye),vt=at(this,nt,document.createElement("div"));if(vt.className="popup",V(this,mt)){const Dn=vt.style.outlineColor=R.Util.makeHexColor(...V(this,mt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?vt.style.backgroundColor=`color-mix(in srgb, ${Dn} 30%, white)`:vt.style.backgroundColor=R.Util.makeHexColor(...V(this,mt).map(nr=>Math.floor(.7*(255-nr)+nr)))}const yt=document.createElement("span");yt.className="header";const Ot=document.createElement("h1");if(yt.append(Ot),{dir:Ot.dir,str:Ot.textContent}=V(this,We),vt.append(yt),V(this,Qe)){const Dn=document.createElement("span");Dn.classList.add("popupDate"),V(this,Qe).then(er=>{Dn.textContent=er}),yt.append(Dn)}const Ft=V(this,Xe),Mt=V(this,ht);if(Mt!=null&&Mt.str&&(!(Ft!=null&&Ft.str)||Ft.str===Mt.str))ue.XfaLayer.render({xfaHtml:Mt.html,intent:"richText",div:vt}),vt.lastChild.classList.add("richText","popupContent");else{const Dn=this._formatContents(Ft);vt.append(Dn)}let nn=!!V(this,je),Lt=nn?V(this,je):V(this,pt);for(const Dn of V(this,fe))if(!Lt||R.Util.intersect(Dn.data.rect,Lt)!==null){Lt=Dn.data.rect,nn=!0;break}const jt=R.Util.normalizeRect([Lt[0],Me[3]-Lt[1]+Me[1],Lt[2],Me[3]-Lt[3]+Me[1]]),cn=nn?Lt[2]-Lt[0]+5:0,gn=jt[0]+cn,Cn=jt[1],{style:Vn}=V(this,Ge);Vn.left=`${100*(gn-ct)/we}%`,Vn.top=`${100*(Cn-lt)/ze}%`,V(this,Ge).append(vt)}_formatContents({str:Me,dir:we}){const ze=document.createElement("p");ze.classList.add("popupContent"),ze.dir=we;const ct=Me.split(/(?:\r\n?|\n)/);for(let lt=0,vt=ct.length;lt<vt;++lt){const yt=ct[lt];ze.append(document.createTextNode(yt)),lt<vt-1&&ze.append(document.createElement("br"))}return ze}forceHide(){at(this,wt,this.isVisible),V(this,wt)&&(V(this,Ge).hidden=!0)}maybeShow(){V(this,wt)&&(at(this,wt,!1),V(this,Ge).hidden=!1)}get isVisible(){return V(this,Ge).hidden===!1}}Qe=new WeakMap,ot=new WeakMap,st=new WeakMap,ut=new WeakMap,dt=new WeakMap,mt=new WeakMap,Ge=new WeakMap,Xe=new WeakMap,fe=new WeakMap,ye=new WeakMap,je=new WeakMap,Ke=new WeakMap,nt=new WeakMap,pt=new WeakMap,ht=new WeakMap,We=new WeakMap,wt=new WeakMap,St=new WeakSet,xa=function(Me){Me.altKey||Me.shiftKey||Me.ctrlKey||Me.metaKey||(Me.key==="Enter"||Me.key==="Escape"&&V(this,Ke))&&Ue(this,St,Xr).call(this)},Xr=function(){at(this,Ke,!V(this,Ke)),V(this,Ke)?(Ue(this,St,Di).call(this),V(this,Ge).addEventListener("click",V(this,dt)),V(this,Ge).addEventListener("keydown",V(this,ot))):(Ue(this,St,Oi).call(this),V(this,Ge).removeEventListener("click",V(this,dt)),V(this,Ge).removeEventListener("keydown",V(this,ot)))},Di=function(){V(this,nt)||this.render(),this.isVisible?V(this,Ke)&&V(this,Ge).classList.add("focused"):(V(this,Ge).hidden=!1,V(this,Ge).style.zIndex=parseInt(V(this,Ge).style.zIndex)+1e3)},Oi=function(){V(this,Ge).classList.remove("focused"),!(V(this,Ke)||!this.isVisible)&&(V(this,Ge).hidden=!0,V(this,Ge).style.zIndex=parseInt(V(this,Ge).style.zIndex)-1e3)};class Ee extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Me.data.textContent,this.textPosition=Me.data.textPosition,this.annotationEditorType=R.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Me=document.createElement("div");Me.classList.add("annotationTextContent"),Me.setAttribute("role","comment");for(const we of this.textContent){const ze=document.createElement("span");ze.textContent=we,Me.append(ze)}this.container.append(Me)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=Ee;class K extends re{constructor(we){super(we,{isRenderable:!0,ignoreBorder:!0});it(this,zt,null)}render(){this.container.classList.add("lineAnnotation");const we=this.data,{width:ze,height:ct}=ce(we.rect),lt=this.svgFactory.create(ze,ct,!0),vt=at(this,zt,this.svgFactory.createElement("svg:line"));return vt.setAttribute("x1",we.rect[2]-we.lineCoordinates[0]),vt.setAttribute("y1",we.rect[3]-we.lineCoordinates[1]),vt.setAttribute("x2",we.rect[2]-we.lineCoordinates[2]),vt.setAttribute("y2",we.rect[3]-we.lineCoordinates[3]),vt.setAttribute("stroke-width",we.borderStyle.width||1),vt.setAttribute("stroke","transparent"),vt.setAttribute("fill","transparent"),lt.append(vt),this.container.append(lt),!we.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,zt)}addHighlightArea(){this.container.classList.add("highlightArea")}}zt=new WeakMap;class ge extends re{constructor(we){super(we,{isRenderable:!0,ignoreBorder:!0});it(this,an,null)}render(){this.container.classList.add("squareAnnotation");const we=this.data,{width:ze,height:ct}=ce(we.rect),lt=this.svgFactory.create(ze,ct,!0),vt=we.borderStyle.width,yt=at(this,an,this.svgFactory.createElement("svg:rect"));return yt.setAttribute("x",vt/2),yt.setAttribute("y",vt/2),yt.setAttribute("width",ze-vt),yt.setAttribute("height",ct-vt),yt.setAttribute("stroke-width",vt||1),yt.setAttribute("stroke","transparent"),yt.setAttribute("fill","transparent"),lt.append(yt),this.container.append(lt),!we.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,an)}addHighlightArea(){this.container.classList.add("highlightArea")}}an=new WeakMap;class Ce extends re{constructor(we){super(we,{isRenderable:!0,ignoreBorder:!0});it(this,_n,null)}render(){this.container.classList.add("circleAnnotation");const we=this.data,{width:ze,height:ct}=ce(we.rect),lt=this.svgFactory.create(ze,ct,!0),vt=we.borderStyle.width,yt=at(this,_n,this.svgFactory.createElement("svg:ellipse"));return yt.setAttribute("cx",ze/2),yt.setAttribute("cy",ct/2),yt.setAttribute("rx",ze/2-vt/2),yt.setAttribute("ry",ct/2-vt/2),yt.setAttribute("stroke-width",vt||1),yt.setAttribute("stroke","transparent"),yt.setAttribute("fill","transparent"),lt.append(yt),this.container.append(lt),!we.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,_n)}addHighlightArea(){this.container.classList.add("highlightArea")}}_n=new WeakMap;class De extends re{constructor(we){super(we,{isRenderable:!0,ignoreBorder:!0});it(this,gt,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const we=this.data,{width:ze,height:ct}=ce(we.rect),lt=this.svgFactory.create(ze,ct,!0);let vt=[];for(const Ot of we.vertices){const Ft=Ot.x-we.rect[0],Mt=we.rect[3]-Ot.y;vt.push(Ft+","+Mt)}vt=vt.join(" ");const yt=at(this,gt,this.svgFactory.createElement(this.svgElementName));return yt.setAttribute("points",vt),yt.setAttribute("stroke-width",we.borderStyle.width||1),yt.setAttribute("stroke","transparent"),yt.setAttribute("fill","transparent"),lt.append(yt),this.container.append(lt),!we.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,gt)}addHighlightArea(){this.container.classList.add("highlightArea")}}gt=new WeakMap;class xe extends De{constructor(Me){super(Me),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ne extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Fe extends re{constructor(we){super(we,{isRenderable:!0,ignoreBorder:!0});it(this,Ye,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=R.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const we=this.data,{width:ze,height:ct}=ce(we.rect),lt=this.svgFactory.create(ze,ct,!0);for(const vt of we.inkLists){let yt=[];for(const Ft of vt){const Mt=Ft.x-we.rect[0],nn=we.rect[3]-Ft.y;yt.push(`${Mt},${nn}`)}yt=yt.join(" ");const Ot=this.svgFactory.createElement(this.svgElementName);V(this,Ye).push(Ot),Ot.setAttribute("points",yt),Ot.setAttribute("stroke-width",we.borderStyle.width||1),Ot.setAttribute("stroke","transparent"),Ot.setAttribute("fill","transparent"),!we.popupRef&&this.hasPopupData&&this._createPopup(),lt.append(Ot)}return this.container.append(lt),this.container}getElementsToTriggerPopup(){return V(this,Ye)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ye=new WeakMap,$.InkAnnotationElement=Fe;class qe extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Se extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class $e extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class He extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class _e extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=_e;class G extends re{constructor(we){var lt;super(we,{isRenderable:!0});it(this,Tt);it(this,Je,null);const{filename:ze,content:ct}=this.data.file;this.filename=(0,O.getFilenameFromUrl)(ze,!0),this.content=ct,(lt=this.linkService.eventBus)==null||lt.dispatch("fileattachmentannotation",{source:this,filename:ze,content:ct})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:we,data:ze}=this;let ct;ze.hasAppearance||ze.fillAlpha===0?ct=document.createElement("div"):(ct=document.createElement("img"),ct.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(ze.name)?"paperclip":"pushpin"}.svg`,ze.fillAlpha&&ze.fillAlpha<1&&(ct.style=`filter: opacity(${Math.round(ze.fillAlpha*100)}%);`)),ct.addEventListener("dblclick",Ue(this,Tt,Ni).bind(this)),at(this,Je,ct);const{isMac:lt}=R.FeatureTest.platform;return we.addEventListener("keydown",vt=>{vt.key==="Enter"&&(lt?vt.metaKey:vt.ctrlKey)&&Ue(this,Tt,Ni).call(this)}),!ze.popupRef&&this.hasPopupData?this._createPopup():ct.classList.add("popupTriggerArea"),we.append(ct),we}getElementsToTriggerPopup(){return V(this,Je)}addHighlightArea(){this.container.classList.add("highlightArea")}}Je=new WeakMap,Tt=new WeakSet,Ni=function(){var we;(we=this.downloadManager)==null||we.openOrDownloadData(this.container,this.content,this.filename)};class X{constructor({div:Me,accessibilityManager:we,annotationCanvasMap:ze,l10n:ct,page:lt,viewport:vt}){it(this,Pt);it(this,Gt,null);it(this,Te,null);it(this,ft,new Map);this.div=Me,at(this,Gt,we),at(this,Te,ze),this.l10n=ct,this.page=lt,this.viewport=vt,this.zIndex=0,this.l10n||(this.l10n=me.NullL10n)}async render(Me){const{annotations:we}=Me,ze=this.div;(0,O.setLayerDimensions)(ze,this.viewport);const ct=new Map,lt={data:null,layer:ze,linkService:Me.linkService,downloadManager:Me.downloadManager,imageResourcesPath:Me.imageResourcesPath||"",renderForms:Me.renderForms!==!1,svgFactory:new O.DOMSVGFactory,annotationStorage:Me.annotationStorage||new B.AnnotationStorage,enableScripting:Me.enableScripting===!0,hasJSActions:Me.hasJSActions,fieldObjects:Me.fieldObjects,parent:this,elements:null};for(const vt of we){if(vt.noHTML)continue;const yt=vt.annotationType===R.AnnotationType.POPUP;if(yt){const Mt=ct.get(vt.id);if(!Mt)continue;lt.elements=Mt}else{const{width:Mt,height:nn}=ce(vt.rect);if(Mt<=0||nn<=0)continue}lt.data=vt;const Ot=J.create(lt);if(!Ot.isRenderable)continue;if(!yt&&vt.popupRef){const Mt=ct.get(vt.popupRef);Mt?Mt.push(Ot):ct.set(vt.popupRef,[Ot])}Ot.annotationEditorType>0&&V(this,ft).set(Ot.data.id,Ot);const Ft=Ot.render();vt.hidden&&(Ft.style.visibility="hidden"),Ue(this,Pt,$a).call(this,Ft,vt.id)}Ue(this,Pt,Bi).call(this),await this.l10n.translate(ze)}update({viewport:Me}){const we=this.div;this.viewport=Me,(0,O.setLayerDimensions)(we,{rotation:Me.rotation}),Ue(this,Pt,Bi).call(this),we.hidden=!1}getEditableAnnotations(){return Array.from(V(this,ft).values())}getEditableAnnotation(Me){return V(this,ft).get(Me)}}Gt=new WeakMap,Te=new WeakMap,ft=new WeakMap,Pt=new WeakSet,$a=function(Me,we){var ct;const ze=Me.firstChild||Me;ze.id=`${R.AnnotationPrefix}${we}`,this.div.append(Me),(ct=V(this,Gt))==null||ct.moveElementInDOM(this.div,Me,ze,!1)},Bi=function(){if(!V(this,Te))return;const Me=this.div;for(const[we,ze]of V(this,Te)){const ct=Me.querySelector(`[data-annotation-id="${we}"]`);if(!ct)continue;const{firstChild:lt}=ct;lt?lt.nodeName==="CANVAS"?lt.replaceWith(ze):lt.before(ze):ct.append(ze)}V(this,Te).clear()},$.AnnotationLayer=X},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function H(B){return Math.floor(Math.max(0,Math.min(1,B))*255).toString(16).padStart(2,"0")}function R(B){return Math.max(0,Math.min(255,255*B))}class O{static CMYK_G([Y,me,ue,le]){return["G",1-Math.min(1,.3*Y+.59*ue+.11*me+le)]}static G_CMYK([Y]){return["CMYK",0,0,0,1-Y]}static G_RGB([Y]){return["RGB",Y,Y,Y]}static G_rgb([Y]){return Y=R(Y),[Y,Y,Y]}static G_HTML([Y]){const me=H(Y);return`#${me}${me}${me}`}static RGB_G([Y,me,ue]){return["G",.3*Y+.59*me+.11*ue]}static RGB_rgb(Y){return Y.map(R)}static RGB_HTML(Y){return`#${Y.map(H).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Y,me,ue,le]){return["RGB",1-Math.min(1,Y+le),1-Math.min(1,ue+le),1-Math.min(1,me+le)]}static CMYK_rgb([Y,me,ue,le]){return[R(1-Math.min(1,Y+le)),R(1-Math.min(1,ue+le)),R(1-Math.min(1,me+le))]}static CMYK_HTML(Y){const me=this.CMYK_RGB(Y).slice(1);return this.RGB_HTML(me)}static RGB_CMYK([Y,me,ue]){const le=1-Y,U=1-me,be=1-ue,ce=Math.min(le,U,be);return["CMYK",le,U,be,ce]}}$.ColorConverters=O},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=R;const H={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};H.print_progress_percent="{{progress}}%";function R(Y,me){switch(Y){case"find_match_count":Y=`find_match_count[${me.total===1?"one":"other"}]`;break;case"find_match_count_limit":Y=`find_match_count_limit[${me.limit===1?"one":"other"}]`;break}return H[Y]||""}function O(Y,me){return me?Y.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ue,le)=>le in me?me[le]:"{{"+le+"}}"):Y}const B={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Y,me=null,ue=R(Y,me)){return O(ue,me)},async translate(Y){}};$.NullL10n=B},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var R=H(25);class O{static setupStorage(Y,me,ue,le,U){const be=le.getValue(me,{value:null});switch(ue.name){case"textarea":if(be.value!==null&&(Y.textContent=be.value),U==="print")break;Y.addEventListener("input",ce=>{le.setValue(me,{value:ce.target.value})});break;case"input":if(ue.attributes.type==="radio"||ue.attributes.type==="checkbox"){if(be.value===ue.attributes.xfaOn?Y.setAttribute("checked",!0):be.value===ue.attributes.xfaOff&&Y.removeAttribute("checked"),U==="print")break;Y.addEventListener("change",ce=>{le.setValue(me,{value:ce.target.checked?ce.target.getAttribute("xfaOn"):ce.target.getAttribute("xfaOff")})})}else{if(be.value!==null&&Y.setAttribute("value",be.value),U==="print")break;Y.addEventListener("input",ce=>{le.setValue(me,{value:ce.target.value})})}break;case"select":if(be.value!==null){Y.setAttribute("value",be.value);for(const ce of ue.children)ce.attributes.value===be.value?ce.attributes.selected=!0:ce.attributes.hasOwnProperty("selected")&&delete ce.attributes.selected}Y.addEventListener("input",ce=>{const J=ce.target.options,re=J.selectedIndex===-1?"":J[J.selectedIndex].value;le.setValue(me,{value:re})});break}}static setAttributes({html:Y,element:me,storage:ue=null,intent:le,linkService:U}){const{attributes:be}=me,ce=Y instanceof HTMLAnchorElement;be.type==="radio"&&(be.name=`${be.name}-${le}`);for(const[J,re]of Object.entries(be))if(re!=null)switch(J){case"class":re.length&&Y.setAttribute(J,re.join(" "));break;case"dataId":break;case"id":Y.setAttribute("data-element-id",re);break;case"style":Object.assign(Y.style,re);break;case"textContent":Y.textContent=re;break;default:(!ce||J!=="href"&&J!=="newWindow")&&Y.setAttribute(J,re)}ce&&U.addLinkAttributes(Y,be.href,be.newWindow),ue&&be.dataId&&this.setupStorage(Y,be.dataId,me,ue)}static render(Y){var Q;const me=Y.annotationStorage,ue=Y.linkService,le=Y.xfaHtml,U=Y.intent||"display",be=document.createElement(le.name);le.attributes&&this.setAttributes({html:be,element:le,intent:U,linkService:ue});const ce=[[le,-1,be]],J=Y.div;if(J.append(be),Y.viewport){const q=`matrix(${Y.viewport.transform.join(",")})`;J.style.transform=q}U!=="richText"&&J.setAttribute("class","xfaLayer xfaFont");const re=[];for(;ce.length>0;){const[q,ee,ie]=ce.at(-1);if(ee+1===q.children.length){ce.pop();continue}const ve=q.children[++ce.at(-1)[1]];if(ve===null)continue;const{name:de}=ve;if(de==="#text"){const se=document.createTextNode(ve.value);re.push(se),ie.append(se);continue}const te=(Q=ve==null?void 0:ve.attributes)!=null&&Q.xmlns?document.createElementNS(ve.attributes.xmlns,de):document.createElement(de);if(ie.append(te),ve.attributes&&this.setAttributes({html:te,element:ve,storage:me,intent:U,linkService:ue}),ve.children&&ve.children.length>0)ce.push([ve,-1,te]);else if(ve.value){const se=document.createTextNode(ve.value);R.XfaText.shouldBuildText(de)&&re.push(se),te.append(se)}}for(const q of J.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))q.setAttribute("readOnly",!0);return{textDivs:re}}static update(Y){const me=`matrix(${Y.viewport.transform.join(",")})`;Y.div.style.transform=me,Y.div.hidden=!1}}$.XfaLayer=O},(A,$,H)=>{var le,U,be,ce,J,re,Q,q,ee,ie,ve,de,te,se,ne,Ta,Ra,Fa,La,ji,Ia,zi,Da,Oa,Na,Ba,ja,or,Hi,Kr,Yr,yr,Vi,Zr,Ae,za,Wi,Ha,Va,Ui,Jr,Sr;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var R=H(1),O=H(4),B=H(29),Y=H(6),me=H(5);const mt=class mt extends O.AnnotationEditor{constructor(fe){super({...fe,name:"inkEditor"});it(this,ne);it(this,le,0);it(this,U,0);it(this,be,this.canvasPointermove.bind(this));it(this,ce,this.canvasPointerleave.bind(this));it(this,J,this.canvasPointerup.bind(this));it(this,re,this.canvasPointerdown.bind(this));it(this,Q,new Path2D);it(this,q,!1);it(this,ee,!1);it(this,ie,!1);it(this,ve,null);it(this,de,0);it(this,te,0);it(this,se,null);this.color=fe.color||null,this.thickness=fe.thickness||null,this.opacity=fe.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(fe){O.AnnotationEditor.initialize(fe,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(fe,ye){switch(fe){case R.AnnotationEditorParamsType.INK_THICKNESS:mt._defaultThickness=ye;break;case R.AnnotationEditorParamsType.INK_COLOR:mt._defaultColor=ye;break;case R.AnnotationEditorParamsType.INK_OPACITY:mt._defaultOpacity=ye/100;break}}updateParams(fe,ye){switch(fe){case R.AnnotationEditorParamsType.INK_THICKNESS:Ue(this,ne,Ta).call(this,ye);break;case R.AnnotationEditorParamsType.INK_COLOR:Ue(this,ne,Ra).call(this,ye);break;case R.AnnotationEditorParamsType.INK_OPACITY:Ue(this,ne,Fa).call(this,ye);break}}static get defaultPropertiesToUpdate(){return[[R.AnnotationEditorParamsType.INK_THICKNESS,mt._defaultThickness],[R.AnnotationEditorParamsType.INK_COLOR,mt._defaultColor||O.AnnotationEditor._defaultLineColor],[R.AnnotationEditorParamsType.INK_OPACITY,Math.round(mt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[R.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||mt._defaultThickness],[R.AnnotationEditorParamsType.INK_COLOR,this.color||mt._defaultColor||O.AnnotationEditor._defaultLineColor],[R.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??mt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ue(this,ne,Kr).call(this),Ue(this,ne,Yr).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ue(this,ne,yr).call(this)),Ue(this,ne,Sr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,V(this,ve).disconnect(),at(this,ve,null),super.remove())}setParent(fe){!this.parent&&fe?this._uiManager.removeShouldRescale(this):this.parent&&fe===null&&this._uiManager.addShouldRescale(this),super.setParent(fe)}onScaleChanging(){const[fe,ye]=this.parentDimensions,je=this.width*fe,Ke=this.height*ye;this.setDimensions(je,Ke)}enableEditMode(){V(this,q)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",V(this,re)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",V(this,re)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){V(this,q)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),at(this,q,!0),this.div.classList.add("disabled"),Ue(this,ne,Sr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(fe){this._focusEventsAllowed&&(super.focusin(fe),this.enableEditMode())}canvasPointerdown(fe){fe.button!==0||!this.isInEditMode()||V(this,q)||(this.setInForeground(),fe.preventDefault(),fe.type!=="mouse"&&this.div.focus(),Ue(this,ne,Ia).call(this,fe.offsetX,fe.offsetY))}canvasPointermove(fe){fe.preventDefault(),Ue(this,ne,zi).call(this,fe.offsetX,fe.offsetY)}canvasPointerup(fe){fe.preventDefault(),Ue(this,ne,Hi).call(this,fe)}canvasPointerleave(fe){Ue(this,ne,Hi).call(this,fe)}get isResizable(){return!this.isEmpty()&&V(this,q)}render(){if(this.div)return this.div;let fe,ye;this.width&&(fe=this.x,ye=this.y),super.render(),O.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(ht=>{var We;return(We=this.div)==null?void 0:We.setAttribute("aria-label",ht)});const[je,Ke,nt,pt]=Ue(this,ne,La).call(this);if(this.setAt(je,Ke,0,0),this.setDims(nt,pt),Ue(this,ne,Kr).call(this),this.width){const[ht,We]=this.parentDimensions;this.setAspectRatio(this.width*ht,this.height*We),this.setAt(fe*ht,ye*We,this.width*ht,this.height*We),at(this,ie,!0),Ue(this,ne,yr).call(this),this.setDims(this.width*ht,this.height*We),Ue(this,ne,or).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ue(this,ne,Yr).call(this),this.div}setDimensions(fe,ye){const je=Math.round(fe),Ke=Math.round(ye);if(V(this,de)===je&&V(this,te)===Ke)return;at(this,de,je),at(this,te,Ke),this.canvas.style.visibility="hidden";const[nt,pt]=this.parentDimensions;this.width=fe/nt,this.height=ye/pt,this.fixAndSetPosition(),V(this,q)&&Ue(this,ne,Vi).call(this,fe,ye),Ue(this,ne,yr).call(this),Ue(this,ne,or).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(fe,ye,je){var zt,an,_n;if(fe instanceof B.InkAnnotationElement)return null;const Ke=super.deserialize(fe,ye,je);Ke.thickness=fe.thickness,Ke.color=R.Util.makeHexColor(...fe.color),Ke.opacity=fe.opacity;const[nt,pt]=Ke.pageDimensions,ht=Ke.width*nt,We=Ke.height*pt,wt=Ke.parentScale,St=fe.thickness/2;at(Ke,q,!0),at(Ke,de,Math.round(ht)),at(Ke,te,Math.round(We));const{paths:Yt,rect:Ut,rotation:dn}=fe;for(let{bezier:gt}of Yt){gt=Ue(zt=mt,Ae,Ha).call(zt,gt,Ut,dn);const Ye=[];Ke.paths.push(Ye);let Je=wt*(gt[0]-St),Tt=wt*(gt[1]-St);for(let Gt=2,Te=gt.length;Gt<Te;Gt+=6){const ft=wt*(gt[Gt]-St),Pt=wt*(gt[Gt+1]-St),Dt=wt*(gt[Gt+2]-St),Bt=wt*(gt[Gt+3]-St),$t=wt*(gt[Gt+4]-St),Me=wt*(gt[Gt+5]-St);Ye.push([[Je,Tt],[ft,Pt],[Dt,Bt],[$t,Me]]),Je=$t,Tt=Me}const It=Ue(this,Ae,za).call(this,Ye);Ke.bezierPath2D.push(It)}const Rt=Ue(an=Ke,ne,Ui).call(an);return at(Ke,U,Math.max(O.AnnotationEditor.MIN_SIZE,Rt[2]-Rt[0])),at(Ke,le,Math.max(O.AnnotationEditor.MIN_SIZE,Rt[3]-Rt[1])),Ue(_n=Ke,ne,Vi).call(_n,ht,We),Ke}serialize(){if(this.isEmpty())return null;const fe=this.getRect(0,0),ye=O.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:R.AnnotationEditorType.INK,color:ye,thickness:this.thickness,opacity:this.opacity,paths:Ue(this,ne,Va).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,fe),pageIndex:this.pageIndex,rect:fe,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};le=new WeakMap,U=new WeakMap,be=new WeakMap,ce=new WeakMap,J=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,ee=new WeakMap,ie=new WeakMap,ve=new WeakMap,de=new WeakMap,te=new WeakMap,se=new WeakMap,ne=new WeakSet,Ta=function(fe){const ye=this.thickness;this.addCommands({cmd:()=>{this.thickness=fe,Ue(this,ne,Sr).call(this)},undo:()=>{this.thickness=ye,Ue(this,ne,Sr).call(this)},mustExec:!0,type:R.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ra=function(fe){const ye=this.color;this.addCommands({cmd:()=>{this.color=fe,Ue(this,ne,or).call(this)},undo:()=>{this.color=ye,Ue(this,ne,or).call(this)},mustExec:!0,type:R.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Fa=function(fe){fe/=100;const ye=this.opacity;this.addCommands({cmd:()=>{this.opacity=fe,Ue(this,ne,or).call(this)},undo:()=>{this.opacity=ye,Ue(this,ne,or).call(this)},mustExec:!0,type:R.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},La=function(){const{parentRotation:fe,parentDimensions:[ye,je]}=this;switch(fe){case 90:return[0,je,je,ye];case 180:return[ye,je,ye,je];case 270:return[ye,0,je,ye];default:return[0,0,ye,je]}},ji=function(){const{ctx:fe,color:ye,opacity:je,thickness:Ke,parentScale:nt,scaleFactor:pt}=this;fe.lineWidth=Ke*nt/pt,fe.lineCap="round",fe.lineJoin="round",fe.miterLimit=10,fe.strokeStyle=`${ye}${(0,me.opacityToHex)(je)}`},Ia=function(fe,ye){this.canvas.addEventListener("contextmenu",Y.noContextMenu),this.canvas.addEventListener("pointerleave",V(this,ce)),this.canvas.addEventListener("pointermove",V(this,be)),this.canvas.addEventListener("pointerup",V(this,J)),this.canvas.removeEventListener("pointerdown",V(this,re)),this.isEditing=!0,V(this,ie)||(at(this,ie,!0),Ue(this,ne,yr).call(this),this.thickness||(this.thickness=mt._defaultThickness),this.color||(this.color=mt._defaultColor||O.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=mt._defaultOpacity)),this.currentPath.push([fe,ye]),at(this,ee,!1),Ue(this,ne,ji).call(this),at(this,se,()=>{Ue(this,ne,Na).call(this),V(this,se)&&window.requestAnimationFrame(V(this,se))}),window.requestAnimationFrame(V(this,se))},zi=function(fe,ye){const[je,Ke]=this.currentPath.at(-1);if(this.currentPath.length>1&&fe===je&&ye===Ke)return;const nt=this.currentPath;let pt=V(this,Q);if(nt.push([fe,ye]),at(this,ee,!0),nt.length<=2){pt.moveTo(...nt[0]),pt.lineTo(fe,ye);return}nt.length===3&&(at(this,Q,pt=new Path2D),pt.moveTo(...nt[0])),Ue(this,ne,Ba).call(this,pt,...nt.at(-3),...nt.at(-2),fe,ye)},Da=function(){if(this.currentPath.length===0)return;const fe=this.currentPath.at(-1);V(this,Q).lineTo(...fe)},Oa=function(fe,ye){at(this,se,null),fe=Math.min(Math.max(fe,0),this.canvas.width),ye=Math.min(Math.max(ye,0),this.canvas.height),Ue(this,ne,zi).call(this,fe,ye),Ue(this,ne,Da).call(this);let je;if(this.currentPath.length!==1)je=Ue(this,ne,ja).call(this);else{const We=[fe,ye];je=[[We,We.slice(),We.slice(),We]]}const Ke=V(this,Q),nt=this.currentPath;this.currentPath=[],at(this,Q,new Path2D);const pt=()=>{this.allRawPaths.push(nt),this.paths.push(je),this.bezierPath2D.push(Ke),this.rebuild()},ht=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ue(this,ne,Kr).call(this),Ue(this,ne,Yr).call(this)),Ue(this,ne,Sr).call(this))};this.addCommands({cmd:pt,undo:ht,mustExec:!0})},Na=function(){if(!V(this,ee))return;at(this,ee,!1);const fe=Math.ceil(this.thickness*this.parentScale),ye=this.currentPath.slice(-3),je=ye.map(pt=>pt[0]),Ke=ye.map(pt=>pt[1]);Math.min(...je)-fe,Math.max(...je)+fe,Math.min(...Ke)-fe,Math.max(...Ke)+fe;const{ctx:nt}=this;nt.save(),nt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const pt of this.bezierPath2D)nt.stroke(pt);nt.stroke(V(this,Q)),nt.restore()},Ba=function(fe,ye,je,Ke,nt,pt,ht){const We=(ye+Ke)/2,wt=(je+nt)/2,St=(Ke+pt)/2,Yt=(nt+ht)/2;fe.bezierCurveTo(We+2*(Ke-We)/3,wt+2*(nt-wt)/3,St+2*(Ke-St)/3,Yt+2*(nt-Yt)/3,St,Yt)},ja=function(){const fe=this.currentPath;if(fe.length<=2)return[[fe[0],fe[0],fe.at(-1),fe.at(-1)]];const ye=[];let je,[Ke,nt]=fe[0];for(je=1;je<fe.length-2;je++){const[Ut,dn]=fe[je],[Rt,zt]=fe[je+1],an=(Ut+Rt)/2,_n=(dn+zt)/2,gt=[Ke+2*(Ut-Ke)/3,nt+2*(dn-nt)/3],Ye=[an+2*(Ut-an)/3,_n+2*(dn-_n)/3];ye.push([[Ke,nt],gt,Ye,[an,_n]]),[Ke,nt]=[an,_n]}const[pt,ht]=fe[je],[We,wt]=fe[je+1],St=[Ke+2*(pt-Ke)/3,nt+2*(ht-nt)/3],Yt=[We+2*(pt-We)/3,wt+2*(ht-wt)/3];return ye.push([[Ke,nt],St,Yt,[We,wt]]),ye},or=function(){if(this.isEmpty()){Ue(this,ne,Zr).call(this);return}Ue(this,ne,ji).call(this);const{canvas:fe,ctx:ye}=this;ye.setTransform(1,0,0,1,0,0),ye.clearRect(0,0,fe.width,fe.height),Ue(this,ne,Zr).call(this);for(const je of this.bezierPath2D)ye.stroke(je)},Hi=function(fe){this.canvas.removeEventListener("pointerleave",V(this,ce)),this.canvas.removeEventListener("pointermove",V(this,be)),this.canvas.removeEventListener("pointerup",V(this,J)),this.canvas.addEventListener("pointerdown",V(this,re)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Y.noContextMenu)},10),Ue(this,ne,Oa).call(this,fe.offsetX,fe.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Kr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",O.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(fe=>{var ye;return(ye=this.canvas)==null?void 0:ye.setAttribute("aria-label",fe)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Yr=function(){at(this,ve,new ResizeObserver(fe=>{const ye=fe[0].contentRect;ye.width&&ye.height&&this.setDimensions(ye.width,ye.height)})),V(this,ve).observe(this.div)},yr=function(){if(!V(this,ie))return;const[fe,ye]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*fe),this.canvas.height=Math.ceil(this.height*ye),Ue(this,ne,Zr).call(this)},Vi=function(fe,ye){const je=Ue(this,ne,Jr).call(this),Ke=(fe-je)/V(this,U),nt=(ye-je)/V(this,le);this.scaleFactor=Math.min(Ke,nt)},Zr=function(){const fe=Ue(this,ne,Jr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+fe,this.translationY*this.scaleFactor+fe)},Ae=new WeakSet,za=function(fe){const ye=new Path2D;for(let je=0,Ke=fe.length;je<Ke;je++){const[nt,pt,ht,We]=fe[je];je===0&&ye.moveTo(...nt),ye.bezierCurveTo(pt[0],pt[1],ht[0],ht[1],We[0],We[1])}return ye},Wi=function(fe,ye,je){const[Ke,nt,pt,ht]=ye;switch(je){case 0:for(let We=0,wt=fe.length;We<wt;We+=2)fe[We]+=Ke,fe[We+1]=ht-fe[We+1];break;case 90:for(let We=0,wt=fe.length;We<wt;We+=2){const St=fe[We];fe[We]=fe[We+1]+Ke,fe[We+1]=St+nt}break;case 180:for(let We=0,wt=fe.length;We<wt;We+=2)fe[We]=pt-fe[We],fe[We+1]+=nt;break;case 270:for(let We=0,wt=fe.length;We<wt;We+=2){const St=fe[We];fe[We]=pt-fe[We+1],fe[We+1]=ht-St}break;default:throw new Error("Invalid rotation")}return fe},Ha=function(fe,ye,je){const[Ke,nt,pt,ht]=ye;switch(je){case 0:for(let We=0,wt=fe.length;We<wt;We+=2)fe[We]-=Ke,fe[We+1]=ht-fe[We+1];break;case 90:for(let We=0,wt=fe.length;We<wt;We+=2){const St=fe[We];fe[We]=fe[We+1]-nt,fe[We+1]=St-Ke}break;case 180:for(let We=0,wt=fe.length;We<wt;We+=2)fe[We]=pt-fe[We],fe[We+1]-=nt;break;case 270:for(let We=0,wt=fe.length;We<wt;We+=2){const St=fe[We];fe[We]=ht-fe[We+1],fe[We+1]=pt-St}break;default:throw new Error("Invalid rotation")}return fe},Va=function(fe,ye,je,Ke){var wt,St;const nt=[],pt=this.thickness/2,ht=fe*ye+pt,We=fe*je+pt;for(const Yt of this.paths){const Ut=[],dn=[];for(let Rt=0,zt=Yt.length;Rt<zt;Rt++){const[an,_n,gt,Ye]=Yt[Rt],Je=fe*an[0]+ht,Tt=fe*an[1]+We,It=fe*_n[0]+ht,Gt=fe*_n[1]+We,Te=fe*gt[0]+ht,ft=fe*gt[1]+We,Pt=fe*Ye[0]+ht,Dt=fe*Ye[1]+We;Rt===0&&(Ut.push(Je,Tt),dn.push(Je,Tt)),Ut.push(It,Gt,Te,ft,Pt,Dt),dn.push(It,Gt),Rt===zt-1&&dn.push(Pt,Dt)}nt.push({bezier:Ue(wt=mt,Ae,Wi).call(wt,Ut,Ke,this.rotation),points:Ue(St=mt,Ae,Wi).call(St,dn,Ke,this.rotation)})}return nt},Ui=function(){let fe=1/0,ye=-1/0,je=1/0,Ke=-1/0;for(const nt of this.paths)for(const[pt,ht,We,wt]of nt){const St=R.Util.bezierBoundingBox(...pt,...ht,...We,...wt);fe=Math.min(fe,St[0]),je=Math.min(je,St[1]),ye=Math.max(ye,St[2]),Ke=Math.max(Ke,St[3])}return[fe,je,ye,Ke]},Jr=function(){return V(this,q)?Math.ceil(this.thickness*this.parentScale):0},Sr=function(fe=!1){if(this.isEmpty())return;if(!V(this,q)){Ue(this,ne,or).call(this);return}const ye=Ue(this,ne,Ui).call(this),je=Ue(this,ne,Jr).call(this);at(this,U,Math.max(O.AnnotationEditor.MIN_SIZE,ye[2]-ye[0])),at(this,le,Math.max(O.AnnotationEditor.MIN_SIZE,ye[3]-ye[1]));const Ke=Math.ceil(je+V(this,U)*this.scaleFactor),nt=Math.ceil(je+V(this,le)*this.scaleFactor),[pt,ht]=this.parentDimensions;this.width=Ke/pt,this.height=nt/ht,this.setAspectRatio(Ke,nt);const We=this.translationX,wt=this.translationY;this.translationX=-ye[0],this.translationY=-ye[1],Ue(this,ne,yr).call(this),Ue(this,ne,or).call(this),at(this,de,Ke),at(this,te,nt),this.setDims(Ke,nt);const St=fe?je/this.scaleFactor/2:0;this.translate(We-this.translationX-St,wt-this.translationY-St)},it(mt,Ae),Tn(mt,"_defaultColor",null),Tn(mt,"_defaultOpacity",1),Tn(mt,"_defaultThickness",1),Tn(mt,"_type","ink");let ue=mt;$.InkEditor=ue},(A,$,H)=>{var ue,le,U,be,ce,J,re,Q,q,ee,ie,Tr,Rr,Qr,Gi,Wa,Ua,qi,ei,Ga;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var R=H(1),O=H(4),B=H(6),Y=H(29);const ge=class ge extends O.AnnotationEditor{constructor(xe){super({...xe,name:"stampEditor"});it(this,ie);it(this,ue,null);it(this,le,null);it(this,U,null);it(this,be,null);it(this,ce,null);it(this,J,null);it(this,re,null);it(this,Q,null);it(this,q,!1);it(this,ee,!1);at(this,be,xe.bitmapUrl),at(this,ce,xe.bitmapFile)}static initialize(xe){O.AnnotationEditor.initialize(xe)}static get supportedTypes(){const xe=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,R.shadow)(this,"supportedTypes",xe.map(Ne=>`image/${Ne}`))}static get supportedTypesStr(){return(0,R.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(xe){return this.supportedTypes.includes(xe)}static paste(xe,Ne){Ne.pasteEditor(R.AnnotationEditorType.STAMP,{bitmapFile:xe.getAsFile()})}remove(){var xe,Ne;V(this,le)&&(at(this,ue,null),this._uiManager.imageManager.deleteId(V(this,le)),(xe=V(this,J))==null||xe.remove(),at(this,J,null),(Ne=V(this,re))==null||Ne.disconnect(),at(this,re,null)),super.remove()}rebuild(){if(!this.parent){V(this,le)&&Ue(this,ie,Qr).call(this);return}super.rebuild(),this.div!==null&&(V(this,le)&&Ue(this,ie,Qr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(V(this,U)||V(this,ue)||V(this,be)||V(this,ce))}get isResizable(){return!0}render(){if(this.div)return this.div;let xe,Ne;if(this.width&&(xe=this.x,Ne=this.y),super.render(),this.div.hidden=!0,V(this,ue)?Ue(this,ie,Gi).call(this):Ue(this,ie,Qr).call(this),this.width){const[Fe,qe]=this.parentDimensions;this.setAt(xe*Fe,Ne*qe,this.width*Fe,this.height*qe)}return this.div}static deserialize(xe,Ne,Fe){if(xe instanceof Y.StampAnnotationElement)return null;const qe=super.deserialize(xe,Ne,Fe),{rect:Se,bitmapUrl:$e,bitmapId:He,isSvg:_e,accessibilityData:G}=xe;He&&Fe.imageManager.isValidId(He)?at(qe,le,He):at(qe,be,$e),at(qe,q,_e);const[X,pe]=qe.pageDimensions;return qe.width=(Se[2]-Se[0])/X,qe.height=(Se[3]-Se[1])/pe,G&&(qe.altTextData=G),qe}serialize(xe=!1,Ne=null){if(this.isEmpty())return null;const Fe={annotationType:R.AnnotationEditorType.STAMP,bitmapId:V(this,le),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:V(this,q),structTreeParentId:this._structTreeParentId};if(xe)return Fe.bitmapUrl=Ue(this,ie,ei).call(this,!0),Fe.accessibilityData=this.altTextData,Fe;const{decorative:qe,altText:Se}=this.altTextData;if(!qe&&Se&&(Fe.accessibilityData={type:"Figure",alt:Se}),Ne===null)return Fe;Ne.stamps||(Ne.stamps=new Map);const $e=V(this,q)?(Fe.rect[2]-Fe.rect[0])*(Fe.rect[3]-Fe.rect[1]):null;if(!Ne.stamps.has(V(this,le)))Ne.stamps.set(V(this,le),{area:$e,serialized:Fe}),Fe.bitmap=Ue(this,ie,ei).call(this,!1);else if(V(this,q)){const He=Ne.stamps.get(V(this,le));$e>He.area&&(He.area=$e,He.serialized.bitmap.close(),He.serialized.bitmap=Ue(this,ie,ei).call(this,!1))}return Fe}};ue=new WeakMap,le=new WeakMap,U=new WeakMap,be=new WeakMap,ce=new WeakMap,J=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,ee=new WeakMap,ie=new WeakSet,Tr=function(xe,Ne=!1){if(!xe){this.remove();return}at(this,ue,xe.bitmap),Ne||(at(this,le,xe.id),at(this,q,xe.isSvg)),Ue(this,ie,Gi).call(this)},Rr=function(){at(this,U,null),this._uiManager.enableWaiting(!1),V(this,J)&&this.div.focus()},Qr=function(){if(V(this,le)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(V(this,le)).then(Ne=>Ue(this,ie,Tr).call(this,Ne,!0)).finally(()=>Ue(this,ie,Rr).call(this));return}if(V(this,be)){const Ne=V(this,be);at(this,be,null),this._uiManager.enableWaiting(!0),at(this,U,this._uiManager.imageManager.getFromUrl(Ne).then(Fe=>Ue(this,ie,Tr).call(this,Fe)).finally(()=>Ue(this,ie,Rr).call(this)));return}if(V(this,ce)){const Ne=V(this,ce);at(this,ce,null),this._uiManager.enableWaiting(!0),at(this,U,this._uiManager.imageManager.getFromFile(Ne).then(Fe=>Ue(this,ie,Tr).call(this,Fe)).finally(()=>Ue(this,ie,Rr).call(this)));return}const xe=document.createElement("input");xe.type="file",xe.accept=ge.supportedTypesStr,at(this,U,new Promise(Ne=>{xe.addEventListener("change",async()=>{if(!xe.files||xe.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Fe=await this._uiManager.imageManager.getFromFile(xe.files[0]);Ue(this,ie,Tr).call(this,Fe)}Ne()}),xe.addEventListener("cancel",()=>{this.remove(),Ne()})}).finally(()=>Ue(this,ie,Rr).call(this))),xe.click()},Gi=function(){const{div:xe}=this;let{width:Ne,height:Fe}=V(this,ue);const[qe,Se]=this.pageDimensions,$e=.75;if(this.width)Ne=this.width*qe,Fe=this.height*Se;else if(Ne>$e*qe||Fe>$e*Se){const X=Math.min($e*qe/Ne,$e*Se/Fe);Ne*=X,Fe*=X}const[He,_e]=this.parentDimensions;this.setDims(Ne*He/qe,Fe*_e/Se),this._uiManager.enableWaiting(!1);const G=at(this,J,document.createElement("canvas"));xe.append(G),xe.hidden=!1,Ue(this,ie,qi).call(this,Ne,Fe),Ue(this,ie,Ga).call(this),V(this,ee)||(this.parent.addUndoableEditor(this),at(this,ee,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Wa=function(xe,Ne){var $e;const[Fe,qe]=this.parentDimensions;this.width=xe/Fe,this.height=Ne/qe,this.setDims(xe,Ne),($e=this._initialOptions)!=null&&$e.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,V(this,Q)!==null&&clearTimeout(V(this,Q)),at(this,Q,setTimeout(()=>{at(this,Q,null),Ue(this,ie,qi).call(this,xe,Ne)},200))},Ua=function(xe,Ne){const{width:Fe,height:qe}=V(this,ue);let Se=Fe,$e=qe,He=V(this,ue);for(;Se>2*xe||$e>2*Ne;){const _e=Se,G=$e;Se>2*xe&&(Se=Se>=16384?Math.floor(Se/2)-1:Math.ceil(Se/2)),$e>2*Ne&&($e=$e>=16384?Math.floor($e/2)-1:Math.ceil($e/2));const X=new OffscreenCanvas(Se,$e);X.getContext("2d").drawImage(He,0,0,_e,G,0,0,Se,$e),He=X.transferToImageBitmap()}return He},qi=function(xe,Ne){xe=Math.ceil(xe),Ne=Math.ceil(Ne);const Fe=V(this,J);if(!Fe||Fe.width===xe&&Fe.height===Ne)return;Fe.width=xe,Fe.height=Ne;const qe=V(this,q)?V(this,ue):Ue(this,ie,Ua).call(this,xe,Ne),Se=Fe.getContext("2d");Se.filter=this._uiManager.hcmFilter,Se.drawImage(qe,0,0,qe.width,qe.height,0,0,xe,Ne)},ei=function(xe){if(xe){if(V(this,q)){const qe=this._uiManager.imageManager.getSvgUrl(V(this,le));if(qe)return qe}const Ne=document.createElement("canvas");return{width:Ne.width,height:Ne.height}=V(this,ue),Ne.getContext("2d").drawImage(V(this,ue),0,0),Ne.toDataURL()}if(V(this,q)){const[Ne,Fe]=this.pageDimensions,qe=Math.round(this.width*Ne*B.PixelsPerInch.PDF_TO_CSS_UNITS),Se=Math.round(this.height*Fe*B.PixelsPerInch.PDF_TO_CSS_UNITS),$e=new OffscreenCanvas(qe,Se);return $e.getContext("2d").drawImage(V(this,ue),0,0,V(this,ue).width,V(this,ue).height,0,0,qe,Se),$e.transferToImageBitmap()}return structuredClone(V(this,ue))},Ga=function(){at(this,re,new ResizeObserver(xe=>{const Ne=xe[0].contentRect;Ne.width&&Ne.height&&Ue(this,ie,Wa).call(this,Ne.width,Ne.height)})),V(this,re).observe(this.div)},Tn(ge,"_type","stamp");let me=ge;$.StampEditor=me}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var $=__webpack_module_cache__[A];if($!==void 0)return $.exports;var H=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](H,H.exports,__w_pdfjs_require__),H.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return B.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Y.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return me.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(A,"DOMSVGFactory",{enumerable:!0,get:function(){return R.DOMSVGFactory}}),Object.defineProperty(A,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ue.GlobalWorkerOptions}}),Object.defineProperty(A,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return H.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return R.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return H.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return R.PixelsPerInch}}),Object.defineProperty(A,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return R.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return H.SVGGraphics}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return le.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return H.build}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return H.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return R.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return R.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return R.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return R.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return R.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return R.loadScript}}),Object.defineProperty(A,"noContextMenu",{enumerable:!0,get:function(){return R.noContextMenu}}),Object.defineProperty(A,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return O.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return R.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return O.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return H.version}});var $=__w_pdfjs_require__(1),H=__w_pdfjs_require__(2),R=__w_pdfjs_require__(6),O=__w_pdfjs_require__(26),B=__w_pdfjs_require__(27),Y=__w_pdfjs_require__(5),me=__w_pdfjs_require__(29),ue=__w_pdfjs_require__(14),le=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(A){var $=reactExports,H=pdfExports;function R(W){var he=Object.create(null);return W&&Object.keys(W).forEach(function(Re){if(Re!=="default"){var Le=Object.getOwnPropertyDescriptor(W,Re);Object.defineProperty(he,Re,Le.get?Le:{enumerable:!0,get:function(){return W[Re]}})}}),he.default=W,Object.freeze(he)}var O,B=R($),Y=R(H);A.AnnotationType=void 0,(O=A.AnnotationType||(A.AnnotationType={}))[O.Text=1]="Text",O[O.Link=2]="Link",O[O.FreeText=3]="FreeText",O[O.Line=4]="Line",O[O.Square=5]="Square",O[O.Circle=6]="Circle",O[O.Polygon=7]="Polygon",O[O.Polyline=8]="Polyline",O[O.Highlight=9]="Highlight",O[O.Underline=10]="Underline",O[O.Squiggly=11]="Squiggly",O[O.StrikeOut=12]="StrikeOut",O[O.Stamp=13]="Stamp",O[O.Caret=14]="Caret",O[O.Ink=15]="Ink",O[O.Popup=16]="Popup",O[O.FileAttachment=17]="FileAttachment";var me=function(W,he){return me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Re,Le){Re.__proto__=Le}||function(Re,Le){for(var Be in Le)Object.prototype.hasOwnProperty.call(Le,Be)&&(Re[Be]=Le[Be])},me(W,he)};function ue(W,he){if(typeof he!="function"&&he!==null)throw new TypeError("Class extends value "+String(he)+" is not a constructor or null");function Re(){this.constructor=W}me(W,he),W.prototype=he===null?Object.create(he):(Re.prototype=he.prototype,new Re)}var le,U=function(){return U=Object.assign||function(W){for(var he,Re=1,Le=arguments.length;Re<Le;Re++)for(var Be in he=arguments[Re])Object.prototype.hasOwnProperty.call(he,Be)&&(W[Be]=he[Be]);return W},U.apply(this,arguments)};A.TextDirection=void 0,(le=A.TextDirection||(A.TextDirection={})).RightToLeft="RTL",le.LeftToRight="LTR";var be,ce=B.createContext({currentTheme:"light",direction:A.TextDirection.LeftToRight,setCurrentTheme:function(){}}),J=function(W){var he=[];return Object.keys(W).forEach(function(Re){Re&&W[Re]&&he.push(Re)}),he.join(" ")},re=typeof window<"u"?B.useLayoutEffect:B.useEffect,Q=function(W){var he=B.useRef(null),Re=W.once,Le=W.threshold,Be=W.onVisibilityChanged;return re(function(){var Ve=he.current;if(Ve){var rt=new IntersectionObserver(function(Ze){Ze.forEach(function(Ie){var tt=Ie.isIntersecting,et=Ie.intersectionRatio;Be({isVisible:tt,ratio:et}),tt&&Re&&(rt.unobserve(Ve),rt.disconnect())})},{threshold:Le||0});return rt.observe(Ve),function(){rt.unobserve(Ve),rt.disconnect()}}},[]),he},q=function(W){var he=W.children,Re=W.ignoreDirection,Le=Re!==void 0&&Re,Be=W.size,Ve=Be===void 0?24:Be,rt=B.useContext(ce).direction,Ze=!Le&&rt===A.TextDirection.RightToLeft,Ie="".concat(Ve||24,"px");return B.createElement("svg",{"aria-hidden":"true",className:J({"rpv-core__icon":!0,"rpv-core__icon--rtl":Ze}),focusable:"false",height:Ie,viewBox:"0 0 24 24",width:Ie},he)},ee=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},ie=function(W){var he=W.children,Re=W.testId,Le=W.onClick,Be=B.useContext(ce).direction===A.TextDirection.RightToLeft,Ve=Re?{"data-testid":Re}:{};return B.createElement("button",U({className:J({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Be}),type:"button",onClick:Le},Ve),he)},ve=function(W){var he=W.size,Re=he===void 0?"4rem":he,Le=W.testId,Be=B.useState(!1),Ve=Be[0],rt=Be[1],Ze=Le?{"data-testid":Le}:{},Ie=Q({onVisibilityChanged:function(tt){rt(tt.isVisible)}});return B.createElement("div",U({},Ze,{className:J({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Ve}),ref:Ie,style:{height:Re,width:Re}}))},de=function(W){var he=W.ariaLabel,Re=he===void 0?"":he,Le=W.autoFocus,Be=Le!==void 0&&Le,Ve=W.placeholder,rt=Ve===void 0?"":Ve,Ze=W.testId,Ie=W.type,tt=Ie===void 0?"text":Ie,et=W.value,Et=et===void 0?"":et,_t=W.onChange,bt=W.onKeyDown,xt=bt===void 0?function(){}:bt,kt=B.useContext(ce).direction,Ct=B.useRef(),pn=kt===A.TextDirection.RightToLeft,Kt={ref:Ct,"data-testid":"","aria-label":Re,className:J({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":pn}),placeholder:rt,value:Et,onChange:function(Jt){return _t(Jt.target.value)},onKeyDown:xt};return Ze&&(Kt["data-testid"]=Ze),re(function(){if(Be){var Jt=Ct.current;if(Jt){var rn=window.scrollX,Ht=window.scrollY;Jt.focus(),window.scrollTo(rn,Ht)}}},[]),tt==="text"?B.createElement("input",U({type:"text"},Kt)):B.createElement("input",U({type:"password"},Kt))};(function(W){W[W.ExitFullScreen=0]="ExitFullScreen",W[W.FullScreenChange=1]="FullScreenChange",W[W.FullScreenElement=2]="FullScreenElement",W[W.FullScreenEnabled=3]="FullScreenEnabled",W[W.RequestFullScreen=4]="RequestFullScreen"})(be||(be={}));var te,se={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},ne={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},ae={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},oe=typeof window<"u",Ee=oe&&(be.FullScreenEnabled in document&&se||ne.FullScreenEnabled in document&&ne||ae.FullScreenEnabled in document&&ae)||se,K=function(){return oe&&Ee.FullScreenEnabled in document&&document[Ee.FullScreenEnabled]===!0},ge=function(W){return oe?W[Ee.ExitFullScreen]():Promise.resolve({})},Ce=function(){return oe?document[Ee.FullScreenElement]:null},De=function(W,he){var Re=B.useRef(),Le=function(){Re.current&&clearTimeout(Re.current)};return B.useEffect(function(){return function(){return Le()}},[]),B.useCallback(function(){for(var Be=[],Ve=0;Ve<arguments.length;Ve++)Be[Ve]=arguments[Ve];Le(),Re.current=setTimeout(function(){W.apply(void 0,Be)},he)},[W,he])},xe=function(){var W=B.useRef(!1);return B.useEffect(function(){return W.current=!0,function(){W.current=!1}},[]),W},Ne=function(W){var he=B.useRef(W);return B.useEffect(function(){he.current=W},[W]),he.current};(function(W){W.NotRenderedYet="NotRenderedYet",W.Rendering="Rendering",W.Rendered="Rendered"})(te||(te={}));var Fe,qe=-9999,Se=function(W){var he=W.doc,Re=he.numPages,Le=he.loadingTask.docId,Be=B.useMemo(function(){return Array(Re).fill(null).map(function(Ze,Ie){return{pageIndex:Ie,renderStatus:te.NotRenderedYet,visibility:qe}})},[Le]),Ve=B.useRef({currentRenderingPage:-1,startRange:0,endRange:Re-1,visibilities:Be}),rt=function(Ze,Ie){Ve.current.visibilities[Ze].visibility=Ie};return{getHighestPriorityPage:function(){var Ze=Ve.current.visibilities.slice(Ve.current.startRange,Ve.current.endRange+1).filter(function(_t){return _t.visibility>qe});if(!Ze.length)return-1;for(var Ie=Ze[0].pageIndex,tt=Ze[Ze.length-1].pageIndex,et=Ze.length,Et=0;Et<et;Et++){if(Ze[Et].renderStatus===te.Rendering)return-1;if(Ze[Et].renderStatus===te.NotRenderedYet)return Ze[Et].pageIndex}return tt+1<Re&&Ve.current.visibilities[tt+1].renderStatus!==te.Rendered?tt+1:Ie-1>=0&&Ve.current.visibilities[Ie-1].renderStatus!==te.Rendered?Ie-1:-1},isInRange:function(Ze){return Ze>=Ve.current.startRange&&Ze<=Ve.current.endRange},markNotRendered:function(){for(var Ze=0;Ze<Re;Ze++)Ve.current.visibilities[Ze].renderStatus=te.NotRenderedYet},markRendered:function(Ze){Ve.current.visibilities[Ze].renderStatus=te.Rendered},markRendering:function(Ze){Ve.current.currentRenderingPage!==-1&&Ve.current.currentRenderingPage!==Ze&&Ve.current.visibilities[Ve.current.currentRenderingPage].renderStatus===te.Rendering&&(Ve.current.visibilities[Ve.current.currentRenderingPage].renderStatus=te.NotRenderedYet),Ve.current.visibilities[Ze].renderStatus=te.Rendering,Ve.current.currentRenderingPage=Ze},setOutOfRange:function(Ze){rt(Ze,qe)},setRange:function(Ze,Ie){Ve.current.startRange=Ze,Ve.current.endRange=Ie;for(var tt=0;tt<Re;tt++)(tt<Ze||tt>Ie)&&(Ve.current.visibilities[tt].visibility=qe,Ve.current.visibilities[tt].renderStatus=te.NotRenderedYet)},setVisibility:rt}},$e={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},He=B.createContext({l10n:$e,setL10n:function(){}}),_e=0,G=function(){return _e++},X=function(W,he,Re){var Le=function(Be){var Ve=he.current;if(Ve){var rt=Be.target;if(rt instanceof Element&&rt.shadowRoot){var Ze=Be.composedPath();Ze.length>0&&!Ve.contains(Ze[0])&&Re()}else Ve.contains(rt)||Re()}};B.useEffect(function(){if(W){var Be={capture:!0};return document.addEventListener("click",Le,Be),function(){document.removeEventListener("click",Le,Be)}}},[])},pe=function(W){var he=function(Re){Re.key==="Escape"&&W()};B.useEffect(function(){return document.addEventListener("keyup",he),function(){document.removeEventListener("keyup",he)}},[])},Pe=function(W){var he=W.ariaControlsSuffix,Re=W.children,Le=W.closeOnClickOutside,Be=W.closeOnEscape,Ve=W.onToggle,rt=B.useRef(),Ze=B.useContext(ce).direction===A.TextDirection.RightToLeft;return B.useEffect(function(){var Ie=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Ie}},[]),pe(function(){rt.current&&Be&&Ve()}),X(Le,rt,Ve),re(function(){var Ie=rt.current;if(Ie){var tt=.75*document.body.clientHeight;Ie.getBoundingClientRect().height>=tt&&(Ie.style.overflow="auto",Ie.style.maxHeight="".concat(tt,"px"))}},[]),B.createElement("div",{"aria-modal":"true",className:J({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Ze}),id:"rpv-core__modal-body-".concat(he),ref:rt,role:"dialog",tabIndex:-1},Re)},Ae=function(W){var he=W.children;return B.createElement("div",{className:"rpv-core__modal-overlay"},he)};A.ToggleStatus=void 0,(Fe=A.ToggleStatus||(A.ToggleStatus={})).Close="Close",Fe.Open="Open",Fe.Toggle="Toggle";var ke,Oe=function(W){var he=B.useState(W),Re=he[0],Le=he[1];return{opened:Re,toggle:function(Be){switch(Be){case A.ToggleStatus.Close:Le(!1);break;case A.ToggleStatus.Open:Le(!0);break;case A.ToggleStatus.Toggle:default:Le(function(Ve){return!Ve})}}}},Qe=function(W){var he=W.content,Re=W.isOpened,Le=Re!==void 0&&Re,Be=W.target,Ve=Oe(Le),rt=Ve.opened,Ze=Ve.toggle;return B.createElement(B.Fragment,null,Be&&Be(Ze,rt),rt&&he(Ze))};A.Position=void 0,(ke=A.Position||(A.Position={})).TopLeft="TOP_LEFT",ke.TopCenter="TOP_CENTER",ke.TopRight="TOP_RIGHT",ke.RightTop="RIGHT_TOP",ke.RightCenter="RIGHT_CENTER",ke.RightBottom="RIGHT_BOTTOM",ke.BottomLeft="BOTTOM_LEFT",ke.BottomCenter="BOTTOM_CENTER",ke.BottomRight="BOTTOM_RIGHT",ke.LeftTop="LEFT_TOP",ke.LeftCenter="LEFT_CENTER",ke.LeftBottom="LEFT_BOTTOM";var ot,st,ut,dt,mt,Ge,Xe,fe,ye=function(W,he,Re,Le,Be){re(function(){var Ve=he.current,rt=W.current,Ze=Re.current;if(rt&&Ve&&Ze){var Ie=Ze.getBoundingClientRect(),tt=function(_t,bt,xt,kt){var Ct=bt.getBoundingClientRect(),pn=_t.getBoundingClientRect(),Kt=pn.height,Jt=pn.width,rn=0,Ht=0;switch(xt){case A.Position.TopLeft:rn=Ct.top-Kt,Ht=Ct.left;break;case A.Position.TopCenter:rn=Ct.top-Kt,Ht=Ct.left+Ct.width/2-Jt/2;break;case A.Position.TopRight:rn=Ct.top-Kt,Ht=Ct.left+Ct.width-Jt;break;case A.Position.RightTop:rn=Ct.top,Ht=Ct.left+Ct.width;break;case A.Position.RightCenter:rn=Ct.top+Ct.height/2-Kt/2,Ht=Ct.left+Ct.width;break;case A.Position.RightBottom:rn=Ct.top+Ct.height-Kt,Ht=Ct.left+Ct.width;break;case A.Position.BottomLeft:rn=Ct.top+Ct.height,Ht=Ct.left;break;case A.Position.BottomCenter:rn=Ct.top+Ct.height,Ht=Ct.left+Ct.width/2-Jt/2;break;case A.Position.BottomRight:rn=Ct.top+Ct.height,Ht=Ct.left+Ct.width-Jt;break;case A.Position.LeftTop:rn=Ct.top,Ht=Ct.left-Jt;break;case A.Position.LeftCenter:rn=Ct.top+Ct.height/2-Kt/2,Ht=Ct.left-Jt;break;case A.Position.LeftBottom:rn=Ct.top+Ct.height-Kt,Ht=Ct.left-Jt}return{left:Ht+(kt.left||0),top:rn+(kt.top||0)}}(rt,Ve,Le,Be),et=tt.top,Et=tt.left;rt.style.top="".concat(et-Ie.top,"px"),rt.style.left="".concat(Et-Ie.left,"px")}},[])},je=function(W){var he,Re=W.customClassName,Le=W.position;return B.createElement("div",{className:J((he={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Le===A.Position.TopLeft,"rpv-core__arrow--tc":Le===A.Position.TopCenter,"rpv-core__arrow--tr":Le===A.Position.TopRight,"rpv-core__arrow--rt":Le===A.Position.RightTop,"rpv-core__arrow--rc":Le===A.Position.RightCenter,"rpv-core__arrow--rb":Le===A.Position.RightBottom,"rpv-core__arrow--bl":Le===A.Position.BottomLeft,"rpv-core__arrow--bc":Le===A.Position.BottomCenter,"rpv-core__arrow--br":Le===A.Position.BottomRight,"rpv-core__arrow--lt":Le===A.Position.LeftTop,"rpv-core__arrow--lc":Le===A.Position.LeftCenter,"rpv-core__arrow--lb":Le===A.Position.LeftBottom},he["".concat(Re)]=Re!=="",he))})},Ke=function(W){var he=W.ariaControlsSuffix,Re=W.children,Le=W.closeOnClickOutside,Be=W.offset,Ve=W.position,rt=W.targetRef,Ze=W.onClose,Ie=B.useRef(),tt=B.useRef(),et=B.useRef(),Et=B.useContext(ce).direction===A.TextDirection.RightToLeft;X(Le,Ie,Ze),ye(Ie,rt,et,Ve,Be),re(function(){var bt=tt.current;if(bt){var xt=.75*document.body.clientHeight;bt.getBoundingClientRect().height>=xt&&(bt.style.overflow="auto",bt.style.maxHeight="".concat(xt,"px"))}},[]);var _t="rpv-core__popover-body-inner-".concat(he);return B.createElement(B.Fragment,null,B.createElement("div",{ref:et,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{"aria-describedby":_t,className:J({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Et}),id:"rpv-core__popover-body-".concat(he),ref:Ie,role:"dialog",tabIndex:-1},B.createElement(je,{customClassName:"rpv-core__popover-body-arrow",position:Ve}),B.createElement("div",{id:_t,ref:tt},Re)))},nt=function(W){var he=W.closeOnEscape,Re=W.onClose,Le=B.useRef();return pe(function(){Le.current&&he&&Re()}),B.createElement("div",{className:"rpv-core__popover-overlay",ref:Le})},pt=function(W){var he=W.ariaControlsSuffix,Re=W.children,Le=W.contentRef,Be=W.offset,Ve=W.position,rt=W.targetRef,Ze=B.useRef(),Ie=B.useContext(ce).direction===A.TextDirection.RightToLeft;return ye(Le,rt,Ze,Ve,Be),B.createElement(B.Fragment,null,B.createElement("div",{ref:Ze,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{className:J({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Ie}),id:"rpv-core__tooltip-body-".concat(he),ref:Le,role:"tooltip"},B.createElement(je,{customClassName:"rpv-core__tooltip-body-arrow",position:Ve}),B.createElement("div",{className:"rpv-core__tooltip-body-content"},Re)))};A.FullScreenMode=void 0,(ot=A.FullScreenMode||(A.FullScreenMode={})).Normal="Normal",ot.Entering="Entering",ot.Entered="Entered",ot.EnteredCompletely="EnteredCompletely",ot.Exitting="Exitting",ot.Exited="Exited",A.LayerRenderStatus=void 0,(st=A.LayerRenderStatus||(A.LayerRenderStatus={}))[st.PreRender=0]="PreRender",st[st.DidRender=1]="DidRender",A.PageMode=void 0,(ut=A.PageMode||(A.PageMode={})).Attachments="UseAttachments",ut.Bookmarks="UseOutlines",ut.ContentGroup="UseOC",ut.Default="UserNone",ut.FullScreen="FullScreen",ut.Thumbnails="UseThumbs",A.PasswordStatus=void 0,(dt=A.PasswordStatus||(A.PasswordStatus={})).RequiredPassword="RequiredPassword",dt.WrongPassword="WrongPassword",A.RotateDirection=void 0,(mt=A.RotateDirection||(A.RotateDirection={})).Backward="Backward",mt.Forward="Forward",A.ScrollMode=void 0,(Ge=A.ScrollMode||(A.ScrollMode={})).Page="Page",Ge.Horizontal="Horizontal",Ge.Vertical="Vertical",Ge.Wrapped="Wrapped",A.SpecialZoomLevel=void 0,(Xe=A.SpecialZoomLevel||(A.SpecialZoomLevel={})).ActualSize="ActualSize",Xe.PageFit="PageFit",Xe.PageWidth="PageWidth",A.ViewMode=void 0,(fe=A.ViewMode||(A.ViewMode={})).DualPage="DualPage",fe.DualPageWithCover="DualPageWithCover",fe.SinglePage="SinglePage";var ht,We=function(W,he){return W.reduce(function(Re,Le,Be){return Be%he?Re[Re.length-1].push(Le):Re.push([Le]),Re},[])},wt=function(W,he){switch(he[1].name){case"XYZ":return{bottomOffset:function(Re,Le){return he[3]===null?Le:he[3]},leftOffset:function(Re,Le){return he[2]===null?0:he[2]},pageIndex:W,scaleTo:he[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:W,scaleTo:A.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:he[2],leftOffset:0,pageIndex:W,scaleTo:A.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:W,scaleTo:1}}},St=new Map,Yt=new Map,Ut=function(W,he){return"".concat(W.loadingTask.docId,"___").concat(he.num,"R").concat(he.gen===0?"":he.gen)},dn=function(W,he,Re){St.set(Ut(W,he),Re)},Rt=function(W,he){if(!W)return Promise.reject("The document is not loaded yet");var Re="".concat(W.loadingTask.docId,"___").concat(he),Le=Yt.get(Re);return Le?Promise.resolve(Le):new Promise(function(Be,Ve){W.getPage(he+1).then(function(rt){Yt.set(Re,rt),rt.ref&&dn(W,rt.ref,he),Be(rt)})})},zt=function(W,he){return new Promise(function(Re){new Promise(function(Le){typeof he=="string"?W.getDestination(he).then(function(Be){Le(Be)}):Le(he)}).then(function(Le){if(typeof Le[0]=="object"&&Le[0]!==null){var Be=Le[0],Ve=function(Ze,Ie){var tt=Ut(Ze,Ie);return St.has(tt)?St.get(tt):null}(W,Be);Ve===null?W.getPageIndex(Be).then(function(Ze){dn(W,Be,Ze),zt(W,he).then(function(Ie){return Re(Ie)})}):Re(wt(Ve,Le))}else{var rt=wt(Le[0],Le);Re(rt)}})})};(function(W){W[W.Solid=1]="Solid",W[W.Dashed=2]="Dashed",W[W.Beveled=3]="Beveled",W[W.Inset=4]="Inset",W[W.Underline=5]="Underline"})(ht||(ht={}));var an,_n=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),gt=function(W,he,Re,Le){var Be=parseInt(W,10);return Be>=he&&Be<=Re?Be:Le},Ye=function(W){return W.contentsObj?W.contentsObj.str:W.contents||""},Je=function(W){return W.titleObj?W.titleObj.str:W.title||""},Tt=function(W){var he=W.annotation,Re=B.useContext(ce).direction,Le=Je(he),Be=Ye(he),Ve=Re===A.TextDirection.RightToLeft,rt=B.useRef(),Ze="";if(he.modificationDate){var Ie=function(tt){var et=_n.exec(tt);if(!et)return null;var Et=parseInt(et[1],10),_t=gt(et[2],1,12,1)-1,bt=gt(et[3],1,31,1),xt=gt(et[4],0,23,0),kt=gt(et[5],0,59,0),Ct=gt(et[6],0,59,0),pn=et[7]||"Z",Kt=gt(et[8],0,23,0),Jt=gt(et[9],0,59,0);switch(pn){case"-":xt+=Kt,kt+=Jt;break;case"+":xt-=Kt,kt-=Jt}return new Date(Date.UTC(Et,_t,bt,xt,kt,Ct))}(he.modificationDate);Ze=Ie?"".concat(Ie.toLocaleDateString(),", ").concat(Ie.toLocaleTimeString()):""}return B.useLayoutEffect(function(){if(rt.current){var tt=document.querySelector('[data-annotation-id="'.concat(he.id,'"]'));if(tt){var et=tt;return et.style.zIndex+=1,function(){et.style.zIndex="".concat(parseInt(et.style.zIndex,10)-1)}}}},[]),B.createElement("div",{ref:rt,className:J({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Ve}),style:{top:he.annotationType===A.AnnotationType.Popup?"":"100%"}},Le&&B.createElement(B.Fragment,null,B.createElement("div",{className:J({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Ve,"rpv-core__annotation-popup-title--rtl":Ve})},Le),B.createElement("div",{className:"rpv-core__annotation-popup-date"},Ze)),Be&&B.createElement("div",{className:"rpv-core__annotation-popup-content"},Be.split(`
`).map(function(tt,et){return B.createElement(B.Fragment,{key:et},tt,B.createElement("br",null))})))};(function(W){W.Click="Click",W.Hover="Hover"})(an||(an={}));var It,Gt=function(W){var he,Re=W.annotation,Le=W.children,Be=W.ignoreBorder,Ve=W.hasPopup,rt=W.isRenderable,Ze=W.page,Ie=W.viewport,tt=Re.rect,et=function(){var en=Oe(!1),yn=en.opened,En=en.toggle,Sn=B.useState(an.Hover),wn=Sn[0],Pn=Sn[1];return{opened:yn,closeOnHover:function(){wn===an.Hover&&En(A.ToggleStatus.Close)},openOnHover:function(){wn===an.Hover&&En(A.ToggleStatus.Open)},toggleOnClick:function(){switch(wn){case an.Click:yn&&Pn(an.Hover),En(A.ToggleStatus.Toggle);break;case an.Hover:Pn(an.Click),En(A.ToggleStatus.Open)}}}}(),Et=et.closeOnHover,_t=et.opened,bt=et.openOnHover,xt=et.toggleOnClick,kt=(he=[tt[0],Ze.view[3]+Ze.view[1]-tt[1],tt[2],Ze.view[3]+Ze.view[1]-tt[3]],[Math.min(he[0],he[2]),Math.min(he[1],he[3]),Math.max(he[0],he[2]),Math.max(he[1],he[3])]),Ct=tt[2]-tt[0],pn=tt[3]-tt[1],Kt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Be&&Re.borderStyle.width>0){switch(Re.borderStyle.style){case ht.Dashed:Kt.borderStyle="dashed";break;case ht.Solid:Kt.borderStyle="solid";break;case ht.Underline:Kt=Object.assign({borderBottomStyle:"solid"},Kt);case ht.Beveled:case ht.Inset:}var Jt=Re.borderStyle.width;Kt.borderWidth="".concat(Jt,"px"),Re.borderStyle.style!==ht.Underline&&(Ct-=2*Jt,pn-=2*Jt);var rn=Re.borderStyle,Ht=rn.horizontalCornerRadius,on=rn.verticalCornerRadius;(Ht>0||on>0)&&(Kt.borderRadius="".concat(Ht,"px / ").concat(on,"px")),Re.color?Kt.borderColor="rgb(".concat(0|Re.color[0],", ").concat(0|Re.color[1],", ").concat(0|Re.color[2],")"):Kt.borderWidth="0"}return B.createElement(B.Fragment,null,rt&&Le({popup:{opened:_t,closeOnHover:Et,openOnHover:bt,toggleOnClick:xt},slot:{attrs:{style:Object.assign({height:"".concat(pn,"px"),left:"".concat(kt[0],"px"),top:"".concat(kt[1],"px"),transform:"matrix(".concat(Ie.transform.join(","),")"),transformOrigin:"-".concat(kt[0],"px -").concat(kt[1],"px"),width:"".concat(Ct,"px")},Kt)},children:B.createElement(B.Fragment,null,Ve&&_t&&B.createElement(Tt,{annotation:Re}))}}))},Te=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=he.hasPopup===!1,Ve=Je(he),rt=Ye(he),Ze=!!(he.hasPopup||Ve||rt);return B.createElement(Gt,{annotation:he,hasPopup:Be,ignoreBorder:!0,isRenderable:Ze,page:Re,viewport:Le},function(Ie){return B.createElement("div",U({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":he.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},ft=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=he.hasPopup===!1,Ve=Je(he),rt=Ye(he),Ze=!!(he.hasPopup||Ve||rt),Ie=he.rect,tt=Ie[2]-Ie[0],et=Ie[3]-Ie[1],Et=he.borderStyle.width;return B.createElement(Gt,{annotation:he,hasPopup:Be,ignoreBorder:!0,isRenderable:Ze,page:Re,viewport:Le},function(_t){return B.createElement("div",U({},_t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":he.id,onClick:_t.popup.toggleOnClick,onMouseEnter:_t.popup.openOnHover,onMouseLeave:_t.popup.closeOnHover}),B.createElement("svg",{height:"".concat(et,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(tt," ").concat(et),width:"".concat(tt,"px")},B.createElement("circle",{cy:et/2,fill:"none",rx:tt/2-Et/2,ry:et/2-Et/2,stroke:"transparent",strokeWidth:Et||1})),_t.slot.children)})},Pt=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=Je(he),Ve=Ye(he),rt=!(he.hasPopup!==!1||!Be&&!Ve),Ze=function(){var Ie,tt,et,Et,_t=he.file;_t&&(Ie=_t.filename,tt=_t.content,et=typeof tt=="string"?"":URL.createObjectURL(new Blob([tt],{type:""})),(Et=document.createElement("a")).style.display="none",Et.href=et||Ie,Et.setAttribute("download",function(bt){var xt=bt.split("/").pop();return xt?xt.split("#")[0].split("?")[0]:bt}(Ie)),document.body.appendChild(Et),Et.click(),document.body.removeChild(Et),et&&URL.revokeObjectURL(et))};return B.createElement(Gt,{annotation:he,hasPopup:rt,ignoreBorder:!0,isRenderable:!0,page:Re,viewport:Le},function(Ie){return B.createElement("div",U({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":he.id,onClick:Ie.popup.toggleOnClick,onDoubleClick:Ze,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Dt=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=he.hasPopup===!1,Ve=Je(he),rt=Ye(he),Ze=!!(he.hasPopup||Ve||rt);return B.createElement(Gt,{annotation:he,hasPopup:Be,ignoreBorder:!0,isRenderable:Ze,page:Re,viewport:Le},function(Ie){return B.createElement("div",U({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":he.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Bt=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=Je(he),Ve=Ye(he),rt=!(!Be&&!Ve),Ze=!he.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(he.parentType)!==-1;return re(function(){if(he.parentId){var Ie=document.querySelector('[data-annotation-id="'.concat(he.parentId,'"]')),tt=document.querySelector('[data-annotation-id="'.concat(he.id,'"]'));if(Ie&&tt){var et=parseFloat(Ie.style.left),Et=parseFloat(Ie.style.top)+parseFloat(Ie.style.height);tt.style.left="".concat(et,"px"),tt.style.top="".concat(Et,"px"),tt.style.transformOrigin="-".concat(et,"px -").concat(Et,"px")}}},[]),B.createElement(Gt,{annotation:he,hasPopup:Ze,ignoreBorder:!1,isRenderable:rt,page:Re,viewport:Le},function(Ie){return B.createElement("div",U({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":he.id}),B.createElement(Tt,{annotation:he}))})},$t=function(W){var he=W.annotation,Re=W.childAnnotation,Le=W.page,Be=W.viewport,Ve=he.hasPopup===!1,rt=Je(he),Ze=Ye(he),Ie=!!(he.hasPopup||rt||Ze);if(he.quadPoints&&he.quadPoints.length>0){var tt=he.quadPoints.map(function(et){return Object.assign({},he,{rect:[et[2].x,et[2].y,et[1].x,et[1].y],quadPoints:[]})});return B.createElement(B.Fragment,null,tt.map(function(et,Et){return B.createElement($t,{key:Et,annotation:et,childAnnotation:Re,page:Le,viewport:Be})}))}return B.createElement(Gt,{annotation:he,hasPopup:Ve,ignoreBorder:!0,isRenderable:Ie,page:Le,viewport:Be},function(et){return B.createElement(B.Fragment,null,B.createElement("div",U({},et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":he.id,onClick:et.popup.toggleOnClick,onMouseEnter:et.popup.openOnHover,onMouseLeave:et.popup.closeOnHover}),et.slot.children),Re&&Re.annotationType===A.AnnotationType.Popup&&et.popup.opened&&B.createElement(Bt,{annotation:Re,page:Le,viewport:Be}))})},Me=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=he.hasPopup===!1,Ve=Je(he),rt=Ye(he),Ze=!!(he.hasPopup||Ve||rt),Ie=he.rect,tt=Ie[2]-Ie[0],et=Ie[3]-Ie[1],Et=he.borderStyle.width;return B.createElement(Gt,{annotation:he,hasPopup:Be,ignoreBorder:!0,isRenderable:Ze,page:Re,viewport:Le},function(_t){return B.createElement("div",U({},_t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":he.id,onClick:_t.popup.toggleOnClick,onMouseEnter:_t.popup.openOnHover,onMouseLeave:_t.popup.closeOnHover}),he.inkLists&&he.inkLists.length&&B.createElement("svg",{height:"".concat(et,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(tt," ").concat(et),width:"".concat(tt,"px")},he.inkLists.map(function(bt,xt){return B.createElement("polyline",{key:xt,fill:"none",stroke:"transparent",strokeWidth:Et||1,points:bt.map(function(kt){return"".concat(kt.x-Ie[0],",").concat(Ie[3]-kt.y)}).join(" ")})})),_t.slot.children)})},we=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=he.hasPopup===!1,Ve=Je(he),rt=Ye(he),Ze=!!(he.hasPopup||Ve||rt),Ie=he.rect,tt=Ie[2]-Ie[0],et=Ie[3]-Ie[1],Et=he.borderStyle.width;return B.createElement(Gt,{annotation:he,hasPopup:Be,ignoreBorder:!0,isRenderable:Ze,page:Re,viewport:Le},function(_t){return B.createElement("div",U({},_t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":he.id,onClick:_t.popup.toggleOnClick,onMouseEnter:_t.popup.openOnHover,onMouseLeave:_t.popup.closeOnHover}),B.createElement("svg",{height:"".concat(et,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(tt," ").concat(et),width:"".concat(tt,"px")},B.createElement("line",{stroke:"transparent",strokeWidth:Et||1,x1:Ie[2]-he.lineCoordinates[0],x2:Ie[2]-he.lineCoordinates[2],y1:Ie[3]-he.lineCoordinates[1],y2:Ie[3]-he.lineCoordinates[3]})),_t.slot.children)})},ze=/^([^\w]*)(javascript|data|vbscript)/im,ct=/&#(\w+)(^\w|;)?/g,lt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,vt=/^([^:]+):/gm,yt=function(W,he){var Re,Le=(Re=W||"",Re.replace(ct,function(Ze,Ie){return String.fromCharCode(Ie)})).replace(lt,"").trim();if(!Le)return he;var Be=Le[0];if(Be==="."||Be==="/")return Le;var Ve=Le.match(vt);if(!Ve)return Le;var rt=Ve[0];return ze.test(rt)?he:Le},Ot=function(W){var he,Re=W.annotation,Le=W.annotationContainerRef,Be=W.doc,Ve=W.outlines,rt=W.page,Ze=W.pageIndex,Ie=W.scale,tt=W.viewport,et=W.onExecuteNamedAction,Et=W.onJumpFromLinkAnnotation,_t=W.onJumpToDest,bt=B.useRef(),xt=Ve&&Ve.length&&Re.dest&&typeof Re.dest=="string"?(he=Ve.find(function(Kt){return Kt.dest===Re.dest}))===null||he===void 0?void 0:he.title:"",kt=!!(Re.url||Re.dest||Re.action||Re.unsafeUrl),Ct={};if(Re.url||Re.unsafeUrl){var pn=yt(Re.url||Re.unsafeUrl,"");pn?Ct={"data-target":"external",href:pn,rel:"noopener noreferrer nofollow",target:Re.newWindow?"_blank":"",title:pn}:kt=!1}else Ct={href:"","data-annotation-link":Re.id,onClick:function(Kt){Kt.preventDefault(),Re.action?et(Re.action):zt(Be,Re.dest).then(function(Jt){var rn=bt.current,Ht=Le.current;if(rn&&Ht){var on=rn.getBoundingClientRect();Ht.style.setProperty("height","100%"),Ht.style.setProperty("width","100%");var en=Ht.getBoundingClientRect();Ht.style.removeProperty("height"),Ht.style.removeProperty("width");var yn=(on.left-en.left)/Ie,En=(en.bottom-on.bottom+on.height)/Ie;Et({bottomOffset:En,label:xt,leftOffset:yn,pageIndex:Ze})}_t(Jt)})}};return xt&&(Ct=Object.assign({},Ct,{title:xt,"aria-label":xt})),B.createElement(Gt,{annotation:Re,hasPopup:!1,ignoreBorder:!1,isRenderable:kt,page:rt,viewport:tt},function(Kt){return B.createElement("div",U({},Kt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Re.id,"data-testid":"core__annotation--link-".concat(Re.id)}),B.createElement("a",U({ref:bt},Ct)))})},Ft=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=he.hasPopup===!1,Ve=Je(he),rt=Ye(he),Ze=!!(he.hasPopup||Ve||rt),Ie=he.rect,tt=Ie[2]-Ie[0],et=Ie[3]-Ie[1],Et=he.borderStyle.width;return B.createElement(Gt,{annotation:he,hasPopup:Be,ignoreBorder:!0,isRenderable:Ze,page:Re,viewport:Le},function(_t){return B.createElement("div",U({},_t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":he.id,onClick:_t.popup.toggleOnClick,onMouseEnter:_t.popup.openOnHover,onMouseLeave:_t.popup.closeOnHover}),he.vertices&&he.vertices.length&&B.createElement("svg",{height:"".concat(et,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(tt," ").concat(et),width:"".concat(tt,"px")},B.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Et||1,points:he.vertices.map(function(bt){return"".concat(bt.x-Ie[0],",").concat(Ie[3]-bt.y)}).join(" ")})),_t.slot.children)})},Mt=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=he.hasPopup===!1,Ve=Je(he),rt=Ye(he),Ze=!!(he.hasPopup||Ve||rt),Ie=he.rect,tt=Ie[2]-Ie[0],et=Ie[3]-Ie[1],Et=he.borderStyle.width;return B.createElement(Gt,{annotation:he,hasPopup:Be,ignoreBorder:!0,isRenderable:Ze,page:Re,viewport:Le},function(_t){return B.createElement("div",U({},_t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":he.id,onClick:_t.popup.toggleOnClick,onMouseEnter:_t.popup.openOnHover,onMouseLeave:_t.popup.closeOnHover}),he.vertices&&he.vertices.length&&B.createElement("svg",{height:"".concat(et,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(tt," ").concat(et),width:"".concat(tt,"px")},B.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Et||1,points:he.vertices.map(function(bt){return"".concat(bt.x-Ie[0],",").concat(Ie[3]-bt.y)}).join(" ")})),_t.slot.children)})},nn=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=he.hasPopup===!1,Ve=Je(he),rt=Ye(he),Ze=!!(he.hasPopup||Ve||rt),Ie=he.rect,tt=Ie[2]-Ie[0],et=Ie[3]-Ie[1],Et=he.borderStyle.width;return B.createElement(Gt,{annotation:he,hasPopup:Be,ignoreBorder:!0,isRenderable:Ze,page:Re,viewport:Le},function(_t){return B.createElement("div",U({},_t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":he.id,onClick:_t.popup.toggleOnClick,onMouseEnter:_t.popup.openOnHover,onMouseLeave:_t.popup.closeOnHover}),B.createElement("svg",{height:"".concat(et,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(tt," ").concat(et),width:"".concat(tt,"px")},B.createElement("rect",{height:et-Et,fill:"none",stroke:"transparent",strokeWidth:Et||1,x:Et/2,y:Et/2,width:tt-Et})),_t.slot.children)})},Lt=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=he.hasPopup===!1,Ve=Je(he),rt=Ye(he),Ze=!!(he.hasPopup||Ve||rt);return B.createElement(Gt,{annotation:he,hasPopup:Be,ignoreBorder:!0,isRenderable:Ze,page:Re,viewport:Le},function(Ie){return B.createElement("div",U({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":he.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},jt=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=he.hasPopup===!1,Ve=Je(he),rt=Ye(he),Ze=!!(he.hasPopup||Ve||rt);return B.createElement(Gt,{annotation:he,hasPopup:Be,ignoreBorder:!0,isRenderable:Ze,page:Re,viewport:Le},function(Ie){return B.createElement("div",U({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":he.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Zt=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=he.hasPopup===!1,Ve=Je(he),rt=Ye(he),Ze=!!(he.hasPopup||Ve||rt);return B.createElement(Gt,{annotation:he,hasPopup:Be,ignoreBorder:!0,isRenderable:Ze,page:Re,viewport:Le},function(Ie){return B.createElement("div",U({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":he.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},cn=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),B.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),B.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),B.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},gn=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),B.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),B.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),B.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),B.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),B.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),B.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),B.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),B.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),B.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Cn=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),B.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Vn=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),B.createElement("path",{d:"M6 4.5L6 0.5"}),B.createElement("path",{d:"M18 4.5L18 0.5"}),B.createElement("path",{d:"M10 4.5L10 0.5"}),B.createElement("path",{d:"M14 4.5L14 0.5"}))},Dn=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),B.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),B.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},er=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},nr=function(W){var he=W.annotation,Re=W.childAnnotation,Le=W.page,Be=W.viewport,Ve=he.hasPopup===!1,rt=Je(he),Ze=Ye(he),Ie=!!(he.hasPopup||rt||Ze),tt=he.name?he.name.toLowerCase():"";return B.createElement(Gt,{annotation:he,hasPopup:Ve,ignoreBorder:!1,isRenderable:Ie,page:Le,viewport:Be},function(et){return B.createElement(B.Fragment,null,B.createElement("div",U({},et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":he.id,onClick:et.popup.toggleOnClick,onMouseEnter:et.popup.openOnHover,onMouseLeave:et.popup.closeOnHover}),tt&&B.createElement("div",{className:"rpv-core__annotation-text-icon"},tt==="check"&&B.createElement(ee,null),tt==="comment"&&B.createElement(cn,null),tt==="help"&&B.createElement(gn,null),tt==="insert"&&B.createElement(er,null),tt==="key"&&B.createElement(Cn,null),tt==="note"&&B.createElement(Vn,null),(tt==="newparagraph"||tt==="paragraph")&&B.createElement(Dn,null)),et.slot.children),Re&&Re.annotationType===A.AnnotationType.Popup&&et.popup.opened&&B.createElement(Bt,{annotation:Re,page:Le,viewport:Be}))})},rr=function(W){var he=W.annotation,Re=W.page,Le=W.viewport,Be=he.hasPopup===!1,Ve=Je(he),rt=Ye(he),Ze=!!(he.hasPopup||Ve||rt);return B.createElement(Gt,{annotation:he,hasPopup:Be,ignoreBorder:!0,isRenderable:Ze,page:Re,viewport:Le},function(Ie){return B.createElement("div",U({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":he.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Fr=function(W){var he=W.annotations,Re=W.doc,Le=W.outlines,Be=W.page,Ve=W.pageIndex,rt=W.plugins,Ze=W.rotation,Ie=W.scale,tt=W.onExecuteNamedAction,et=W.onJumpFromLinkAnnotation,Et=W.onJumpToDest,_t=B.useRef(),bt=Be.getViewport({rotation:Ze,scale:Ie}).clone({dontFlip:!0}),xt=he.filter(function(kt){return!kt.parentId});return re(function(){var kt=_t.current;kt&&rt.forEach(function(Ct){Ct.onAnnotationLayerRender&&Ct.onAnnotationLayerRender({annotations:xt,container:kt,pageIndex:Ve,rotation:Ze,scale:Ie})})},[]),B.createElement("div",{ref:_t,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Ve)},xt.map(function(kt){var Ct=he.find(function(pn){return pn.parentId===kt.id});switch(kt.annotationType){case A.AnnotationType.Caret:return B.createElement(Te,{key:kt.id,annotation:kt,page:Be,viewport:bt});case A.AnnotationType.Circle:return B.createElement(ft,{key:kt.id,annotation:kt,page:Be,viewport:bt});case A.AnnotationType.FileAttachment:return B.createElement(Pt,{key:kt.id,annotation:kt,page:Be,viewport:bt});case A.AnnotationType.FreeText:return B.createElement(Dt,{key:kt.id,annotation:kt,page:Be,viewport:bt});case A.AnnotationType.Highlight:return B.createElement($t,{key:kt.id,annotation:kt,childAnnotation:Ct,page:Be,viewport:bt});case A.AnnotationType.Ink:return B.createElement(Me,{key:kt.id,annotation:kt,page:Be,viewport:bt});case A.AnnotationType.Line:return B.createElement(we,{key:kt.id,annotation:kt,page:Be,viewport:bt});case A.AnnotationType.Link:return B.createElement(Ot,{key:kt.id,annotation:kt,annotationContainerRef:_t,doc:Re,outlines:Le,page:Be,pageIndex:Ve,scale:Ie,viewport:bt,onExecuteNamedAction:tt,onJumpFromLinkAnnotation:et,onJumpToDest:Et});case A.AnnotationType.Polygon:return B.createElement(Ft,{key:kt.id,annotation:kt,page:Be,viewport:bt});case A.AnnotationType.Polyline:return B.createElement(Mt,{key:kt.id,annotation:kt,page:Be,viewport:bt});case A.AnnotationType.Popup:return B.createElement(Bt,{key:kt.id,annotation:kt,page:Be,viewport:bt});case A.AnnotationType.Square:return B.createElement(nn,{key:kt.id,annotation:kt,page:Be,viewport:bt});case A.AnnotationType.Squiggly:return B.createElement(Lt,{key:kt.id,annotation:kt,page:Be,viewport:bt});case A.AnnotationType.Stamp:return B.createElement(jt,{key:kt.id,annotation:kt,page:Be,viewport:bt});case A.AnnotationType.StrikeOut:return B.createElement(Zt,{key:kt.id,annotation:kt,page:Be,viewport:bt});case A.AnnotationType.Text:return B.createElement(nr,{key:kt.id,annotation:kt,childAnnotation:Ct,page:Be,viewport:bt});case A.AnnotationType.Underline:return B.createElement(rr,{key:kt.id,annotation:kt,page:Be,viewport:bt});default:return B.createElement(B.Fragment,{key:kt.id})}}))},qa=function(W){var he=W.page,Re=W.renderAnnotations,Le=xe(),Be=B.useState({loading:!0,annotations:[]}),Ve=Be[0],rt=Be[1];return B.useEffect(function(){he.getAnnotations({intent:"display"}).then(function(Ze){Le.current&&rt({loading:!1,annotations:Ze})})},[]),Ve.loading?B.createElement(B.Fragment,null):Re(Ve.annotations)},Xa=function(W){var he=W.doc,Re=W.outlines,Le=W.page,Be=W.pageIndex,Ve=W.plugins,rt=W.rotation,Ze=W.scale,Ie=W.onExecuteNamedAction,tt=W.onJumpFromLinkAnnotation,et=W.onJumpToDest;return B.createElement(qa,{page:Le,renderAnnotations:function(Et){return B.createElement(Fr,{annotations:Et,doc:he,outlines:Re,page:Le,pageIndex:Be,plugins:Ve,rotation:rt,scale:Ze,onExecuteNamedAction:Ie,onJumpFromLinkAnnotation:tt,onJumpToDest:et})}})},Lr=function(W,he){var Re=W%he;return Re===0?W:Math.floor(W-Re)},Ka=function(W){var he=W.canvasLayerRef,Re=W.height,Le=W.page,Be=W.pageIndex,Ve=W.plugins,rt=W.rotation,Ze=W.scale,Ie=W.width,tt=W.onRenderCanvasCompleted,et=B.useRef();return re(function(){var Et=et.current;Et&&Et.cancel();var _t=he.current;_t.removeAttribute("data-testid"),Ve.forEach(function(en){en.onCanvasLayerRender&&en.onCanvasLayerRender({ele:_t,pageIndex:Be,rotation:rt,scale:Ze,status:A.LayerRenderStatus.PreRender})});var bt=Le.getViewport({rotation:rt,scale:Ze}),xt=window.devicePixelRatio||1,kt=Math.sqrt(16777216/(bt.width*bt.height)),Ct=xt>kt;Ct?_t.style.transform="scale(1, 1)":_t.style.removeProperty("transform");var pn=Math.min(kt,xt),Kt=function(en,yn){var En,Sn;if(Math.floor(en)===en)return[en,1];var wn=1/en;if(wn>yn)return[1,yn];if(Math.floor(wn)===wn)return[1,wn];for(var Pn=en>1?wn:en,zn=0,Ln=1,Hn=1,On=1;;){var Bn=zn+Hn,jn=Ln+On;if(jn>yn)break;Pn<=Bn/jn?(Hn=(En=[Bn,jn])[0],On=En[1]):(zn=(Sn=[Bn,jn])[0],Ln=Sn[1])}return Pn<(zn/Ln+Hn/On)/2?Pn===en?[zn,Ln]:[Ln,zn]:Pn===en?[Hn,On]:[On,Hn]}(pn,8),Jt=Kt[0],rn=Kt[1];_t.width=Lr(bt.width*pn,Jt),_t.height=Lr(bt.height*pn,Jt),_t.style.width="".concat(Lr(bt.width,rn),"px"),_t.style.height="".concat(Lr(bt.height,rn),"px"),_t.hidden=!0;var Ht=_t.getContext("2d",{alpha:!1}),on=Ct||xt!==1?[pn,0,0,pn,0,0]:null;return et.current=Le.render({canvasContext:Ht,transform:on,viewport:bt}),et.current.promise.then(function(){_t.hidden=!1,_t.setAttribute("data-testid","core__canvas-layer-".concat(Be)),Ve.forEach(function(en){en.onCanvasLayerRender&&en.onCanvasLayerRender({ele:_t,pageIndex:Be,rotation:rt,scale:Ze,status:A.LayerRenderStatus.DidRender})}),tt()},function(){tt()}),function(){_t&&(_t.width=0,_t.height=0)}},[]),B.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Re,"px"),width:"".concat(Ie,"px")}},B.createElement("canvas",{ref:he}))},Ya=function(W){var he=W.height,Re=W.page,Le=W.rotation,Be=W.scale,Ve=W.width,rt=B.useRef();return re(function(){var Ze=rt.current,Ie=Re.getViewport({rotation:Le,scale:Be});Re.getOperatorList().then(function(tt){(function(){var et=rt.current;et&&(et.innerHTML="")})(),new Y.SVGGraphics(Re.commonObjs,Re.objs).getSVG(tt,Ie).then(function(et){et.style.height="".concat(he,"px"),et.style.width="".concat(Ve,"px"),Ze.appendChild(et)})})},[]),B.createElement("div",{className:"rpv-core__svg-layer",ref:rt})},Za=function(W){var he=W.containerRef,Re=W.page,Le=W.pageIndex,Be=W.plugins,Ve=W.rotation,rt=W.scale,Ze=W.onRenderTextCompleted,Ie=B.useRef(),tt=function(){var et=he.current;et&&([].slice.call(et.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Et){return et.removeChild(Et)}),[].slice.call(et.querySelectorAll('br[role="presentation"]')).forEach(function(Et){return et.removeChild(Et)}))};return re(function(){var et=Ie.current;et&&et.cancel();var Et=he.current;if(Et){Et.removeAttribute("data-testid");var _t=Re.getViewport({rotation:Ve,scale:rt});return Be.forEach(function(bt){bt.onTextLayerRender&&bt.onTextLayerRender({ele:Et,pageIndex:Le,scale:rt,status:A.LayerRenderStatus.PreRender})}),Re.getTextContent().then(function(bt){tt(),Ie.current=Y.renderTextLayer({container:Et,textContent:bt,textContentSource:bt,viewport:_t}),Ie.current.promise.then(function(){Et.setAttribute("data-testid","core__text-layer-".concat(Le)),[].slice.call(Et.children).forEach(function(xt){xt.classList.contains("rpv-core__text-layer-text--not")||xt.classList.add("rpv-core__text-layer-text")}),Be.forEach(function(xt){xt.onTextLayerRender&&xt.onTextLayerRender({ele:Et,pageIndex:Le,scale:rt,status:A.LayerRenderStatus.DidRender})}),Ze()},function(){Et.removeAttribute("data-testid"),Ze()})}),function(){var bt;tt(),(bt=Ie.current)===null||bt===void 0||bt.cancel()}}},[]),B.createElement("div",{className:"rpv-core__text-layer",ref:he})},Ja=function(W){var he=W.doc,Re=W.measureRef,Le=W.outlines,Be=W.pageIndex,Ve=W.pageRotation,rt=W.pageSize,Ze=W.plugins,Ie=W.renderPage,tt=W.renderQueueKey,et=W.rotation,Et=W.scale,_t=W.shouldRender,bt=W.viewMode,xt=W.onExecuteNamedAction,kt=W.onJumpFromLinkAnnotation,Ct=W.onJumpToDest,pn=W.onRenderCompleted,Kt=W.onRotatePage,Jt=xe(),rn=B.useState(null),Ht=rn[0],on=rn[1],en=B.useState(!1),yn=en[0],En=en[1],Sn=B.useState(!1),wn=Sn[0],Pn=Sn[1],zn=B.useRef(),Ln=B.useRef(),Hn=Math.abs(et+Ve)%180==0,On=rt.pageWidth*Et,Bn=rt.pageHeight*Et,jn=Hn?On:Bn,Nn=Hn?Bn:On,Kn=(rt.rotation+et+Ve)%360,ir=B.useRef(0),tr=Ie||function(Gn){return B.createElement(B.Fragment,null,Gn.canvasLayer.children,Gn.textLayer.children,Gn.annotationLayer.children)};return B.useEffect(function(){on(null),En(!1),Pn(!1)},[Ve,et,Et]),B.useEffect(function(){_t&&Jt.current&&!Ht&&Rt(he,Be).then(function(Gn){Jt.current&&(ir.current=tt,on(Gn))})},[_t,Ht]),B.useEffect(function(){yn&&wn&&(tt!==ir.current?(on(null),En(!1),Pn(!1)):pn(Be))},[yn,wn]),B.createElement("div",{className:J({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":bt===A.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":bt===A.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":bt===A.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Be),ref:Re,style:{height:"".concat(Nn,"px"),width:"".concat(jn,"px")}},Ht?B.createElement(B.Fragment,null,tr({annotationLayer:{attrs:{},children:B.createElement(Xa,{doc:he,outlines:Le,page:Ht,pageIndex:Be,plugins:Ze,rotation:Kn,scale:Et,onExecuteNamedAction:xt,onJumpFromLinkAnnotation:kt,onJumpToDest:Ct})},canvasLayer:{attrs:{},children:B.createElement(Ka,{canvasLayerRef:zn,height:Nn,page:Ht,pageIndex:Be,plugins:Ze,rotation:Kn,scale:Et,width:jn,onRenderCanvasCompleted:function(){Jt.current&&En(!0)}})},canvasLayerRendered:yn,doc:he,height:Nn,pageIndex:Be,rotation:Kn,scale:Et,svgLayer:{attrs:{},children:B.createElement(Ya,{height:Nn,page:Ht,rotation:Kn,scale:Et,width:jn})},textLayer:{attrs:{},children:B.createElement(Za,{containerRef:Ln,page:Ht,pageIndex:Be,plugins:Ze,rotation:Kn,scale:Et,onRenderTextCompleted:function(){Jt.current&&Pn(!0)}})},textLayerRendered:wn,width:jn,markRendered:pn,onRotatePage:function(Gn){return Kt(Be,Gn)}}),Ze.map(function(Gn,Yn){return Gn.renderPageLayer?B.createElement(B.Fragment,{key:Yn},Gn.renderPageLayer({canvasLayerRef:zn,canvasLayerRendered:yn,doc:he,height:Nn,pageIndex:Be,rotation:Kn,scale:Et,textLayerRef:Ln,textLayerRendered:wn,width:jn})):B.createElement(B.Fragment,{key:Yn})})):B.createElement(ve,{testId:"core__page-layer-loading-".concat(Be)}))},Qa=function(W,he){var Re=he.rect;return W.height!==Re.height||W.width!==Re.width?Re:W};(function(W){W.Horizontal="Horizontal",W.Vertical="Vertical",W.Both="Both"})(It||(It={}));var eo=function(W){return 1-Math.pow(1-W,4)},Ir=1e-4,Xi={left:0,top:0},Ki={capture:!1,passive:!0},to=function(W){var he=W.elementRef,Re=W.enableSmoothScroll,Le=W.isRtl,Be=W.scrollDirection,Ve=W.onSmoothScroll,rt=B.useState(Xi),Ze=rt[0],Ie=rt[1],tt=B.useState(he.current),et=tt[0],Et=tt[1],_t=Le?-1:1,bt=B.useRef(Be);bt.current=Be;var xt=B.useRef(Xi),kt=B.useRef(!0),Ct=B.useCallback(function(){kt.current=!0,Re&&Ie(xt.current),Ve(!1)},[]),pn=B.useCallback(function(){if(et){switch(bt.current){case It.Horizontal:xt.current={left:_t*et.scrollLeft,top:0};break;case It.Both:xt.current={left:_t*et.scrollLeft,top:et.scrollTop};break;case It.Vertical:default:xt.current={left:0,top:et.scrollTop}}Re&&!kt.current||Ie(xt.current)}},[et]);re(function(){Et(he.current)}),re(function(){if(et)return et.addEventListener("scroll",pn,Ki),function(){et.removeEventListener("scroll",pn,Ki)}},[et]);var Kt=B.useCallback(function(Jt,rn){var Ht=he.current;if(!Ht)return Promise.resolve();var on={left:0,top:0};switch(bt.current){case It.Horizontal:on.left=_t*Jt.left;break;case It.Both:on.left=_t*Jt.left,on.top=Jt.top;break;case It.Vertical:default:on.top=Jt.top}return rn?(kt.current=!1,Ve(!0),new Promise(function(en,yn){(function(En,Sn,wn,Pn,zn,Ln){zn===void 0&&(zn=function(Yn){return Yn}),Ln===void 0&&(Ln=function(){});var Hn=0,On=0,Bn=!1;switch(Sn){case It.Horizontal:On=En.scrollLeft,Hn=0;case It.Both:On=En.scrollLeft,Hn=En.scrollTop;break;case It.Vertical:default:On=0,Hn=En.scrollTop}var jn=function(){Bn||(Bn=!0,En.scrollLeft=wn.left,En.scrollTop=wn.top,Ln())};if(Math.abs(Hn-wn.top)<=Ir&&Sn===It.Vertical)jn();else if(Math.abs(On-wn.left)<=Ir&&Sn===It.Horizontal)jn();else{var Nn,Kn=-1,ir=On-wn.left,tr=Hn-wn.top,Gn=function(Yn){Kn===-1&&(Kn=Yn);var ar=Yn-Kn,tn=Math.min(ar/Pn,1),Qt=zn(tn),Vt={left:On-ir*Qt,top:Hn-tr*Qt};switch(Sn){case It.Horizontal:En.scrollLeft=Vt.left;break;case It.Both:En.scrollLeft=Vt.left,En.scrollTop=Vt.top;break;case It.Vertical:default:En.scrollTop=Vt.top}Math.abs(Vt.top-wn.top)<=Ir&&Math.abs(Vt.left-wn.left)<=Ir&&!Bn&&(window.cancelAnimationFrame(Nn),jn()),ar<Pn?Nn=window.requestAnimationFrame(Gn):window.cancelAnimationFrame(Nn)};Nn=window.requestAnimationFrame(Gn)}})(Ht,bt.current,on,400,eo,function(){Ct(),en()})})):new Promise(function(en,yn){switch(bt.current){case It.Horizontal:Ht.scrollLeft=on.left;break;case It.Both:Ht.scrollLeft=on.left,Ht.scrollTop=on.top;break;case It.Vertical:default:Ht.scrollTop=on.top}en()})},[he]);return{scrollOffset:Ze,scrollTo:Kt}},wr=function(W,he,Re){return Math.max(W,Math.min(Re,he))},no=function(W,he){if(he!==A.ViewMode.DualPageWithCover)return 0;if(!function(Be){var Ve=Be.length;if(Ve===1)return!1;for(var rt=1;rt<Ve;rt++)if(Be[rt].height!==Be[0].height||Be[rt].width!==Be[0].width)return!0;return!1}(W))return 2*W[0].width;var Re=We(W.slice(1),2).map(function(Be){return Be.length===2?Be[0].width+Be[1].width:Be[0].width}),Le=[W[0].width].concat(Re);return Math.max.apply(Math,Le)},ro={left:0,top:0},io={left:0,top:0},ti={left:0,top:0},ao={left:0,top:0},oo={height:0,width:0},Yi={left:0,top:0},Zi="data-virtual-index",so=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],co=function(W){var he=W.enableSmoothScroll,Re=W.isRtl,Le=W.numberOfItems,Be=W.parentRef,Ve=W.setRenderRange,rt=W.sizes,Ze=W.scrollMode,Ie=W.viewMode,tt=B.useState(!1),et=tt[0],Et=tt[1],_t=B.useCallback(function(tn){return Et(tn)},[]),bt=B.useRef(Ze);bt.current=Ze;var xt=B.useRef(Ie);xt.current=Ie;var kt=Ze===A.ScrollMode.Wrapped||Ie===A.ViewMode.DualPageWithCover||Ie===A.ViewMode.DualPage?It.Both:Ze===A.ScrollMode.Horizontal?It.Horizontal:It.Vertical,Ct=to({elementRef:Be,enableSmoothScroll:he,isRtl:Re,scrollDirection:kt,onSmoothScroll:_t}),pn=Ct.scrollOffset,Kt=Ct.scrollTo,Jt=function(tn){var Qt=tn.elementRef,Vt=B.useState(Qt.current),qt=Vt[0],Wt=Vt[1],sn=B.useRef(!1),ln=B.useReducer(Qa,{height:0,width:0}),Xt=ln[0],Nt=ln[1];return re(function(){Qt.current!==qt&&Wt(Qt.current)}),re(function(){if(qt&&!sn.current){sn.current=!0;var hn=qt.getBoundingClientRect(),mn=hn.height,Rn=hn.width;Nt({rect:{height:mn,width:Rn}})}},[qt]),B.useEffect(function(){if(qt){var hn=new ResizeObserver(function(mn,Rn){mn.forEach(function(xn){if(xn.target===qt){var qn=xn.contentRect,Zn=qn.height,fn=qn.width;Nt({rect:{height:Zn,width:fn}})}})});return hn.observe(qt),function(){hn.unobserve(qt)}}},[qt]),Xt}({elementRef:Be}),rn=B.useRef({scrollOffset:Yi,measurements:[]});rn.current.scrollOffset=pn;var Ht=B.useMemo(function(){return Array(Le).fill(-1)},[]),on=B.useState(Ht),en=on[0],yn=on[1],En=B.useMemo(function(){var tn=new IntersectionObserver(function(Qt){Qt.forEach(function(Vt){var qt=Vt.isIntersecting?Vt.intersectionRatio:-1,Wt=Vt.target.getAttribute(Zi);if(Wt){var sn=parseInt(Wt,10);0<=sn&&sn<Le&&yn(function(ln){return ln[sn]=qt,function(Xt,Nt,hn){for(var mn,Rn=0,xn=Nt.length;Rn<xn;Rn++)!mn&&Rn in Nt||(mn||(mn=Array.prototype.slice.call(Nt,0,Rn)),mn[Rn]=Nt[Rn]);return Xt.concat(mn||Array.prototype.slice.call(Nt))}([],ln)})}})},{threshold:so});return tn},[]),Sn=B.useMemo(function(){return Ze===A.ScrollMode.Page&&Ie===A.ViewMode.SinglePage?function(tn,Qt,Vt){for(var qt=[],Wt=0;Wt<tn;Wt++){var sn={height:Math.max(Qt.height,Vt[Wt].height),width:Math.max(Qt.width,Vt[Wt].width)},ln=Wt===0?ao:qt[Wt-1].end,Xt={left:ln.left+sn.width,top:ln.top+sn.height};qt[Wt]={index:Wt,start:ln,size:sn,end:Xt,visibility:-1}}return qt}(Le,Jt,rt):Ie===A.ViewMode.DualPageWithCover?function(tn,Qt,Vt,qt){for(var Wt=[],sn=0,ln=0,Xt=ti,Nt=0;Nt<tn;Nt++){var hn=Nt===0?{height:qt===A.ScrollMode.Page?Math.max(Qt.height,Vt[Nt].height):Vt[Nt].height,width:qt===A.ScrollMode.Page?Math.max(Qt.width,Vt[Nt].width):Vt[Nt].width}:{height:qt===A.ScrollMode.Page?Math.max(Qt.height,Vt[Nt].height):Vt[Nt].height,width:Math.max(Qt.width/2,Vt[Nt].width)};qt===A.ScrollMode.Page?Xt=Nt===0?ti:{left:Nt%2==0?hn.width:0,top:Math.floor((Nt-1)/2)*hn.height+Wt[0].end.top}:Nt===0?(Xt=ti,sn=Vt[0].height,ln=0):Nt%2==1?(Xt={left:0,top:sn+=ln},ln=Nt===tn-1?Vt[Nt].height:Math.max(Vt[Nt].height,Vt[Nt+1].height)):Xt={left:Wt[Nt-1].end.left,top:sn};var mn={left:Xt.left+hn.width,top:Xt.top+hn.height};Wt[Nt]={index:Nt,start:Xt,size:hn,end:mn,visibility:-1}}return Wt}(Le,Jt,rt,Ze):Ie===A.ViewMode.DualPage?function(tn,Qt,Vt,qt){for(var Wt=[],sn=0,ln=0,Xt=io,Nt=0;Nt<tn;Nt++){var hn={height:qt===A.ScrollMode.Page?Math.max(Qt.height,Vt[Nt].height):Vt[Nt].height,width:Math.max(Qt.width/2,Vt[Nt].width)};qt===A.ScrollMode.Page?Xt={left:Nt%2==0?0:hn.width,top:Math.floor(Nt/2)*hn.height}:Nt%2==0?(Xt={left:0,top:sn+=ln},ln=Nt===tn-1?Vt[Nt].height:Math.max(Vt[Nt].height,Vt[Nt+1].height)):Xt={left:Wt[Nt-1].end.left,top:sn};var mn={left:Xt.left+hn.width,top:Xt.top+hn.height};Wt[Nt]={index:Nt,start:Xt,size:hn,end:mn,visibility:-1}}return Wt}(Le,Jt,rt,Ze):function(tn,Qt,Vt,qt){for(var Wt=[],sn=0,ln={left:0,top:0},Xt=0,Nt=ro,hn=0;hn<tn;hn++){var mn=Vt[hn];if(hn===0)sn=mn.width,ln={left:0,top:0},Xt=mn.height;else switch(qt){case A.ScrollMode.Wrapped:(sn+=mn.width)<Qt.width?(Nt={left:Wt[hn-1].end.left,top:ln.top},Xt=Math.max(Xt,mn.height)):(sn=mn.width,ln={left:(Nt={left:ln.left,top:ln.top+Xt}).left,top:Nt.top},Xt=mn.height);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:Nt=Wt[hn-1].end}var Rn={left:Nt.left+mn.width,top:Nt.top+mn.height};Wt[hn]={index:hn,start:Nt,size:mn,end:Rn,visibility:-1}}return Wt}(Le,Jt,rt,Ze)},[Ze,rt,Ie,Jt]),wn=Sn[Le-1]?{height:Sn[Le-1].end.top,width:Sn[Le-1].end.left}:oo;rn.current.measurements=Sn;var Pn=B.useMemo(function(){var tn=function(hn,mn,Rn,xn){var qn=0;switch(hn){case It.Horizontal:qn=xn.left;break;case It.Vertical:default:qn=xn.top}var Zn=mn.length-1,fn=function(Mn,sr,gr,Or){for(;Mn<=sr;){var hr=(Mn+sr)/2|0,Ar=Or(hr);if(Ar<gr)Mn=hr+1;else{if(!(Ar>gr))return hr;sr=hr-1}}return Mn>0?Mn-1:0}(0,Zn,qn,function(Mn){switch(hn){case It.Horizontal:return mn[Mn].start.left;case It.Both:case It.Vertical:default:return mn[Mn].start.top}});if(hn===It.Both)for(var Xn=mn[fn].start.top;fn-1>=0&&mn[fn-1].start.top===Xn&&mn[fn-1].start.left>=xn.left;)fn--;for(var Fn=fn;Fn<=Zn;){var In={top:mn[Fn].start.top-xn.top,left:mn[Fn].start.left-xn.left},Wn={height:Rn.height-In.top,width:Rn.width-In.left};if(hn===It.Horizontal&&Wn.width<0||hn===It.Vertical&&Wn.height<0||hn===It.Both&&(Wn.width<0||Wn.height<0))break;Fn++}return{start:fn,end:Fn}}(kt,Sn,Jt,pn),Qt=tn.start,Vt=tn.end,qt=en.slice(wr(0,Le,Qt),wr(0,Le,Vt)),Wt=Qt+qt.reduce(function(hn,mn,Rn,xn){return mn>xn[hn]?Rn:hn},0),sn=Wt=wr(0,Le-1,Wt),ln=Ve({endPage:Vt,numPages:Le,startPage:Qt}),Xt=ln.startPage,Nt=ln.endPage;switch(Xt=Math.max(Xt,0),Nt=Math.min(Nt,Le-1),Ie){case A.ViewMode.DualPageWithCover:Wt>0&&(sn=Wt%2==1?Wt:Wt-1),Xt=Xt===0?0:Xt%2==1?Xt:Xt-1,Le-(Nt=Nt%2==1?Nt-1:Nt)<=2&&(Nt=Le-1);break;case A.ViewMode.DualPage:sn=Wt%2==0?Wt:Wt-1,Xt=Xt%2==0?Xt:Xt-1,Nt=Nt%2==1?Nt:Nt-1;break;case A.ViewMode.SinglePage:default:sn=Wt}return{startPage:Xt,endPage:Nt,maxVisbilityIndex:sn}},[Sn,Jt,pn,Ie,en]),zn=Pn.startPage,Ln=Pn.endPage,Hn=Pn.maxVisbilityIndex,On=B.useMemo(function(){for(var tn=[],Qt=function(qt){var Wt=Sn[qt],sn=U(U({},Wt),{visibility:en[qt]!==void 0?en[qt]:-1,measureRef:function(ln){ln&&(ln.setAttribute(Zi,"".concat(qt)),En.observe(ln))}});tn.push(sn)},Vt=zn;Vt<=Ln;Vt++)Qt(Vt);return tn},[zn,Ln,en,Sn]),Bn=B.useCallback(function(tn,Qt){var Vt=rn.current.measurements[wr(0,Le-1,tn)],qt=bt.current===A.ScrollMode.Page?Yi:Qt;return Vt?Kt({left:qt.left+Vt.start.left,top:qt.top+Vt.start.top},he):Promise.resolve()},[Kt,he]),jn=B.useCallback(function(tn,Qt){var Vt=rn.current.measurements,qt=Vt[tn].start,Wt=Vt.find(function(ln){return ln.start.top-qt.top>1e-12});if(!Wt)return Promise.resolve();var sn=Wt.index;switch(xt.current){case A.ViewMode.DualPage:sn=sn%2==0?sn:sn+1;break;case A.ViewMode.DualPageWithCover:sn=sn%2==1?sn:sn+1}return Bn(sn,Qt)},[]),Nn=B.useCallback(function(tn,Qt){for(var Vt=rn.current.measurements,qt=Vt[tn].start,Wt=tn,sn=!1,ln=Le-1;ln>=0;ln--)if(qt.top-Vt[ln].start.top>1e-12){sn=!0,Wt=Vt[ln].index;break}if(!sn)return Promise.resolve();switch(xt.current){case A.ViewMode.DualPage:Wt=Wt%2==0?Wt:Wt-1;break;case A.ViewMode.DualPageWithCover:Wt=Wt%2==0?Wt-1:Wt}return Wt===tn&&(Wt=tn-1),Bn(Wt,Qt)},[]),Kn=B.useCallback(function(tn,Qt){if(xt.current===A.ViewMode.DualPageWithCover||xt.current===A.ViewMode.DualPage)return jn(tn,Qt);switch(bt.current){case A.ScrollMode.Wrapped:return jn(tn,Qt);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return Bn(tn+1,Qt)}},[]),ir=B.useCallback(function(tn,Qt){if(xt.current===A.ViewMode.DualPageWithCover||xt.current===A.ViewMode.DualPage)return Nn(tn,Qt);switch(bt.current){case A.ScrollMode.Wrapped:return Nn(tn,Qt);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return Bn(tn-1,Qt)}},[]),tr=B.useCallback(function(){return function(tn,Qt){switch(Qt){case A.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(tn.width,"px")};case A.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(tn.height,"px"),width:"100%"}}}(wn,bt.current)},[wn]),Gn=B.useCallback(function(tn){return function(Qt,Vt,qt){return qt!==A.ScrollMode.Page?{}:{height:"".concat(Vt.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Qt.start.top,"px)")}}(tn,Jt,bt.current)},[Jt]),Yn=B.useCallback(function(tn){return function(Qt,Vt,qt,Wt,sn){var ln,Xt,Nt,hn,mn,Rn,xn,qn=Vt?"right":"left",Zn=Vt?-1:1,fn=qt.length,Xn=Qt.start.left*Zn,Fn=Qt.size,In=Fn.height,Wn=Fn.width;if(Wt===A.ViewMode.DualPageWithCover){var Mn=sn===A.ScrollMode.Page?0:Qt.start.top;return Qt.index===0||fn%2==0&&Qt.index===fn-1?((ln={height:"".concat(In,"px"),minWidth:"".concat(no(qt,Wt),"px"),width:"100%"})[qn]=0,ln.position="absolute",ln.top=0,ln.transform="translate(".concat(Xn,"px, ").concat(Mn,"px)"),ln):((Xt={height:"".concat(In,"px"),width:"".concat(Wn,"px")})[qn]=0,Xt.position="absolute",Xt.top=0,Xt.transform="translate(".concat(Xn,"px, ").concat(Mn,"px)"),Xt)}if(Wt===A.ViewMode.DualPage)return(Nt={height:"".concat(In,"px"),width:"".concat(Wn,"px")})[qn]=0,Nt.position="absolute",Nt.top=0,Nt.transform="translate(".concat(Xn,"px, ").concat(sn===A.ScrollMode.Page?0:Qt.start.top,"px)"),Nt;switch(sn){case A.ScrollMode.Horizontal:return(hn={height:"100%",width:"".concat(Wn,"px")})[qn]=0,hn.position="absolute",hn.top=0,hn.transform="translateX(".concat(Xn,"px)"),hn;case A.ScrollMode.Page:return(mn={height:"".concat(In,"px"),width:"".concat(Wn,"px")})[qn]=0,mn.position="absolute",mn.top=0,mn;case A.ScrollMode.Wrapped:return(Rn={height:"".concat(In,"px"),width:"".concat(Wn,"px")})[qn]=0,Rn.position="absolute",Rn.top=0,Rn.transform="translate(".concat(Xn,"px, ").concat(Qt.start.top,"px)"),Rn;case A.ScrollMode.Vertical:default:return(xn={height:"".concat(In,"px"),width:"100%"})[qn]=0,xn.position="absolute",xn.top=0,xn.transform="translateY(".concat(Qt.start.top,"px)"),xn}}(tn,Re,rt,xt.current,bt.current)},[Re,rt]),ar=B.useCallback(function(tn,Qt){var Vt=rn.current,qt=Vt.measurements,Wt=Vt.scrollOffset,sn=qt[wr(0,Le-1,Qt)];if(sn){var ln=bt.current===A.ScrollMode.Page?{left:sn.start.left,top:sn.start.top}:{left:Wt.left*tn,top:Wt.top*tn};return Kt(ln,!1)}return Promise.resolve()},[]);return B.useEffect(function(){return function(){En.disconnect()}},[]),{boundingClientRect:Jt,isSmoothScrolling:et,startPage:zn,endPage:Ln,maxVisbilityIndex:Hn,virtualItems:On,getContainerStyles:tr,getItemContainerStyles:Gn,getItemStyles:Yn,scrollToItem:Bn,scrollToNextItem:Kn,scrollToPreviousItem:ir,zoom:ar}},ni=function(W,he,Re,Le,Be,Ve){var rt=Re;switch(!0){case(Be===A.ViewMode.DualPageWithCover&&Ve>=3):case(Be===A.ViewMode.DualPage&&Ve>=3):rt=2*Re;break;default:rt=Re}switch(Le){case A.SpecialZoomLevel.ActualSize:return 1;case A.SpecialZoomLevel.PageFit:return Math.min((W.clientWidth-17)/rt,(W.clientHeight-16)/he);case A.SpecialZoomLevel.PageWidth:return(W.clientWidth-17)/rt}},lo=function(W){var he,Re,Le=W.getCurrentPage,Be=(he=50,Re=B.useRef([]),B.useEffect(function(){return function(){Re.current=[]}},[]),{push:function(tt){var et=Re.current;et.length+1>he&&et.shift(),et.push(tt),Re.current=et},map:function(tt){return Re.current.map(function(et){return tt(et)})},pop:function(){var tt=Re.current;if(tt.length===0)return null;var et=tt.pop();return Re.current=tt,et}}),Ve=function(tt){var et=B.useRef([]);return B.useEffect(function(){return function(){et.current=[]}},[]),{dequeue:function(){var Et=et.current;if(Et.length===0)return null;var _t=Et.shift();return et.current=Et,_t||null},enqueue:function(Et){var _t=et.current;_t.length+1>tt&&_t.pop(),et.current=[Et].concat(_t)},map:function(Et){return et.current.map(function(_t){return Et(_t)})}}}(50),rt=function(){var tt=Ve.dequeue();return tt&&Be.push(tt),tt&&tt.pageIndex===Le()?rt():tt},Ze=function(){var tt=Be.pop();return tt&&Ve.enqueue(tt),tt&&tt.pageIndex===Le()?Ze():tt},Ie=B.useCallback(function(tt){Be.push(tt)},[]);return{getNextDestination:rt,getPreviousDestination:Ze,markVisitedDestination:Ie}},Ji=function(W){var he=[];return W.map(function(Re){he=he.concat(Re).concat(function(Le){var Be=[];return Le.items&&Le.items.length>0&&(Be=Be.concat(Ji(Le.items))),Be}(Re))}),he},Qi={capture:!1,passive:!0},uo={height:0,width:0},ri={height:0,width:0},ho=function(W){var he=W.getCurrentPage,Re=W.getCurrentScrollMode,Le=W.jumpToPage,Be=W.targetRef,Ve=B.useState(A.FullScreenMode.Normal),rt=Ve[0],Ze=Ve[1],Ie=function(){var en=B.useState(uo),yn=en[0],En=en[1],Sn=De(function(){En({height:window.innerHeight,width:window.innerWidth})},100);return re(function(){return window.addEventListener("resize",Sn,Qi),function(){window.removeEventListener("resize",Sn,Qi)}},[]),yn}(),tt=B.useState(ri),et=tt[0],Et=tt[1],_t=B.useRef(ri),bt=B.useRef(he()),xt=B.useRef(ri),kt=B.useState(Be.current),Ct=kt[0],pn=kt[1],Kt=B.useRef();re(function(){Be.current!==Ct&&pn(Be.current)},[]),re(function(){if(Ct){var en=new ResizeObserver(function(yn){yn.forEach(function(En){var Sn=En.target.getBoundingClientRect(),wn=Sn.height,Pn=Sn.width;Et({height:wn,width:Pn})})});return en.observe(Ct),function(){en.unobserve(Ct),en.disconnect()}}},[Ct]);var Jt=B.useCallback(function(en){var yn=Ce();return yn&&yn!==en?(Ze(A.FullScreenMode.Normal),ge(yn)):Promise.resolve()},[]),rn=B.useCallback(function(en){en&&K()&&(pn(en),Jt(en).then(function(){Kt.current=en,Ze(A.FullScreenMode.Entering),function(yn){oe&&yn[Ee.RequestFullScreen]()}(en)}))},[]),Ht=B.useCallback(function(){Ce()&&(Ze(A.FullScreenMode.Exitting),ge(document))},[]),on=B.useCallback(function(){Ct&&Ce()!==Ct&&Ze(A.FullScreenMode.Exitting)},[Ct]);return B.useEffect(function(){switch(rt){case A.FullScreenMode.Entering:Kt.current&&(Kt.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),bt.current=he(),_t.current={height:window.innerHeight,width:window.innerWidth};break;case A.FullScreenMode.Entered:Re()===A.ScrollMode.Page?Le(bt.current).then(function(){Ze(A.FullScreenMode.EnteredCompletely)}):Ze(A.FullScreenMode.EnteredCompletely);break;case A.FullScreenMode.Exitting:Kt.current&&(Kt.current.style.backgroundColor="",Kt.current=null),bt.current=he();break;case A.FullScreenMode.Exited:Ze(A.FullScreenMode.Normal),Re()===A.ScrollMode.Page&&Le(bt.current)}},[rt]),B.useEffect(function(){if(rt!==A.FullScreenMode.Normal)return rt===A.FullScreenMode.Entering&&Ie.height===et.height&&Ie.width===et.width&&Ie.height>0&&Ie.width>0&&(xt.current.height===0||Ie.height==xt.current.height)?(xt.current={height:window.innerHeight,width:window.innerWidth},void Ze(A.FullScreenMode.Entered)):void(rt===A.FullScreenMode.Exitting&&_t.current.height===Ie.height&&_t.current.width===Ie.width&&Ie.height>0&&Ie.width>0&&Ze(A.FullScreenMode.Exited))},[rt,Ie,et]),B.useEffect(function(){var en;return en=on,oe&&document.addEventListener(Ee.FullScreenChange,en),function(){(function(yn){oe&&document.removeEventListener(Ee.FullScreenChange,yn)})(on)}},[Ct]),{enterFullScreenMode:rn,exitFullScreenMode:Ht,fullScreenMode:rt}},fo={buildPageStyles:function(){return{}},transformSize:function(W){return W.size}},mr={left:0,top:0},po=function(W){var he=W.currentFile,Re=W.defaultScale,Le=W.doc,Be=W.enableSmoothScroll,Ve=W.initialPage,rt=W.initialRotation,Ze=W.initialScale,Ie=W.pageLayout,tt=W.pageSizes,et=W.plugins,Et=W.renderPage,_t=W.scrollMode,bt=W.setRenderRange,xt=W.viewMode,kt=W.viewerState,Ct=W.onDocumentLoad,pn=W.onOpenFile,Kt=W.onPageChange,Jt=W.onRotate,rn=W.onRotatePage,Ht=W.onZoom,on=Le.numPages,en=Le.loadingTask.docId,yn=B.useContext(He).l10n,En=B.useContext(ce),Sn=En.direction===A.TextDirection.RightToLeft,wn=B.useRef(),Pn=B.useRef(),zn=B.useState(Ve),Ln=zn[0],Hn=zn[1],On=B.useRef(null),Bn=lo({getCurrentPage:function(){return fn.current.pageIndex}}),jn=B.useState(rt),Nn=jn[0],Kn=jn[1],ir=Ne(Nn),tr=B.useState(!1),Gn=tr[0],Yn=tr[1],ar=B.useState(new Map),tn=ar[0],Qt=ar[1],Vt=B.useState(_t),qt=Vt[0],Wt=Vt[1],sn=Ne(qt),ln=B.useState(xt),Xt=ln[0],Nt=ln[1],hn=Ne(Xt),mn=function(At){var un=xe(),vn=B.useState([]),kn=vn[0],An=vn[1];return B.useEffect(function(){At.getOutline().then(function(bn){if(un.current&&bn!==null){var Un=Ji(bn);An(Un)}})},[]),kn}(Le),Rn=B.useState(Ze),xn=Rn[0],qn=Rn[1],Zn=Ne(xn),fn=B.useRef(kt),Xn=B.useRef(typeof Re=="string"?Re:null),Fn=B.useRef(-1),In=B.useRef(-1),Wn=B.useRef(Ve),Mn=ho({getCurrentPage:function(){return fn.current.pageIndex},getCurrentScrollMode:function(){return fn.current.scrollMode},jumpToPage:function(At){return lr(At)},targetRef:Pn}),sr=B.useState(-1),gr=sr[0],Or=sr[1],hr=B.useState(0),Ar=hr[0],Eo=hr[1],Jn=Se({doc:Le});B.useEffect(function(){return function(){St.clear(),Yt.clear()}},[en]);var ra=B.useMemo(function(){return Object.assign({},fo,Ie)},[]),yo=B.useMemo(function(){return Array(on).fill(0).map(function(At,un){var vn=[tt[un].pageHeight,tt[un].pageWidth],kn=Math.abs(Nn)%180==0?{height:vn[0],width:vn[1]}:{height:vn[1],width:vn[0]},An={height:kn.height*xn,width:kn.width*xn};return ra.transformSize({numPages:on,pageIndex:un,size:An})})},[Nn,xn]),$n=co({enableSmoothScroll:Be,isRtl:Sn,numberOfItems:on,parentRef:Pn,scrollMode:qt,setRenderRange:bt,sizes:yo,viewMode:Xt}),So=De(function(){!Xn.current||fn.current.fullScreenMode!==A.FullScreenMode.Normal||Ve>0&&Wn.current===Ve||fr(Xn.current)},200);(function(At){var un=At.targetRef,vn=At.onResize;re(function(){var kn=new ResizeObserver(function(bn){bn.forEach(function(Un){vn(Un.target)})}),An=un.current;if(An)return kn.observe(An),function(){kn.unobserve(An)}},[])})({targetRef:Pn,onResize:So});var cr=function(At){var un=At;et.forEach(function(vn){vn.onViewerStateChange&&(un=vn.onViewerStateChange(un))}),fn.current=un},wo=function(){return Pn.current},Ao=function(){return fn.current},Co=B.useCallback(function(At){Bn.markVisitedDestination(At)},[]),oi=B.useCallback(function(At){var un=At.pageIndex,vn=At.bottomOffset,kn=At.leftOffset,An=At.scaleTo,bn=Pn.current,Un=fn.current;return bn&&Un?new Promise(function(ur,hi){Rt(Le,un).then(function(Nr){var dr=Nr.getViewport({scale:1}),Br=0,da=(typeof vn=="function"?vn(dr.width,dr.height):vn)||0,jr=(typeof kn=="function"?kn(dr.width,dr.height):kn)||0,vr=Un.scale;switch(An){case A.SpecialZoomLevel.PageFit:Br=0,jr=0,fr(A.SpecialZoomLevel.PageFit);break;case A.SpecialZoomLevel.PageWidth:vr=ni(bn,tt[un].pageHeight,tt[un].pageWidth,A.SpecialZoomLevel.PageWidth,xt,on),Br=(dr.height-da)*vr,jr*=vr,fr(vr);break;default:Br=(dr.height-da)*vr,jr*=vr}switch(Un.scrollMode){case A.ScrollMode.Horizontal:$n.scrollToItem(un,{left:jr,top:0}).then(function(){ur()});break;case A.ScrollMode.Vertical:default:$n.scrollToItem(un,{left:0,top:Br}).then(function(){ur()})}})}):Promise.resolve()},[]),ia=B.useCallback(function(At){return Bn.markVisitedDestination(At),oi(At)},[]),Po=B.useCallback(function(){var At=Bn.getNextDestination();return At?oi(At):Promise.resolve()},[]),ko=B.useCallback(function(){var At=Bn.getPreviousDestination();return At?oi(At):Promise.resolve()},[]),Mo=B.useCallback(function(){return $n.scrollToNextItem(fn.current.pageIndex,mr)},[]),lr=B.useCallback(function(At){return 0<=At&&At<on?$n.scrollToItem(At,mr):Promise.resolve()},[]),xo=B.useCallback(function(){return $n.scrollToPreviousItem(fn.current.pageIndex,mr)},[]),aa=B.useCallback(function(At){var un,vn;(un=At.name,vn=un.split(/\./).pop(),vn?vn.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(kn){var An=new FileReader;An.readAsArrayBuffer(At),An.onload=function(){var bn=new Uint8Array(An.result);kn(bn)}}).then(function(kn){pn(At.name,kn)})},[pn]),oa=B.useCallback(function(At){var un=At===A.RotateDirection.Backward?-90:90,vn=fn.current.rotation,kn=vn===360||vn===-360?un:vn+un;Jn.markNotRendered(),Kn(kn),cr(U(U({},fn.current),{rotation:kn})),Jt({direction:At,doc:Le,rotation:kn})},[]),si=B.useCallback(function(At,un){var vn=un===A.RotateDirection.Backward?-90:90,kn=fn.current.pagesRotation,An=(kn.has(At)?kn.get(At):rt)+vn,bn=kn.set(At,An);Qt(bn),Yn(function(Un){return!Un}),cr(U(U({},fn.current),{pagesRotation:bn,rotatedPage:At})),rn({direction:un,doc:Le,pageIndex:At,rotation:An}),Jn.markRendering(At),Or(At)},[]),sa=B.useCallback(function(At){cr(U(U({},fn.current),{scrollMode:At})),Wt(At)},[]),ca=B.useCallback(function(At){cr(U(U({},fn.current),{viewMode:At})),Nt(At)},[]),fr=B.useCallback(function(At){var un=Pn.current,vn=fn.current.pageIndex;if(!(vn<0||vn>=on)){var kn=tt[vn].pageHeight,An=tt[vn].pageWidth,bn=un?typeof At=="string"?ni(un,kn,An,At,fn.current.viewMode,on):At:1;Xn.current=typeof At=="string"?At:null,bn!==fn.current.scale&&(Eo(function(Un){return Un+1}),Jn.markNotRendered(),qn(bn),Ht({doc:Le,scale:bn}),cr(U(U({},fn.current),{scale:bn})))}},[]),$o=B.useCallback(function(At){Mn.enterFullScreenMode(At)},[]),To=B.useCallback(function(){Mn.exitFullScreenMode()},[]);B.useEffect(function(){cr(U(U({},fn.current),{fullScreenMode:Mn.fullScreenMode}))},[Mn.fullScreenMode]),B.useEffect(function(){var At={enterFullScreenMode:$o,exitFullScreenMode:To,getPagesContainer:wo,getViewerState:Ao,jumpToDestination:ia,jumpToNextDestination:Po,jumpToPreviousDestination:ko,jumpToNextPage:Mo,jumpToPreviousPage:xo,jumpToPage:lr,openFile:aa,rotate:oa,rotatePage:si,setViewerState:cr,switchScrollMode:sa,switchViewMode:ca,zoom:fr};return et.forEach(function(un){un.install&&un.install(At)}),function(){et.forEach(function(un){un.uninstall&&un.uninstall(At)})}},[en]),B.useEffect(function(){Ct({doc:Le,file:he}),et.forEach(function(At){At.onDocumentLoad&&At.onDocumentLoad({doc:Le,file:he})})},[en]);var ci,li,ui,la=$n.boundingClientRect;ci=function(){Ve&&lr(Ve)},li=la.height>0&&la.width>0,ui=B.useRef(!1),re(function(){li&&!ui.current&&(ui.current=!0,ci())},[ci,li]),re(function(){var At=fn.current.pageIndex;At>-1&&sn!==qt&&$n.scrollToItem(At,mr).then(function(){Mn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(Be||Jn.markNotRendered(),Fn.current=-1)})},[qt]),re(function(){var At=fn.current.pageIndex;At>-1&&ir!==Nn&&$n.scrollToItem(At,mr)},[Nn]),re(function(){Zn!=0&&Zn!=fn.current.scale&&$n.zoom(fn.current.scale/Zn,fn.current.pageIndex).then(function(){Mn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(In.current=-1)})},[xn]),re(function(){if(hn!==fn.current.viewMode){var At=$n.startPage,un=$n.endPage,vn=$n.virtualItems;Jn.markNotRendered(),Jn.setRange(At,un);for(var kn=function(bn){var Un=vn.find(function(ur){return ur.index===bn});Un&&Jn.setVisibility(bn,Un.visibility)},An=At;An<=un;An++)kn(An);di()}},[Xt]),re(function(){var At=fn.current.pageIndex;At>-1&&hn!==Xt&&$n.scrollToItem(At,mr)},[Xt]),re(function(){var At=fn.current.pageIndex;At>0&&At===Ve&&Wn.current===Ve&&Xn.current&&(Wn.current=-1,fr(Xn.current))},[Ln]),B.useEffect(function(){$n.isSmoothScrolling||On.current!==null&&On.current===Ln||(On.current=Ln,Kt({currentPage:Ln,doc:Le}))},[Ln,$n.isSmoothScrolling]),B.useEffect(function(){Mn.fullScreenMode===A.FullScreenMode.Entering&&fn.current.scrollMode===A.ScrollMode.Page&&(Fn.current=fn.current.pageIndex),Mn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&fn.current.scrollMode===A.ScrollMode.Page&&Be&&(Fn.current=-1),Mn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&Xn.current&&(In.current=fn.current.pageIndex,fr(Xn.current))},[Mn.fullScreenMode]),B.useEffect(function(){if(Mn.fullScreenMode!==A.FullScreenMode.Entering&&Mn.fullScreenMode!==A.FullScreenMode.Exitting&&!$n.isSmoothScrolling){var At=$n.startPage,un=$n.endPage,vn=$n.maxVisbilityIndex,kn=$n.virtualItems,An=vn,bn=Mn.fullScreenMode===A.FullScreenMode.Entered||Mn.fullScreenMode===A.FullScreenMode.EnteredCompletely;if(!(bn&&An!==Fn.current&&Fn.current>-1||bn&&An!==In.current&&In.current>-1)){Hn(An),cr(U(U({},fn.current),{pageIndex:An})),Jn.setRange(At,un);for(var Un=function(hi){var Nr=kn.find(function(dr){return dr.index===hi});Nr&&Jn.setVisibility(hi,Nr.visibility)},ur=At;ur<=un;ur++)Un(ur);di()}}},[$n.startPage,$n.endPage,$n.isSmoothScrolling,$n.maxVisbilityIndex,Mn.fullScreenMode,Gn,Nn,xn]);var Ro=B.useCallback(function(At){Jn.markRendered(At),di()},[Ar]),di=function(){var At=Jn.getHighestPriorityPage();At>-1&&Jn.isInRange(At)&&(Jn.markRendering(At),Or(At))},Fo=function(At){var un=Ln-1,vn=Ln+1;switch(At){case"FirstPage":lr(0);break;case"LastPage":lr(on-1);break;case"NextPage":vn<on&&lr(vn);break;case"PrevPage":un>=0&&lr(un)}},Lo=B.useCallback(function(){var At=$n.virtualItems,un=[];switch(Xt){case A.ViewMode.DualPage:un=We(At,2);break;case A.ViewMode.DualPageWithCover:At.length&&(un=At[0].index===0?[[At[0]]].concat(We(At.slice(1),2)):We(At,2));break;case A.ViewMode.SinglePage:default:un=We(At,1)}var vn=yn&&yn.core?yn.core.pageLabel:"Page {{pageIndex}}",kn={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:wn,style:{height:"100%"}},children:B.createElement(B.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:J({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":qt===A.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Sn,"rpv-core__inner-pages--single":qt===A.ScrollMode.Page,"rpv-core__inner-pages--vertical":qt===A.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":qt===A.ScrollMode.Wrapped}),ref:Pn,style:{height:"100%",position:"relative"}},children:B.createElement("div",{"data-testid":"core__inner-current-page-".concat(Ln),style:Object.assign({"--scale-factor":xn},$n.getContainerStyles())},un.map(function(An){return B.createElement("div",{className:J({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":qt===A.ScrollMode.Page}),style:$n.getItemContainerStyles(An[0]),key:"".concat(An[0].index,"-").concat(Xt)},An.map(function(bn){var Un=Xt===A.ViewMode.DualPageWithCover&&(bn.index===0||on%2==0&&bn.index===on-1);return B.createElement("div",{"aria-label":vn.replace("{{pageIndex}}","".concat(bn.index+1)),className:J({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Xt===A.ViewMode.DualPage&&bn.index%2==0,"rpv-core__inner-page--dual-odd":Xt===A.ViewMode.DualPage&&bn.index%2==1,"rpv-core__inner-page--dual-cover":Un,"rpv-core__inner-page--dual-cover-even":Xt===A.ViewMode.DualPageWithCover&&!Un&&bn.index%2==0,"rpv-core__inner-page--dual-cover-odd":Xt===A.ViewMode.DualPageWithCover&&!Un&&bn.index%2==1,"rpv-core__inner-page--single":Xt===A.ViewMode.SinglePage&&qt===A.ScrollMode.Page}),role:"region",key:"".concat(bn.index,"-").concat(Xt),style:Object.assign({},$n.getItemStyles(bn),ra.buildPageStyles({numPages:on,pageIndex:bn.index,scrollMode:qt,viewMode:Xt}))},B.createElement(Ja,{doc:Le,measureRef:bn.measureRef,outlines:mn,pageIndex:bn.index,pageRotation:tn.has(bn.index)?tn.get(bn.index):0,pageSize:tt[bn.index],plugins:et,renderPage:Et,renderQueueKey:Ar,rotation:Nn,scale:xn,shouldRender:gr===bn.index,viewMode:Xt,onExecuteNamedAction:Fo,onJumpFromLinkAnnotation:Co,onJumpToDest:ia,onRenderCompleted:Ro,onRotatePage:si}))}))}))}};return et.forEach(function(An){An.renderViewer&&(kn=An.renderViewer({containerRef:wn,doc:Le,pagesContainerRef:Pn,pagesRotation:tn,pageSizes:tt,rotation:Nn,slot:kn,themeContext:En,jumpToPage:lr,openFile:aa,rotate:oa,rotatePage:si,switchScrollMode:sa,switchViewMode:ca,zoom:fr}))}),kn},[et,$n]),ua=B.useCallback(function(At){return B.createElement("div",U({},At.attrs,{style:At.attrs&&At.attrs.style?At.attrs.style:{}}),At.children,At.subSlot&&ua(At.subSlot))},[]);return ua(Lo())},ea=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],mo=function(W){var he=W.defaultScale,Re=W.doc,Le=W.render,Be=W.scrollMode,Ve=W.viewMode,rt=B.useRef(),Ze=B.useState({pageSizes:[],scale:0}),Ie=Ze[0],tt=Ze[1];return B.useLayoutEffect(function(){var et=Array(Re.numPages).fill(0).map(function(Et,_t){return new Promise(function(bt,xt){Rt(Re,_t).then(function(kt){var Ct=kt.getViewport({scale:1});bt({pageHeight:Ct.height,pageWidth:Ct.width,rotation:Ct.rotation})})})});Promise.all(et).then(function(Et){var _t=rt.current;if(_t&&Et.length!==0){var bt=Et[0].pageWidth,xt=Et[0].pageHeight,kt=_t.parentElement,Ct=(kt.clientWidth-45)/bt,pn=(kt.clientHeight-45)/xt,Kt=Ct;switch(Be){case A.ScrollMode.Horizontal:Kt=Math.min(Ct,pn);break;case A.ScrollMode.Vertical:default:Kt=Ct}var Jt,rn,Ht=he?typeof he=="string"?ni(kt,xt,bt,he,Ve,Re.numPages):he:(Jt=Kt,(rn=ea.findIndex(function(on){return on>=Jt}))===-1||rn===0?Jt:ea[rn-1]);tt({pageSizes:Et,scale:Ht})}})},[Re.loadingTask.docId]),Ie.pageSizes.length===0||Ie.scale===0?B.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:rt},B.createElement(ve,null)):Le(Ie.pageSizes,Ie.scale)},Dr=function(){},ii=function(W){function he(Re,Le){var Be=W.call(this)||this;return Be.verifyPassword=Re,Be.passwordStatus=Le,Be}return ue(he,W),he}(Dr),go=function(W){var he=W.passwordStatus,Re=W.renderProtectedView,Le=W.verifyPassword,Be=W.onDocumentAskPassword,Ve=B.useContext(He).l10n,rt=B.useState(""),Ze=rt[0],Ie=rt[1],tt=B.useContext(ce).direction===A.TextDirection.RightToLeft,et=function(){return Le(Ze)};return B.useEffect(function(){Be&&Be({verifyPassword:Le})},[]),Re?Re({passwordStatus:he,verifyPassword:Le}):B.createElement("div",{className:"rpv-core__asking-password-wrapper"},B.createElement("div",{className:J({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":tt})},B.createElement("div",{className:"rpv-core__asking-password-message"},he===A.PasswordStatus.RequiredPassword&&Ve.core.askingPassword.requirePasswordToOpen,he===A.PasswordStatus.WrongPassword&&Ve.core.wrongPassword.tryAgain),B.createElement("div",{className:"rpv-core__asking-password-body"},B.createElement("div",{className:J({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!tt,"rpv-core__asking-password-input--rtl":tt})},B.createElement(de,{testId:"core__asking-password-input",type:"password",value:Ze,onChange:Ie,onKeyDown:function(Et){Et.key==="Enter"&&et()}})),B.createElement(ie,{onClick:et},Ve.core.askingPassword.submit))))},ta=function(W){function he(Re){var Le=W.call(this)||this;return Le.doc=Re,Le}return ue(he,W),he}(Dr),na=function(W){function he(Re){var Le=W.call(this)||this;return Le.error=Re,Le}return ue(he,W),he}(Dr),ai=function(W){function he(Re){var Le=W.call(this)||this;return Le.percentages=Re,Le}return ue(he,W),he}(Dr),vo=function(W){var he=W.characterMap,Re=W.file,Le=W.httpHeaders,Be=W.render,Ve=W.renderError,rt=W.renderLoader,Ze=W.renderProtectedView,Ie=W.transformGetDocumentParams,tt=W.withCredentials,et=W.onDocumentAskPassword,Et=B.useContext(ce).direction===A.TextDirection.RightToLeft,_t=B.useState(new ai(0)),bt=_t[0],xt=_t[1],kt=B.useRef(""),Ct=xe();return B.useEffect(function(){kt.current="",xt(new ai(0));var pn=new Y.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Kt=Object.assign({httpHeaders:Le,withCredentials:tt,worker:pn},typeof Re=="string"?{url:Re}:{data:Re},he?{cMapUrl:he.url,cMapPacked:he.isCompressed}:{}),Jt=Ie?Ie(Kt):Kt,rn=Y.getDocument(Jt);return rn.onPassword=function(Ht,on){switch(on){case Y.PasswordResponses.NEED_PASSWORD:Ct.current&&xt(new ii(Ht,A.PasswordStatus.RequiredPassword));break;case Y.PasswordResponses.INCORRECT_PASSWORD:Ct.current&&xt(new ii(Ht,A.PasswordStatus.WrongPassword))}},rn.onProgress=function(Ht){var on=Ht.total>0?Math.min(100,100*Ht.loaded/Ht.total):100;Ct.current&&kt.current===""&&xt(new ai(on))},rn.promise.then(function(Ht){kt.current=Ht.loadingTask.docId,Ct.current&&xt(new ta(Ht))},function(Ht){return Ct.current&&!pn.destroyed&&xt(new na({message:Ht.message||"Cannot load document",name:Ht.name}))}),function(){rn.destroy(),pn.destroy()}},[Re]),bt instanceof ii?B.createElement(go,{passwordStatus:bt.passwordStatus,renderProtectedView:Ze,verifyPassword:bt.verifyPassword,onDocumentAskPassword:et}):bt instanceof ta?Be(bt.doc):bt instanceof na?Ve?Ve(bt.error):B.createElement("div",{className:J({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Et})},B.createElement("div",{className:"rpv-core__doc-error-text"},bt.error.message)):B.createElement("div",{"data-testid":"core__doc-loading",className:J({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Et})},rt?rt(bt.percentages):B.createElement(ve,null))},bo=function(W,he){var Re=B.useMemo(function(){return W==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":W},[]),Le=B.useState(Re),Be=Le[0],Ve=Le[1],rt=Ne(Be);return B.useEffect(function(){if(W==="auto"){var Ze=window.matchMedia("(prefers-color-scheme: dark)"),Ie=function(tt){Ve(tt.matches?"dark":"light")};return Ze.addEventListener("change",Ie),function(){return Ze.removeEventListener("change",Ie)}}},[]),B.useEffect(function(){Be!==rt&&he&&he(Be)},[Be]),B.useEffect(function(){W!==Be&&Ve(W)},[W]),{currentTheme:Be,setCurrentTheme:Ve}},_o=function(W){return{startPage:W.startPage-3,endPage:W.endPage+3}};A.Button=function(W){var he=W.children,Re=W.testId,Le=W.onClick,Be=B.useContext(ce).direction===A.TextDirection.RightToLeft,Ve=Re?{"data-testid":Re}:{};return B.createElement("button",U({className:J({"rpv-core__button":!0,"rpv-core__button--rtl":Be}),type:"button",onClick:Le},Ve),he)},A.Icon=q,A.LazyRender=function(W){var he=W.attrs,Re=W.children,Le=W.testId,Be=B.useState(!1),Ve=Be[0],rt=Be[1],Ze=Le?U(U({},he),{"data-testid":Le}):he,Ie=Q({once:!0,onVisibilityChanged:function(tt){tt.isVisible&&rt(!0)}});return B.createElement("div",U({ref:Ie},Ze),Ve&&Re)},A.LocalizationContext=He,A.Menu=function(W){var he=W.children,Re=B.useRef(),Le=B.useRef([]),Be=B.useContext(ce).direction===A.TextDirection.RightToLeft,Ve=function(Ze){if(Re.current)switch(Ze.key){case"Tab":Ze.preventDefault();break;case"ArrowDown":Ze.preventDefault(),rt(function(Ie,tt){return tt+1});break;case"ArrowUp":Ze.preventDefault(),rt(function(Ie,tt){return tt-1});break;case"End":Ze.preventDefault(),rt(function(Ie,tt){return Ie.length-1});break;case"Home":Ze.preventDefault(),rt(function(Ie,tt){return 0})}},rt=function(Ze){if(Re.current){var Ie=Le.current,tt=Ie.findIndex(function(Et){return Et.getAttribute("tabindex")==="0"}),et=Math.min(Ie.length-1,Math.max(0,Ze(Ie,tt)));tt>=0&&tt<=Ie.length-1&&Ie[tt].setAttribute("tabindex","-1"),Ie[et].setAttribute("tabindex","0"),Ie[et].focus()}};return re(function(){var Ze=Re.current;if(Ze){var Ie=function(tt){var et=[];return tt.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Et){if(Et instanceof HTMLElement){var _t=Et.parentElement;(_t===tt||window.getComputedStyle(_t).display!=="none")&&et.push(Et)}}),et}(Ze);Le.current=Ie}},[]),re(function(){return document.addEventListener("keydown",Ve),function(){document.removeEventListener("keydown",Ve)}},[]),B.createElement("div",{ref:Re,"aria-orientation":"vertical",className:J({"rpv-core__menu":!0,"rpv-core__menu--rtl":Be}),role:"menu",tabIndex:0},he)},A.MenuDivider=function(){return B.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},A.MenuItem=function(W){var he=W.checked,Re=he!==void 0&&he,Le=W.children,Be=W.icon,Ve=Be===void 0?null:Be,rt=W.isDisabled,Ze=rt!==void 0&&rt,Ie=W.testId,tt=W.onClick,et=B.useContext(ce).direction===A.TextDirection.RightToLeft,Et=Ie?{"data-testid":Ie}:{};return B.createElement("button",U({className:J({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Ze,"rpv-core__menu-item--ltr":!et,"rpv-core__menu-item--rtl":et}),role:"menuitem",tabIndex:-1,type:"button",onClick:tt},Et),B.createElement("div",{className:J({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!et,"rpv-core__menu-item-icon--rtl":et})},Ve),B.createElement("div",{className:J({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!et,"rpv-core__menu-item-label--rtl":et})},Le),B.createElement("div",{className:J({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!et,"rpv-core__menu-item-check--rtl":et})},Re&&B.createElement(ee,null)))},A.MinimalButton=function(W){var he=W.ariaLabel,Re=he===void 0?"":he,Le=W.ariaKeyShortcuts,Be=Le===void 0?"":Le,Ve=W.children,rt=W.isDisabled,Ze=rt!==void 0&&rt,Ie=W.isSelected,tt=Ie!==void 0&&Ie,et=W.testId,Et=W.onClick,_t=B.useContext(ce).direction===A.TextDirection.RightToLeft,bt=et?{"data-testid":et}:{};return B.createElement("button",U({"aria-label":Re},Be&&{"aria-keyshortcuts":Be},Ze&&{"aria-disabled":!0},{className:J({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Ze,"rpv-core__minimal-button--rtl":_t,"rpv-core__minimal-button--selected":tt}),type:"button",onClick:Et},bt),Ve)},A.Modal=function(W){var he=W.ariaControlsSuffix,Re=W.closeOnClickOutside,Le=W.closeOnEscape,Be=W.content,Ve=W.isOpened,rt=Ve!==void 0&&Ve,Ze=W.target,Ie=he||"".concat(G());return B.createElement(Qe,{target:Ze?function(tt,et){return B.createElement("div",{"aria-expanded":et?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Ie)},Ze(tt,et))}:null,content:function(tt){return B.createElement(Ae,null,B.createElement(Pe,{ariaControlsSuffix:Ie,closeOnClickOutside:Re,closeOnEscape:Le,onToggle:tt},Be(tt)))},isOpened:rt})},A.Popover=function(W){var he=W.ariaHasPopup,Re=he===void 0?"dialog":he,Le=W.ariaControlsSuffix,Be=W.closeOnClickOutside,Ve=W.closeOnEscape,rt=W.content,Ze=W.lockScroll,Ie=Ze===void 0||Ze,tt=W.offset,et=W.position,Et=W.target,_t=Oe(!1),bt=_t.opened,xt=_t.toggle,kt=B.useRef(),Ct=B.useMemo(function(){return Le||"".concat(G())},[]);return B.createElement("div",{ref:kt,"aria-expanded":bt?"true":"false","aria-haspopup":Re,"aria-controls":"rpv-core__popver-body-".concat(Ct)},Et(xt,bt),bt&&B.createElement(B.Fragment,null,Ie&&B.createElement(nt,{closeOnEscape:Ve,onClose:xt}),B.createElement(Ke,{ariaControlsSuffix:Ct,closeOnClickOutside:Be,offset:tt,position:et,targetRef:kt,onClose:xt},rt(xt))))},A.PrimaryButton=ie,A.ProgressBar=function(W){var he=W.progress,Re=B.useContext(ce).direction===A.TextDirection.RightToLeft;return B.createElement("div",{className:J({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Re})},B.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(he,"%")}},he,"%"))},A.Separator=function(){return B.createElement("div",{className:"rpv-core__separator"})},A.Spinner=ve,A.Splitter=function(W){var he=W.constrain,Re=B.useContext(ce).direction===A.TextDirection.RightToLeft,Le=B.useRef(),Be=B.useRef(),Ve=B.useRef(),rt=B.useRef(0),Ze=B.useRef(0),Ie=B.useRef(0),tt=B.useRef(0),et={capture:!0},Et=function(bt){var xt=Le.current,kt=Be.current,Ct=Ve.current;if(xt&&kt&&Ct){var pn=tt.current,Kt=bt.clientX-rt.current,Jt=Ie.current+(Re?-Kt:Kt),rn=xt.parentElement.getBoundingClientRect().width,Ht=100*Jt/rn;if(xt.classList.add("rpv-core__splitter--resizing"),he){var on=rn-Jt-pn;if(!he({firstHalfPercentage:Ht,firstHalfSize:Jt,secondHalfPercentage:100*on/rn,secondHalfSize:on}))return}kt.style.width="".concat(Ht,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),kt.classList.add("rpv-core__splitter-sibling--resizing"),Ct.classList.add("rpv-core__splitter-sibling--resizing")}},_t=function(bt){var xt=Le.current,kt=Be.current,Ct=Ve.current;xt&&kt&&Ct&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),xt.classList.remove("rpv-core__splitter--resizing"),kt.classList.remove("rpv-core__splitter-sibling--resizing"),Ct.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Et,et),document.removeEventListener("mouseup",_t,et))};return B.useEffect(function(){var bt=Le.current;bt&&(tt.current=bt.getBoundingClientRect().width,Be.current=bt.previousElementSibling,Ve.current=bt.nextElementSibling)},[]),B.createElement("div",{ref:Le,className:"rpv-core__splitter",onMouseDown:function(bt){var xt=Be.current;xt&&(rt.current=bt.clientX,Ze.current=bt.clientY,Ie.current=xt.getBoundingClientRect().width,document.addEventListener("mousemove",Et,et),document.addEventListener("mouseup",_t,et))}})},A.TextBox=de,A.ThemeContext=ce,A.Tooltip=function(W){var he=W.ariaControlsSuffix,Re=W.content,Le=W.offset,Be=W.position,Ve=W.target,rt=Oe(!1),Ze=rt.opened,Ie=rt.toggle,tt=B.useRef(),et=B.useRef(),Et=B.useMemo(function(){return he||"".concat(G())},[]);pe(function(){tt.current&&document.activeElement&&tt.current.contains(document.activeElement)&&bt()});var _t=function(){Ie(A.ToggleStatus.Open)},bt=function(){Ie(A.ToggleStatus.Close)};return B.createElement(B.Fragment,null,B.createElement("div",{ref:tt,"aria-describedby":"rpv-core__tooltip-body-".concat(Et),onBlur:function(xt){xt.relatedTarget instanceof HTMLElement&&xt.currentTarget.parentElement&&xt.currentTarget.parentElement.contains(xt.relatedTarget)?et.current&&(et.current.style.display="none"):bt()},onFocus:_t,onMouseEnter:_t,onMouseLeave:bt},Ve),Ze&&B.createElement(pt,{ariaControlsSuffix:Et,contentRef:et,offset:Le,position:Be,targetRef:tt},Re()))},A.Viewer=function(W){var he=W.characterMap,Re=W.defaultScale,Le=W.enableSmoothScroll,Be=Le===void 0||Le,Ve=W.fileUrl,rt=W.httpHeaders,Ze=rt===void 0?{}:rt,Ie=W.initialPage,tt=Ie===void 0?0:Ie,et=W.pageLayout,Et=W.initialRotation,_t=Et===void 0?0:Et,bt=W.localization,xt=W.plugins,kt=xt===void 0?[]:xt,Ct=W.renderError,pn=W.renderLoader,Kt=W.renderPage,Jt=W.renderProtectedView,rn=W.scrollMode,Ht=rn===void 0?A.ScrollMode.Vertical:rn,on=W.setRenderRange,en=on===void 0?_o:on,yn=W.transformGetDocumentParams,En=W.theme,Sn=En===void 0?{direction:A.TextDirection.LeftToRight,theme:"light"}:En,wn=W.viewMode,Pn=wn===void 0?A.ViewMode.SinglePage:wn,zn=W.withCredentials,Ln=zn!==void 0&&zn,Hn=W.onDocumentAskPassword,On=W.onDocumentLoad,Bn=On===void 0?function(){}:On,jn=W.onPageChange,Nn=jn===void 0?function(){}:jn,Kn=W.onRotate,ir=Kn===void 0?function(){}:Kn,tr=W.onRotatePage,Gn=tr===void 0?function(){}:tr,Yn=W.onSwitchTheme,ar=Yn===void 0?function(){}:Yn,tn=W.onZoom,Qt=tn===void 0?function(){}:tn,Vt=B.useState({data:Ve,name:typeof Ve=="string"?Ve:"",shouldLoad:!1}),qt=Vt[0],Wt=Vt[1],sn=function(Fn,In){Wt({data:In,name:Fn,shouldLoad:!0})},ln=B.useState(!1),Xt=ln[0],Nt=ln[1],hn=Ne(qt);B.useEffect(function(){var Fn,In,Wn,Mn;Fn=hn.data,Mn=typeof(In=Ve),(Wn=typeof Fn)=="string"&&Mn==="string"&&Fn===In||Wn==="object"&&Mn==="object"&&Fn.length===In.length&&Fn.every(function(sr,gr){return sr===In[gr]})||Wt({data:Ve,name:typeof Ve=="string"?Ve:"",shouldLoad:Xt})},[Ve,Xt]);var mn=Q({onVisibilityChanged:function(Fn){Nt(Fn.isVisible),Fn.isVisible&&Wt(function(In){return Object.assign({},In,{shouldLoad:!0})})}}),Rn=typeof Sn=="string"?{direction:A.TextDirection.LeftToRight,theme:Sn}:Sn,xn=B.useState(bt||$e),qn=xn[0],Zn=xn[1],fn={l10n:qn,setL10n:Zn},Xn=Object.assign({},{direction:Rn.direction},bo(Rn.theme||"light",ar));return B.useEffect(function(){bt&&Zn(bt)},[bt]),B.createElement(He.Provider,{value:fn},B.createElement(ce.Provider,{value:Xn},B.createElement("div",{ref:mn,className:"rpv-core__viewer rpv-core__viewer--".concat(Xn.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},qt.shouldLoad&&B.createElement(vo,{characterMap:he,file:qt.data,httpHeaders:Ze,render:function(Fn){return B.createElement(mo,{defaultScale:Re,doc:Fn,render:function(In,Wn){return B.createElement(po,{currentFile:{data:qt.data,name:qt.name},defaultScale:Re,doc:Fn,enableSmoothScroll:Be,initialPage:tt,initialRotation:_t,initialScale:Wn,pageLayout:et,pageSizes:In,plugins:kt,renderPage:Kt,scrollMode:Ht,setRenderRange:en,viewMode:Pn,viewerState:{file:qt,fullScreenMode:A.FullScreenMode.Normal,pageIndex:-1,pageHeight:In[0].pageHeight,pageWidth:In[0].pageWidth,pagesRotation:new Map,rotation:_t,scale:Wn,scrollMode:Ht,viewMode:Pn},onDocumentLoad:Bn,onOpenFile:sn,onPageChange:Nn,onRotate:ir,onRotatePage:Gn,onZoom:Qt})},scrollMode:Ht,viewMode:Pn})},renderError:Ct,renderLoader:pn,renderProtectedView:Jt,transformGetDocumentParams:yn,withCredentials:Ln,onDocumentAskPassword:Hn}))))},A.Worker=function(W){var he=W.children,Re=W.workerUrl;return Y.GlobalWorkerOptions.workerSrc=Re,B.createElement(B.Fragment,null,he)},A.chunk=We,A.classNames=J,A.createStore=function(W){var he=W||{},Re={},Le=function(Ve,rt){var Ze;he=U(U({},he),((Ze={})[Ve]=rt,Ze)),(Re[Ve]||[]).forEach(function(Ie){return Ie(he[Ve])})},Be=function(Ve){return he[Ve]};return{subscribe:function(Ve,rt){Re[Ve]=(Re[Ve]||[]).concat(rt)},unsubscribe:function(Ve,rt){Re[Ve]=(Re[Ve]||[]).filter(function(Ze){return Ze!==rt})},update:function(Ve,rt){Le(Ve,rt)},updateCurrentValue:function(Ve,rt){var Ze=Be(Ve);Ze!==void 0&&Le(Ve,rt(Ze))},get:function(Ve){return Be(Ve)}}},A.getDestination=zt,A.getPage=Rt,A.isFullScreenEnabled=K,A.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},A.useDebounceCallback=De,A.useIntersectionObserver=Q,A.useIsMounted=xe,A.useIsomorphicLayoutEffect=re,A.usePrevious=Ne,A.useRenderQueue=Se})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$h.exports=core_min;var libExports$h=lib$h.exports,lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$e=libExports$h;function t$e(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$e=t$e(reactExports),a$e=function(A){var $=A.files,H=n$e.useRef(),R=n$e.useContext(e$e.LocalizationContext).l10n,O=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,B=n$e.useRef([]),Y=R&&R.attachment?R.attachment.clickToDownload:"Click to download",me=function(ue){var le=H.current,U=[].slice.call(le.getElementsByClassName("rpv-attachment__item"));if(U.length!==0){U.forEach(function(J){return J.setAttribute("tabindex","-1")});var be=document.activeElement,ce=U[Math.min(U.length-1,Math.max(0,ue(U,be)))];ce.setAttribute("tabindex","0"),ce.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var ue=H.current;if(ue){var le=[].slice.call(ue.getElementsByClassName("rpv-attachment__item"));if(B.current=le,le.length>0){var U=le[0];U.focus(),U.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":O}),ref:H,tabIndex:-1,onKeyDown:function(ue){switch(ue.key){case"ArrowDown":ue.preventDefault(),me(function(le,U){return le.indexOf(U)+1});break;case"ArrowUp":ue.preventDefault(),me(function(le,U){return le.indexOf(U)-1});break;case"End":ue.preventDefault(),me(function(le,U){return le.length-1});break;case"Home":ue.preventDefault(),me(function(le,U){return 0})}}},$.map(function(ue){return n$e.createElement("button",{className:"rpv-attachment__item",key:ue.fileName,tabIndex:-1,title:Y,type:"button",onClick:function(){return le=ue.fileName,U=ue.data,be=typeof U=="string"?"":URL.createObjectURL(new Blob([U],{type:""})),(ce=document.createElement("a")).style.display="none",ce.href=be||le,ce.setAttribute("download",function(J){var re=J.split("/").pop();return re?re.split("#")[0].split("?")[0]:J}(le)),document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),void(be&&URL.revokeObjectURL(be));var le,U,be,ce}},ue.fileName)}))},r$e=function(A){var $=A.doc,H=n$e.useContext(e$e.LocalizationContext).l10n,R=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,O=H&&H.attachment?H.attachment.noAttachment:"There is no attachment",B=n$e.useState({files:[],isLoaded:!1}),Y=B[0],me=B[1];return n$e.useEffect(function(){$.getAttachments().then(function(ue){var le=ue?Object.keys(ue).map(function(U){return{data:ue[U].content,fileName:ue[U].filename}}):[];me({files:le,isLoaded:!0})})},[$]),Y.isLoaded?Y.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":R})},O):n$e.createElement(a$e,{files:Y.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(A){var $=A.store,H=n$e.useState($.get("doc")),R=H[0],O=H[1],B=function(Y){O(Y)};return n$e.useEffect(function(){return $.subscribe("doc",B),function(){$.unsubscribe("doc",B)}},[]),R?n$e.createElement(r$e,{doc:R}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var A=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function($){A.update("doc",$.doc)},Attachments:function(){return n$e.createElement(c$e,{store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$f.exports=attachment_min;var libExports$g=lib$f.exports,lib$e={exports:{}},bookmark_min={},e$d=libExports$h;function t$d(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$d,o$d=t$d(reactExports),n$d=function(){return n$d=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$d=function(A){var $=A.bookmark,H=A.depth,R=A.doc,O=A.index,B=A.isBookmarkExpanded,Y=A.numberOfSiblings,me=A.pathFromRoot,ue=A.renderBookmarkItem,le=A.store,U=me?"".concat(me,".").concat(O):"".concat(O),be=o$d.useMemo(function(){return function(oe){var Ee=oe.count,K=oe.items;if(Ee>=0)return!1;var ge=K.length;if(ge===0)return!1;for(var Ce=K.concat([]);Ce.length>0;){var De=Ce.shift(),xe=De.items;De.count&&xe&&De.count>0&&xe.length>0&&(ge+=xe.length,Ce=Ce.concat(xe))}return Math.abs(Ee)===ge}($)},[$]),ce=le.get("bookmarkExpandedMap"),J=B?B({bookmark:$,doc:R,depth:H,index:O}):ce.has(U)?ce.get(U):!be,re=o$d.useState(J),Q=re[0],q=re[1],ee=$.items&&$.items.length>0,ie=function(){var oe=!Q;le.updateCurrentValue("bookmarkExpandedMap",function(Ee){return Ee.set(U,oe)}),q(oe)},ve=function(){var oe=$.dest,Ee=le.get("jumpToDestination");e$d.getDestination(R,oe).then(function(K){Ee&&Ee(n$d({label:$.title},K))})},de=function(){ee&&$.dest&&ve()},te=function(){!ee&&$.dest&&ve()},se=function(oe,Ee){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*H,"rem")},onClick:oe},Ee)},ne=function(oe,Ee){return ee?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(H,"-").concat(O),onClick:ie},Q?oe:Ee):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},ae=function(oe){return $.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:$.url,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":""},$.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":$.title,onClick:oe},$.title)};return o$d.createElement("li",{"aria-expanded":Q?"true":"false","aria-label":$.title,"aria-level":H+1,"aria-posinset":O+1,"aria-setsize":Y,role:"treeitem",tabIndex:-1},ue?ue({bookmark:$,depth:H,hasSubItems:ee,index:O,isExpanded:Q,path:U,defaultRenderItem:se,defaultRenderTitle:ae,defaultRenderToggle:ne,onClickItem:te,onClickTitle:de,onToggleSubItems:ie}):se(te,o$d.createElement(o$d.Fragment,null,ne(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),ae(de))),ee&&Q&&o$d.createElement(m$9,{bookmarks:$.items,depth:H+1,doc:R,isBookmarkExpanded:B,isRoot:!1,pathFromRoot:U,renderBookmarkItem:ue,store:le}))},m$9=function(A){var $=A.bookmarks,H=A.depth,R=H===void 0?0:H,O=A.doc,B=A.isBookmarkExpanded,Y=A.isRoot,me=A.pathFromRoot,ue=A.renderBookmarkItem,le=A.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:Y?"tree":"group",tabIndex:-1},$.map(function(U,be){return o$d.createElement(c$d,{bookmark:U,depth:R,doc:O,index:be,isBookmarkExpanded:B,key:be,numberOfSiblings:$.length,pathFromRoot:me,renderBookmarkItem:ue,store:le})}))};(function(A){A[A.Collapse=0]="Collapse",A[A.Expand=1]="Expand"})(r$d||(r$d={}));var l$d=function(A){var $=A.bookmarks,H=A.doc,R=A.isBookmarkExpanded,O=A.renderBookmarkItem,B=A.store,Y=o$d.useRef(),me=function(be){var ce=Y.current;if(ce&&be.target instanceof HTMLElement&&ce.contains(be.target))switch(be.key){case"ArrowDown":be.preventDefault(),le(function(J,re){return J.indexOf(re)+1});break;case"ArrowLeft":be.preventDefault(),U(r$d.Collapse);break;case"ArrowRight":be.preventDefault(),U(r$d.Expand);break;case"ArrowUp":be.preventDefault,le(function(J,re){return J.indexOf(re)-1});break;case"End":be.preventDefault(),le(function(J,re){return J.length-1});break;case" ":case"Enter":case"Space":be.preventDefault(),ue();break;case"Home":be.preventDefault(),le(function(J,re){return 0})}},ue=function(){var be=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");be&&be.click()},le=function(be){var ce=Y.current,J=[].slice.call(ce.getElementsByClassName("rpv-bookmark__item"));if(J.length!==0){var re=document.activeElement,Q=J[Math.min(J.length-1,Math.max(0,be(J,re)))];re.setAttribute("tabindex","-1"),Q.setAttribute("tabindex","0"),Q.focus()}},U=function(be){var ce=Y.current;if([].slice.call(ce.getElementsByClassName("rpv-bookmark__item")).length!==0){var J=document.activeElement.closest(".rpv-bookmark__item"),re=be===r$d.Collapse?"true":"false";if(J&&J.parentElement.getAttribute("aria-expanded")===re){var Q=J.querySelector(".rpv-bookmark__toggle");Q&&Q.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",me),function(){document.removeEventListener("keydown",me)}},[]),o$d.useEffect(function(){var be=Y.current;if(be){var ce=[].slice.call(be.getElementsByClassName("rpv-bookmark__item"));ce.length>0&&(ce[0].focus(),ce[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:Y},o$d.createElement(m$9,{bookmarks:$,depth:0,doc:H,isBookmarkExpanded:R,isRoot:!0,pathFromRoot:"",renderBookmarkItem:O,store:B}))},s$9=function(A){var $=A.doc,H=A.isBookmarkExpanded,R=A.renderBookmarkItem,O=A.store,B=o$d.useContext(e$d.LocalizationContext).l10n,Y=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,me=o$d.useState({isLoaded:!1,items:[]}),ue=me[0],le=me[1];return o$d.useEffect(function(){le({isLoaded:!1,items:[]}),$.getOutline().then(function(U){le({isLoaded:!0,items:U||[]})})},[$]),ue.isLoaded?ue.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":Y})},B&&B.bookmark?B.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":Y})},o$d.createElement(l$d,{bookmarks:ue.items,doc:$,isBookmarkExpanded:H,renderBookmarkItem:R,store:O})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function(A){var $=A.isBookmarkExpanded,H=A.renderBookmarkItem,R=A.store,O=o$d.useState(R.get("doc")),B=O[0],Y=O[1],me=function(ue){Y(ue)};return o$d.useEffect(function(){return R.subscribe("doc",me),function(){R.unsubscribe("doc",me)}},[]),B?o$d.createElement(s$9,{doc:B,isBookmarkExpanded:$,renderBookmarkItem:H,store:R}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var A=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($){A.update("jumpToDestination",$.jumpToDestination)},onDocumentLoad:function($){A.update("doc",$.doc)},Bookmarks:function($){return o$d.createElement(u$d,{isBookmarkExpanded:$==null?void 0:$.isBookmarkExpanded,renderBookmarkItem:$==null?void 0:$.renderBookmarkItem,store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$e.exports=bookmark_min;var libExports$f=lib$e.exports,lib$d={exports:{}},thumbnail_min={};(function(A){var $=libExports$h;function H(Q){var q=Object.create(null);return Q&&Object.keys(Q).forEach(function(ee){if(ee!=="default"){var ie=Object.getOwnPropertyDescriptor(Q,ee);Object.defineProperty(q,ee,ie.get?ie:{enumerable:!0,get:function(){return Q[ee]}})}}),q.default=Q,Object.freeze(q)}var R,O=H(reactExports);A.ThumbnailDirection=void 0,(R=A.ThumbnailDirection||(A.ThumbnailDirection={})).Horizontal="Horizontal",R.Vertical="Vertical";var B=function(){return B=Object.assign||function(Q){for(var q,ee=1,ie=arguments.length;ee<ie;ee++)for(var ve in q=arguments[ee])Object.prototype.hasOwnProperty.call(q,ve)&&(Q[ve]=q[ve]);return Q},B.apply(this,arguments)},Y=function(Q){var q=Q.doc,ee=Q.getPageIndex,ie=Q.renderSpinner,ve=Q.store,de=Q.width,te=q.numPages,se=ee?ee({numPages:te}):0,ne=Math.max(0,Math.min(se,te-1)),ae=ve.get("pagesRotation")||new Map,oe=ae.has(ne)?ae.get(ne):0,Ee=O.useState(""),K=Ee[0],ge=Ee[1],Ce=$.useIsMounted(),De=O.useRef(),xe=O.useState(ve.get("rotation")||0),Ne=xe[0],Fe=xe[1],qe=O.useState(oe),Se=qe[0],$e=qe[1],He=O.useState(!1),_e=He[0],G=He[1],X=function(Ae){var ke=Ae.has(ne)?Ae.get(ne):0;$e(ke)},pe=function(Ae){Fe(Ae)},Pe=$.useIntersectionObserver({onVisibilityChanged:function(Ae){G(Ae.isVisible)}});return O.useEffect(function(){if(_e){var Ae=Pe.current;Ae&&(ge(""),$.getPage(q,ne).then(function(ke){var Oe=ke.getViewport({scale:1}),Qe=(Oe.rotation+Ne+Se)%360,ot=Math.abs(Ne+Se)%180==0,st=ot?Oe.width:Oe.height,ut=ot?Oe.height:Oe.width,dt=document.createElement("canvas"),mt=dt.getContext("2d",{alpha:!1}),Ge=Ae.clientWidth,Xe=Ae.clientHeight,fe=de?de/st:Math.min(Ge/st,Xe/ut),ye=fe*st,je=fe*ut;dt.height=je,dt.width=ye,dt.style.opacity="0";var Ke=ke.getViewport({rotation:Qe,scale:fe});De.current=ke.render({canvasContext:mt,viewport:Ke}),De.current.promise.then(function(){Ce.current&&ge(dt.toDataURL()),dt.width=0,dt.height=0},function(){})}))}},[Se,_e]),O.useEffect(function(){return ve.subscribe("pagesRotation",X),ve.subscribe("rotation",pe),function(){ve.unsubscribe("pagesRotation",X),ve.unsubscribe("rotation",pe)}},[]),O.useEffect(function(){return function(){var Ae;(Ae=De.current)===null||Ae===void 0||Ae.cancel()}},[]),O.createElement("div",{ref:Pe,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},K?O.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:K}):O.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},ie?ie():O.createElement($.Spinner,null)))},me=function(Q){var q=Q.getPageIndex,ee=Q.renderSpinner,ie=Q.store,ve=Q.width,de=O.useState(ie.get("doc")),te=de[0],se=de[1],ne=function(ae){se(ae)};return O.useEffect(function(){return ie.subscribe("doc",ne),function(){ie.unsubscribe("doc",ne)}},[]),O.createElement("div",{className:"rpv-thumbnail__cover"},te?O.createElement(Y,{doc:te,getPageIndex:q,renderSpinner:ee,store:ie,width:ve}):O.createElement("div",{className:"rpv-thumbnail__cover-loader"},ee?ee():O.createElement($.Spinner,null)))},ue=function(){return O.createElement($.Spinner,null)},le=O.createContext({renderSpinner:ue}),U=function(Q){var q=Q.children,ee=Q.doc,ie=$.useIsMounted(),ve=O.useState({loading:!0,labels:[]}),de=ve[0],te=ve[1];return O.useEffect(function(){ee.getPageLabels().then(function(se){ie.current&&te({loading:!1,labels:se||[]})})},[ee.loadingTask.docId]),de.loading?O.createElement(O.Fragment,null):q(de.labels)},be=function(Q){var q=Q.page,ee=Q.pageHeight,ie=Q.pageIndex,ve=Q.pageWidth,de=Q.rotation,te=Q.thumbnailHeight,se=Q.thumbnailWidth,ne=Q.onRenderCompleted,ae=O.useContext($.LocalizationContext).l10n,oe=O.useRef(),Ee=O.useState(""),K=Ee[0],ge=Ee[1],Ce=ae&&ae.thumbnail?ae.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return O.useEffect(function(){var De=oe.current;De&&De.cancel();var xe=document.createElement("canvas"),Ne=xe.getContext("2d",{alpha:!1}),Fe=se,qe=Fe/(ve/ee),Se=Fe/ve;xe.height=qe,xe.width=Fe,xe.style.height="".concat(qe,"px"),xe.style.width="".concat(Fe,"px");var $e=q.getViewport({rotation:de,scale:Se});return oe.current=q.render({canvasContext:Ne,viewport:$e}),oe.current.promise.then(function(){ge(xe.toDataURL()),ne(ie)},function(){ne(ie)}),function(){var He;(He=oe.current)===null||He===void 0||He.cancel()}},[de]),K?O.createElement("img",{"aria-label":Ce.replace("{{pageIndex}}","".concat(ie+1)),src:K,height:"".concat(te,"px"),width:"".concat(se,"px")}):O.useContext(le).renderSpinner()},ce=function(Q){var q=Q.doc,ee=Q.pageHeight,ie=Q.pageIndex,ve=Q.pageRotation,de=Q.pageWidth,te=Q.rotation,se=Q.shouldRender,ne=Q.thumbnailWidth,ae=Q.onRenderCompleted,oe=Q.onVisibilityChanged,Ee=$.useIsMounted(),K=O.useState({height:ee,page:null,viewportRotation:0,width:de}),ge=K[0],Ce=K[1],De=ge.page,xe=ge.height,Ne=ge.width,Fe=Ne/xe,qe=Math.abs(te+ve)%180==0,Se=qe?ne:ne/Fe,$e=qe?ne/Fe:ne;O.useEffect(function(){se&&$.getPage(q,ie).then(function(G){var X=G.getViewport({scale:1});Ee.current&&Ce({height:X.height,page:G,viewportRotation:X.rotation,width:X.width})})},[se]);var He=(ge.viewportRotation+te+ve)%360,_e=$.useIntersectionObserver({onVisibilityChanged:function(G){oe(ie,G)}});return O.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(ie),ref:_e,style:{height:"".concat($e,"px"),width:"".concat(Se,"px")}},De?O.createElement(be,{page:De,pageHeight:qe?xe:Ne,pageIndex:ie,pageWidth:qe?Ne:xe,rotation:He,thumbnailHeight:$e,thumbnailWidth:Se,onRenderCompleted:ae}):O.useContext(le).renderSpinner())},J=function(Q){var q=Q.currentPage,ee=Q.doc,ie=Q.labels,ve=Q.pagesRotation,de=Q.pageHeight,te=Q.pageWidth,se=Q.renderCurrentPageLabel,ne=Q.renderThumbnailItem,ae=Q.rotatedPage,oe=Q.rotation,Ee=Q.thumbnailDirection,K=Q.thumbnailWidth,ge=Q.viewMode,Ce=Q.onJumpToPage,De=Q.onRotatePage,xe=ee.numPages,Ne=ee.loadingTask.docId,Fe=O.useRef(null),qe=O.useRef([]),Se=O.useState(q),$e=Se[0],He=Se[1],_e=O.useContext($.ThemeContext).direction===$.TextDirection.RightToLeft,G=O.useState(-1),X=G[0],pe=G[1],Pe=$.useIsMounted(),Ae=$.usePrevious(ge),ke=O.useRef(!1),Oe=$.useRenderQueue({doc:ee}),Qe=O.useMemo(function(){return Array(xe).fill(0).map(function(fe,ye){return ye})},[Ne]),ot=O.useMemo(function(){switch(ge){case $.ViewMode.DualPage:return $.chunk(Qe,2);case $.ViewMode.DualPageWithCover:return[[Qe[0]]].concat($.chunk(Qe.slice(1),2));case $.ViewMode.SinglePage:default:return $.chunk(Qe,1)}},[Ne,ge]),st=function(){if(Fe.current){var fe=qe.current,ye=$e+1;ye<fe.length&&($e>=0&&fe[$e].setAttribute("tabindex","-1"),He(ye))}},ut=function(){if(Fe.current){var fe=qe.current,ye=$e-1;ye>=0&&($e>=0&&fe[$e].setAttribute("tabindex","-1"),He(ye))}},dt=function(){$e>=0&&$e<xe&&Ce($e)};$.useIsomorphicLayoutEffect(function(){var fe=Fe.current;fe&&(qe.current=Array.from(fe.querySelectorAll(".rpv-thumbnail__item")))},[ge]),O.useEffect(function(){var fe=qe.current;if(!(fe.length===0||$e<0||$e>fe.length)){var ye=fe[$e];ye.setAttribute("tabindex","0"),ye.focus()}},[$e]),$.useIsomorphicLayoutEffect(function(){var fe=Fe.current,ye=qe.current;if(!(!fe||ye.length===0||q<0||q>ye.length)){var je=ye[q].closest(".rpv-thumbnail__items");je&&(Ee===A.ThumbnailDirection.Vertical?function(Ke,nt){var pt=Ke.getBoundingClientRect().top-nt.getBoundingClientRect().top,ht=Ke.clientHeight,We=nt.clientHeight;pt<0?nt.scrollTop+=pt:pt+ht<=We||(nt.scrollTop+=pt+ht-We)}(je,fe):function(Ke,nt){var pt=Ke.getBoundingClientRect().left-nt.getBoundingClientRect().left,ht=Ke.clientWidth,We=nt.clientWidth;pt<0?nt.scrollLeft+=pt:pt+ht<=We||(nt.scrollLeft+=pt+ht-We)}(je,fe))}},[q,Ee]);var mt=O.useCallback(function(fe){Pe.current&&(Oe.markRendered(fe),ke.current=!1,Xe())},[Ne]),Ge=O.useCallback(function(fe,ye){ye.isVisible?Oe.setVisibility(fe,ye.ratio):Oe.setOutOfRange(fe),Xe()},[Ne]),Xe=O.useCallback(function(){if(!ke.current){var fe=Oe.getHighestPriorityPage();fe>-1&&(Oe.markRendering(fe),ke.current=!0,pe(fe))}},[Ne]);return O.useEffect(function(){ae>=0&&(Oe.markRendering(ae),ke.current=!0,pe(ae))},[Ne,ae]),$.useIsomorphicLayoutEffect(function(){Ae!==ge&&(Oe.markNotRendered(),Xe())},[ge]),O.createElement("div",{ref:Fe,"data-testid":"thumbnail__list",className:$.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":Ee===A.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":_e,"rpv-thumbnail__list--vertical":Ee===A.ThumbnailDirection.Vertical}),onKeyDown:function(fe){switch(fe.key){case"ArrowDown":st();break;case"ArrowUp":ut();break;case"Enter":dt()}}},ot.map(function(fe,ye){var je=!1;switch(ge){case $.ViewMode.DualPage:je=q===2*ye||q===2*ye+1;break;case $.ViewMode.DualPageWithCover:je=q===0&&ye===0||ye>0&&q===2*ye-1||ye>0&&q===2*ye;break;case $.ViewMode.SinglePage:default:je=q===ye}return O.createElement("div",{className:$.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":ge===$.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":ge===$.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":ge===$.ViewMode.SinglePage,"rpv-thumbnail__items--selected":je}),key:"".concat(ye,"___").concat(ge)},fe.map(function(Ke){return function(nt){var pt=ge===$.ViewMode.DualPageWithCover&&(nt===0||xe%2==0&&nt===xe-1),ht="".concat(ee.loadingTask.docId,"___").concat(nt),We=ie.length===xe?ie[nt]:"".concat(nt+1),wt=se?se({currentPage:q,pageIndex:nt,numPages:xe,pageLabel:We}):We,St=ve.has(nt)?ve.get(nt):0,Yt=O.createElement(ce,{doc:ee,pageHeight:de,pageIndex:nt,pageRotation:St,pageWidth:te,rotation:oe,shouldRender:X===nt,thumbnailWidth:K,onRenderCompleted:mt,onVisibilityChanged:Ge});return ne?ne({currentPage:q,key:ht,numPages:xe,pageIndex:nt,renderPageLabel:O.createElement(O.Fragment,null,wt),renderPageThumbnail:Yt,onJumpToPage:function(){return Ce(nt)},onRotatePage:function(Ut){return De(nt,Ut)}}):O.createElement("div",{key:ht},O.createElement("div",{className:$.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":ge===$.ViewMode.DualPage&&nt%2==0,"rpv-thumbnail__item--dual-odd":ge===$.ViewMode.DualPage&&nt%2==1,"rpv-thumbnail__item--dual-cover":pt,"rpv-thumbnail__item--dual-cover-even":ge===$.ViewMode.DualPageWithCover&&!pt&&nt%2==0,"rpv-thumbnail__item--dual-cover-odd":ge===$.ViewMode.DualPageWithCover&&!pt&&nt%2==1,"rpv-thumbnail__item--single":ge===$.ViewMode.SinglePage,"rpv-thumbnail__item--selected":q===nt}),role:"button",tabIndex:q===nt?0:-1,onClick:function(){return Ce(nt)}},Yt),O.createElement("div",{"data-testid":"thumbnail__label-".concat(nt),className:"rpv-thumbnail__label"},wt))}(Ke)}))}))},re=function(Q){var q=Q.renderCurrentPageLabel,ee=Q.renderThumbnailItem,ie=Q.store,ve=Q.thumbnailDirection,de=Q.thumbnailWidth,te=O.useState(ie.get("doc")),se=te[0],ne=te[1],ae=O.useState(ie.get("currentPage")||0),oe=ae[0],Ee=ae[1],K=O.useState(ie.get("pageHeight")||0),ge=K[0],Ce=K[1],De=O.useState(ie.get("pageWidth")||0),xe=De[0],Ne=De[1],Fe=O.useState(ie.get("rotation")||0),qe=Fe[0],Se=Fe[1],$e=O.useState(ie.get("pagesRotation")||new Map),He=$e[0],_e=$e[1],G=O.useState(ie.get("rotatedPage")||-1),X=G[0],pe=G[1],Pe=O.useState(ie.get("viewMode")),Ae=Pe[0],ke=Pe[1],Oe=function(ye){Ee(ye)},Qe=function(ye){ne(ye)},ot=function(ye){Ce(ye)},st=function(ye){Ne(ye)},ut=function(ye){Se(ye)},dt=function(ye){_e(ye)},mt=function(ye){pe(ye)},Ge=function(ye){ke(ye)},Xe=function(ye){var je=ie.get("jumpToPage");je&&je(ye)},fe=function(ye,je){ie.get("rotatePage")(ye,je)};return O.useEffect(function(){return ie.subscribe("doc",Qe),ie.subscribe("pageHeight",ot),ie.subscribe("pageWidth",st),ie.subscribe("rotatedPage",mt),ie.subscribe("rotation",ut),ie.subscribe("pagesRotation",dt),ie.subscribe("viewMode",Ge),function(){ie.unsubscribe("doc",Qe),ie.unsubscribe("pageHeight",ot),ie.unsubscribe("pageWidth",st),ie.unsubscribe("rotatedPage",mt),ie.unsubscribe("rotation",ut),ie.unsubscribe("pagesRotation",dt),ie.unsubscribe("viewMode",Ge)}},[]),$.useIsomorphicLayoutEffect(function(){return ie.subscribe("currentPage",Oe),function(){ie.unsubscribe("currentPage",Oe)}},[]),se?O.createElement($.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},O.createElement(U,{doc:se},function(ye){return O.createElement(J,{currentPage:oe,doc:se,labels:ye,pagesRotation:He,pageHeight:ge,pageWidth:xe,renderCurrentPageLabel:q,renderThumbnailItem:ee,rotatedPage:X,rotation:qe,thumbnailDirection:ve,thumbnailWidth:de,viewMode:Ae,onJumpToPage:Xe,onRotatePage:fe})})):O.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},O.useContext(le).renderSpinner())};A.thumbnailPlugin=function(Q){var q=O.useMemo(function(){return $.createStore({rotatePage:function(){},viewMode:$.ViewMode.SinglePage})},[]),ee=O.useState(""),ie=ee[0],ve=ee[1];return{install:function(de){q.update("jumpToPage",de.jumpToPage),q.update("rotatePage",de.rotatePage)},onDocumentLoad:function(de){ve(de.doc.loadingTask.docId),q.update("doc",de.doc)},onViewerStateChange:function(de){return q.update("currentPage",de.pageIndex),q.update("pagesRotation",de.pagesRotation),q.update("pageHeight",de.pageHeight),q.update("pageWidth",de.pageWidth),q.update("rotation",de.rotation),q.update("rotatedPage",de.rotatedPage),q.update("viewMode",de.viewMode),de},Cover:function(de){return O.createElement(me,B({},de,{renderSpinner:Q==null?void 0:Q.renderSpinner,store:q}))},Thumbnails:O.useCallback(function(de){return O.createElement(le.Provider,{value:{renderSpinner:(Q==null?void 0:Q.renderSpinner)||ue}},O.createElement(re,{renderCurrentPageLabel:Q==null?void 0:Q.renderCurrentPageLabel,renderThumbnailItem:de==null?void 0:de.renderThumbnailItem,store:q,thumbnailDirection:(de==null?void 0:de.thumbnailDirection)||A.ThumbnailDirection.Vertical,thumbnailWidth:(Q==null?void 0:Q.thumbnailWidth)||100}))},[ie])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$d.exports=thumbnail_min;var libExports$e=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function(A){var $=libExports$h;function H(re){var Q=Object.create(null);return re&&Object.keys(re).forEach(function(q){if(q!=="default"){var ee=Object.getOwnPropertyDescriptor(re,q);Object.defineProperty(Q,q,ee.get?ee:{enumerable:!0,get:function(){return re[q]}})}}),Q.default=re,Object.freeze(Q)}var R,O=H(reactExports),B=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},Y=function(){return Y=Object.assign||function(re){for(var Q,q=1,ee=arguments.length;q<ee;q++)for(var ie in Q=arguments[q])Object.prototype.hasOwnProperty.call(Q,ie)&&(re[ie]=Q[ie]);return re},Y.apply(this,arguments)};A.SelectionMode=void 0,(R=A.SelectionMode||(A.SelectionMode={})).Hand="Hand",R.Text="Text";var me=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},ue=function(re){var Q=re.children,q=re.mode,ee=re.onClick,ie=O.useContext($.LocalizationContext).l10n,ve="",de=O.createElement(me,null);switch(q){case A.SelectionMode.Hand:ve=ie&&ie.selectionMode?ie.selectionMode.handTool:"Hand tool",de=O.createElement(B,null);break;case A.SelectionMode.Text:default:ve=ie&&ie.selectionMode?ie.selectionMode.textSelectionTool:"Text selection tool",de=O.createElement(me,null)}return Q({icon:de,label:ve,onClick:ee})},le={left:0,top:8},U=function(re){var Q=re.isSelected,q=re.mode,ee=re.onClick,ie="";switch(q){case A.SelectionMode.Hand:ie="selection-mode__hand-button";break;case A.SelectionMode.Text:default:ie="selection-mode__text-button"}return O.createElement(ue,{mode:q,onClick:ee},function(ve){return O.createElement($.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:$.Position.BottomCenter,target:O.createElement($.MinimalButton,{ariaLabel:ve.label,isSelected:Q,testId:ie,onClick:ve.onClick},ve.icon),content:function(){return ve.label},offset:le})})},be=function(re){var Q=re.children,q=re.mode,ee=re.store,ie=q===ee.get("selectionMode");return(Q||function(ve){return O.createElement(U,{isSelected:ie,mode:ve.mode,onClick:ve.onClick})})({isSelected:ie,mode:q,onClick:function(){return ee.update("selectionMode",q)}})},ce=function(re){var Q=re.isSelected,q=re.mode,ee=re.onClick,ie="";switch(q){case A.SelectionMode.Hand:ie="selection-mode__hand-menu";break;case A.SelectionMode.Text:default:ie="selection-mode__text-menu"}return O.createElement(ue,{mode:q,onClick:ee},function(ve){return O.createElement($.MenuItem,{checked:Q,icon:ve.icon,testId:ie,onClick:ve.onClick},ve.label)})},J=function(re){var Q=re.store,q=O.useRef(null),ee=O.useState(A.SelectionMode.Text),ie=ee[0],ve=ee[1],de=O.useRef({top:0,left:0,x:0,y:0}),te=function(Ee){var K=q.current;K&&(K.scrollTop=de.current.top-(Ee.clientY-de.current.y),K.scrollLeft=de.current.left-(Ee.clientX-de.current.x))},se=function(){var Ee=q.current;Ee&&(Ee.classList.add("rpv-selection-mode__grab"),Ee.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",se))},ne=function(Ee){var K=q.current;K&&ie!==A.SelectionMode.Text&&(K.classList.remove("rpv-selection-mode__grab"),K.classList.add("rpv-selection-mode__grabbing"),Ee.preventDefault(),Ee.stopPropagation(),de.current={left:K.scrollLeft,top:K.scrollTop,x:Ee.clientX,y:Ee.clientY},document.addEventListener("mousemove",te),document.addEventListener("mouseup",se))},ae=function(Ee){q.current=Ee()},oe=function(Ee){ve(Ee)};return O.useEffect(function(){var Ee=q.current;if(Ee)return ie===A.SelectionMode.Hand?Ee.classList.add("rpv-selection-mode__grab"):Ee.classList.remove("rpv-selection-mode__grab"),Ee.addEventListener("mousedown",ne),function(){Ee.removeEventListener("mousedown",ne)}},[ie]),O.useEffect(function(){return Q.subscribe("getPagesContainer",ae),Q.subscribe("selectionMode",oe),function(){Q.unsubscribe("getPagesContainer",ae),Q.unsubscribe("selectionMode",oe)}},[]),O.createElement(O.Fragment,null)};A.HandToolIcon=B,A.TextSelectionIcon=me,A.selectionModePlugin=function(re){var Q=O.useMemo(function(){return $.createStore()},[]),q=function(ee){return O.createElement(be,Y({},ee,{store:Q}))};return{install:function(ee){Q.update("selectionMode",re&&re.selectionMode?re.selectionMode:A.SelectionMode.Text),Q.update("getPagesContainer",ee.getPagesContainer)},renderViewer:function(ee){var ie=ee.slot;return ie.subSlot&&ie.subSlot.children&&(ie.subSlot.children=O.createElement(O.Fragment,null,O.createElement(J,{store:Q}),ie.subSlot.children)),ie},SwitchSelectionMode:q,SwitchSelectionModeButton:function(ee){return O.createElement(q,{mode:ee.mode},function(ie){return O.createElement(U,{isSelected:ie.isSelected,mode:ie.mode,onClick:function(){ie.onClick()}})})},SwitchSelectionModeMenuItem:function(ee){return O.createElement(q,{mode:ee.mode},function(ie){return O.createElement(ce,{isSelected:ie.isSelected,mode:ie.mode,onClick:function(){ie.onClick(),ee.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$b.exports=selectionMode_min;var libExports$d=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$c=libExports$h;function t$c(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$c=t$c(reactExports),r$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$c=function(){return c$c=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$c.apply(this,arguments)},u$c={left:0,top:8},o$c=function(A){var $=A.enableShortcuts,H=A.onClick,R=n$c.useContext(e$c.LocalizationContext).l10n,O=R&&R.fullScreen?R.fullScreen.enterFullScreen:"Full screen",B=$?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:H},n$c.createElement(l$c,null)),content:function(){return O},offset:u$c})},i$c={left:0,top:8},a$c=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,R=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:R,testId:"full-screen__exit-button-with-tooltip",onClick:$},n$c.createElement(r$c,null)),content:function(){return R},offset:i$c})},f$9=function(A,$){var H=n$c.useState($.get("fullScreenMode")),R=H[0],O=H[1],B=n$c.useCallback(function(Y){O(Y)},[]);return n$c.useEffect(function(){return $.subscribe("fullScreenMode",B),function(){$.unsubscribe("fullScreenMode",B)}},[]),{enterFullScreen:function(){var Y=$.get("getPagesContainer");if(Y){var me=A(Y());$.get("enterFullScreenMode")(me)}},exitFullScreen:function(){$.get("exitFullScreenMode")()},isFullScreen:R===e$c.FullScreenMode.Entering||R===e$c.FullScreenMode.EnteredCompletely}},s$8=function(A){var $=A.children,H=A.enableShortcuts,R=A.getFullScreenTarget,O=A.store,B=f$9(R,O),Y=B.enterFullScreen,me=B.exitFullScreen,ue=B.isFullScreen;return($||function(le){return ue?n$c.createElement(a$c,{onClick:le.onClick}):n$c.createElement(o$c,{enableShortcuts:H,onClick:le.onClick})})({onClick:ue?me:Y})},S$4=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,R=H&&H.fullScreen?H.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:$},R)},d$9=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,R=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,O=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!R,"rpv-full-screen__exit-button--rtl":R})},n$c.createElement(e$c.MinimalButton,{ariaLabel:O,testId:"full-screen__exit-button",onClick:$},n$c.createElement(r$c,null)))},m$8=function(A){var $=A.children,H=A.getFullScreenTarget,R=A.store,O=f$9(H,R),B=O.enterFullScreen,Y=O.exitFullScreen,me=O.isFullScreen;return me&&($||function(ue){return n$c.createElement(d$9,{onClick:ue.onClick})})({onClick:me?Y:B})},E$5=function(A){var $=A.store,H=A.onEnterFullScreen,R=A.onExitFullScreen,O=n$c.useState($.get("fullScreenMode")),B=O[0],Y=O[1],me=n$c.useCallback(function(ue){Y(ue)},[]);return n$c.useEffect(function(){switch(B){case e$c.FullScreenMode.EnteredCompletely:H($.get("zoom"));break;case e$c.FullScreenMode.Exited:R($.get("zoom"))}},[B]),n$c.useEffect(function(){return $.subscribe("fullScreenMode",me),function(){$.unsubscribe("fullScreenMode",me)}},[]),(B===e$c.FullScreenMode.Entering||B===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function(A){var $=A.containerRef,H=A.getFullScreenTarget,R=A.store,O=f$9(H,R).enterFullScreen,B=function(Y){if(!Y.shiftKey&&!Y.altKey&&(e$c.isMac()?Y.metaKey&&Y.ctrlKey&&Y.key==="f":Y.key==="F11")){var me=$.current;me&&document.activeElement&&me.contains(document.activeElement)&&(Y.preventDefault(),O())}};return n$c.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function(A){var $=(A==null?void 0:A.getFullScreenTarget)||function(Y){return Y},H=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},A)},[]),R=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),O=function(Y){return n$c.createElement(s$8,c$c({},Y,{enableShortcuts:H.enableShortcuts,getFullScreenTarget:$,store:R}))},B=function(){return n$c.createElement(m$8,{getFullScreenTarget:$,store:R},A==null?void 0:A.renderExitFullScreenButton)};return{install:function(Y){R.update("enterFullScreenMode",Y.enterFullScreenMode),R.update("exitFullScreenMode",Y.exitFullScreenMode),R.update("getPagesContainer",Y.getPagesContainer),R.update("zoom",Y.zoom)},onViewerStateChange:function(Y){return R.update("fullScreenMode",Y.fullScreenMode),Y},renderViewer:function(Y){var me=Y.slot;return me.subSlot&&(me.subSlot.children=n$c.createElement(n$c.Fragment,null,H.enableShortcuts&&n$c.createElement(F,{containerRef:Y.containerRef,getFullScreenTarget:$,store:R}),n$c.createElement(E$5,{store:R,onEnterFullScreen:H.onEnterFullScreen,onExitFullScreen:H.onExitFullScreen}),n$c.createElement(B,null),me.subSlot.children)),me},EnterFullScreen:O,EnterFullScreenButton:function(){return n$c.createElement(O,null,function(Y){return n$c.createElement(o$c,c$c({enableShortcuts:H.enableShortcuts},Y))})},EnterFullScreenMenuItem:function(Y){return n$c.createElement(O,null,function(me){return n$c.createElement(S$4,{onClick:function(){me.onClick(),Y.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$a.exports=fullScreen_min;var libExports$c=lib$a.exports,lib$9={exports:{}},getFile_min={},e$b=libExports$h;function t$b(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,R=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:R,testId:"get-file__download-button",onClick:$},n$b.createElement(o$b,null)),content:function(){return R},offset:i$b})},c$b=function(A,$){var H=document.createElement("a");H.style.display="none",H.href=A,H.setAttribute("download",$),document.body.appendChild(H),H.click(),document.body.removeChild(H)},l$b=function(A,$,H){var R=URL.createObjectURL(new Blob([A],{type:H}));c$b(R,$),R&&URL.revokeObjectURL(R)},u$b=function(A,$){A.getData().then(function(H){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(H,$,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(R){return btoa(Array(R.length).fill("").map(function(O,B){return String.fromCharCode(R[B])}).join(""))}(H)),$):l$b(H,$,"application/pdf")})},f$8=function(A){var $=A.children,H=A.fileNameGenerator,R=A.store,O=n$b.useState(R.get("file")),B=O[0],Y=O[1],me=n$b.useState(R.get("doc")),ue=me[0],le=me[1],U=function(ce){le(ce)},be=function(ce){Y(ce)};return n$b.useEffect(function(){return R.subscribe("doc",U),R.subscribe("file",be),function(){R.subscribe("doc",U),R.unsubscribe("file",be)}},[]),($||function(ce){return n$b.createElement(a$b,{onClick:ce.onClick})})({onClick:function(){ue&&B&&u$b(ue,H(B))}})},d$8=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,R=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:$},R)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(A){var $=n$b.useMemo(function(){return e$b.createStore({})},[]),H=function(O){return O.name?(B=O.name,(Y=B.split("/").pop())?Y.split("#")[0].split("?")[0]:B):"document.pdf";var B,Y},R=function(O){return n$b.createElement(f$8,r$b({},O,{fileNameGenerator:A&&A.fileNameGenerator||H,store:$}))};return{onDocumentLoad:function(O){$.update("doc",O.doc),$.update("file",O.file)},Download:R,DownloadButton:function(){return n$b.createElement(R,null,function(O){return n$b.createElement(a$b,r$b({},O))})},DownloadMenuItem:function(O){return n$b.createElement(R,null,function(B){return n$b.createElement(d$8,{onClick:function(){B.onClick(),O.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$9.exports=getFile_min;var libExports$b=lib$9.exports,lib$8={exports:{}},open_min={},e$a=libExports$h;function t$a(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$a=t$a(reactExports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$a.apply(this,arguments)},i$a=function(A){var $=n$a.useRef(),H=function(){var O=$.current;O&&(O.click(),A.get("triggerOpenFile")&&A.update("triggerOpenFile",!1))},R=function(O){O&&H()};return n$a.useEffect(function(){return A.subscribe("triggerOpenFile",R),function(){A.unsubscribe("triggerOpenFile",R)}},[]),{inputRef:$,openFile:H}},c$a={left:0,top:8},u$a=function(A){var $=A.enableShortcuts,H=A.store,R=A.onClick,O=n$a.useContext(e$a.LocalizationContext).l10n,B=O&&O.open?O.open.openFile:"Open file",Y=i$a(H),me=Y.inputRef,ue=Y.openFile,le=$?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:me,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:R}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:le,ariaLabel:B,testId:"open__button",onClick:ue},n$a.createElement(r$a,null))),content:function(){return B},offset:c$a})},a$a=function(A){var $=A.children,H=A.enableShortcuts,R=A.store;return($||function(O){return n$a.createElement(u$a,{enableShortcuts:H,store:R,onClick:O.onClick})})({onClick:function(O){var B=O.target.files;if(B&&B.length){var Y=R.get("openFile");Y&&Y(B[0])}}})},l$a=function(A){var $=A.store,H=A.onClick,R=n$a.useContext(e$a.LocalizationContext).l10n,O=R&&R.open?R.open.openFile:"Open file",B=i$a($),Y=B.inputRef,me=B.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:me},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:Y,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:H}),O))},p$7=function(A){var $=A.containerRef,H=A.store,R=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="o"&&(e$a.isMac()?O.metaKey:O.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(O.preventDefault(),H.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(A){var $=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$a.useMemo(function(){return e$a.createStore({})},[]),R=function(O){return n$a.createElement(a$a,o$a({enableShortcuts:$.enableShortcuts},O,{store:H}))};return{install:function(O){H.update("openFile",O.openFile)},renderViewer:function(O){var B=O.slot,Y={children:n$a.createElement(n$a.Fragment,null,$.enableShortcuts&&n$a.createElement(p$7,{containerRef:O.containerRef,store:H}),B.children)};return o$a(o$a({},B),Y)},Open:R,OpenButton:function(){return n$a.createElement(R,null)},OpenMenuItem:function(){return n$a.createElement(R,null,function(O){return n$a.createElement(l$a,{store:H,onClick:O.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$8.exports=open_min;var libExports$a=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$9=libExports$h;function t$9(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$9=t$9(reactExports),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$9.apply(this,arguments)},i$9=function(A){var $=n$9.useState(A.get("currentPage")||0),H=$[0],R=$[1],O=function(B){R(B)};return e$9.useIsomorphicLayoutEffect(function(){return A.subscribe("currentPage",O),function(){A.unsubscribe("currentPage",O)}},[]),{currentPage:H}},u$9=function(A){var $=n$9.useState(A.get("numberOfPages")||0),H=$[0],R=$[1],O=function(B){R(B)};return n$9.useEffect(function(){return A.subscribe("numberOfPages",O),function(){A.unsubscribe("numberOfPages",O)}},[]),{numberOfPages:H}},c$9=function(A){var $=A.store,H=n$9.useContext(e$9.LocalizationContext).l10n,R=n$9.useState("1"),O=R[0],B=R[1],Y=i$9($).currentPage,me=u$9($).numberOfPages;n$9.useEffect(function(){return B("".concat(Y+1))},[Y]);var ue=function(U){var be=$.get("jumpToPage");be&&be(U)},le=H&&H.pageNavigation?H.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:le,testId:"page-navigation__current-page-input",type:"text",value:O,onChange:B,onKeyDown:function(U){switch(U.key){case"ArrowUp":(J=Y-1)>=0&&(B("".concat(J+1)),ue(J));break;case"ArrowDown":(ce=Y+1)<me&&(B("".concat(ce+1)),ue(ce));break;case"Enter":be=parseInt(O,10),O===""||be<1||be>me?B("".concat(Y+1)):ue(be-1)}var be,ce,J}}))},l$9=function(A){var $=A.children,H=A.doc,R=e$9.useIsMounted(),O=n$9.useState({loading:!0,labels:[]}),B=O[0],Y=O[1];return n$9.useEffect(function(){H.getPageLabels().then(function(me){R.current&&Y({loading:!1,labels:me||[]})})},[H.loadingTask.docId]),B.loading?n$9.createElement(n$9.Fragment,null):$(B.labels)},s$7=function(A){var $=A.children,H=A.store,R=function(me){var ue=n$9.useState(me.get("doc")),le=ue[0],U=ue[1],be=function(ce){U(ce)};return n$9.useEffect(function(){return me.subscribe("doc",be),function(){me.unsubscribe("doc",be)}},[]),le}(H),O=i$9(H).currentPage,B=u$9(H).numberOfPages,Y=$||function(me){return n$9.createElement(n$9.Fragment,null,me.currentPage+1)};return R?n$9.createElement(l$9,{doc:R},function(me){var ue=me.length===B&&B>0?me[O]:"";return Y({currentPage:O,numberOfPages:B,pageLabel:ue})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$7={left:0,top:8},m$7=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__first-button",onClick:H},n$9.createElement(g$5,null)),content:function(){return O},offset:f$7})},p$6=function(A){var $=A.children,H=A.store;return($||function(R){return n$9.createElement(m$7,{isDisabled:R.isDisabled,onClick:R.onClick})})({isDisabled:i$9(H).currentPage===0,onClick:function(){var R=H.get("jumpToPage");R&&R(0)}})},v$5=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:H},O)},d$7={left:0,top:8},P$2=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__last-button",onClick:H},n$9.createElement(a$9,null)),content:function(){return O},offset:d$7})},b$4=function(A){var $=A.children,H=A.store,R=i$9(H).currentPage,O=u$9(H).numberOfPages;return($||function(B){return n$9.createElement(P$2,{isDisabled:B.isDisabled,onClick:B.onClick})})({isDisabled:R+1>=O,onClick:function(){var B=H.get("jumpToPage");B&&B(O-1)}})},E$4=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:H},O)},C$3={left:0,top:8},D=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__next-button",onClick:H},n$9.createElement(r$9,null)),content:function(){return O},offset:C$3})},k$3=function(A){var $=A.children,H=A.store;return($||function(R){return n$9.createElement(D,{onClick:R.onClick,isDisabled:R.isDisabled})})({isDisabled:i$9(H).currentPage+1>=u$9(H).numberOfPages,onClick:function(){var R=H.get("jumpToNextPage");R&&R()}})},T=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:H},O)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__previous-button",onClick:H},n$9.createElement(x$1,null)),content:function(){return O},offset:L})},j=function(A){var $=A.store;return(A.children||function(H){return n$9.createElement(N,{isDisabled:H.isDisabled,onClick:H.onClick})})({isDisabled:i$9($).currentPage<=0,onClick:function(){var H=$.get("jumpToPreviousPage");H&&H()}})},I$2=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:H},O)},h$5=function(A){var $=A.children,H=A.store,R=u$9(H).numberOfPages;return $?$({numberOfPages:R}):n$9.createElement(n$9.Fragment,null,R)},y$1=function(A){var $=A.containerRef,H=A.numPages,R=A.store,O=i$9(R).currentPage,B=n$9.useRef(O);B.current=O;var Y=n$9.useRef(!1),me=function(){Y.current=!0},ue=function(){Y.current=!1},le=function(U){var be=$.current,ce=Y.current||document.activeElement&&be.contains(document.activeElement);if(be&&ce){var J,re,Q=U.altKey&&U.key==="ArrowDown"||!U.shiftKey&&!U.altKey&&U.key==="PageDown",q=U.altKey&&U.key==="ArrowUp"||!U.shiftKey&&!U.altKey&&U.key==="PageUp";if(Q)return U.preventDefault(),J=R.get("jumpToPage"),re=B.current+1,void(J&&re<H&&J(re));if(q)return U.preventDefault(),void function(){var ee=R.get("jumpToPage"),ie=B.current-1;ee&&ie>=0&&ee(ie)}();if(e$9.isMac()?U.metaKey&&!U.ctrlKey:U.altKey)switch(U.key){case"ArrowLeft":U.preventDefault(),function(){var ee=R.get("jumpToPreviousDestination");ee&&ee()}();break;case"ArrowRight":U.preventDefault(),function(){var ee=R.get("jumpToNextDestination");ee&&ee()}()}}};return n$9.useEffect(function(){var U=$.current;if(U)return document.addEventListener("keydown",le),U.addEventListener("mouseenter",me),U.addEventListener("mouseleave",ue),function(){document.removeEventListener("keydown",le),U.removeEventListener("mouseenter",me),U.removeEventListener("mouseleave",ue)}},[$.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$9,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(A){var $=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$9.useMemo(function(){return e$9.createStore()},[]),R=function(me){return n$9.createElement(p$6,o$9({},me,{store:H}))},O=function(me){return n$9.createElement(b$4,o$9({},me,{store:H}))},B=function(me){return n$9.createElement(k$3,o$9({},me,{store:H}))},Y=function(me){return n$9.createElement(j,o$9({},me,{store:H}))};return{install:function(me){H.update("jumpToDestination",me.jumpToDestination),H.update("jumpToNextDestination",me.jumpToNextDestination),H.update("jumpToNextPage",me.jumpToNextPage),H.update("jumpToPage",me.jumpToPage),H.update("jumpToPreviousDestination",me.jumpToPreviousDestination),H.update("jumpToPreviousPage",me.jumpToPreviousPage)},renderViewer:function(me){var ue=me.slot;if(!$.enableShortcuts)return ue;var le={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:me.containerRef,numPages:me.doc.numPages,store:H}),ue.children)};return o$9(o$9({},ue),le)},onDocumentLoad:function(me){H.update("doc",me.doc),H.update("numberOfPages",me.doc.numPages)},onViewerStateChange:function(me){return H.update("currentPage",me.pageIndex),me},jumpToNextPage:function(){var me=H.get("jumpToNextPage");me&&me()},jumpToPage:function(me){var ue=H.get("jumpToPage");ue&&ue(me)},jumpToPreviousPage:function(){var me=H.get("jumpToPreviousPage");me&&me()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:H})},CurrentPageLabel:function(me){return n$9.createElement(s$7,o$9({},me,{store:H}))},GoToFirstPage:R,GoToFirstPageButton:function(){return n$9.createElement(R,null,function(me){return n$9.createElement(m$7,o$9({},me))})},GoToFirstPageMenuItem:function(me){return n$9.createElement(R,null,function(ue){return n$9.createElement(v$5,{isDisabled:ue.isDisabled,onClick:function(){ue.onClick(),me.onClick()}})})},GoToLastPage:O,GoToLastPageButton:function(){return n$9.createElement(O,null,function(me){return n$9.createElement(P$2,o$9({},me))})},GoToLastPageMenuItem:function(me){return n$9.createElement(O,null,function(ue){return n$9.createElement(E$4,{isDisabled:ue.isDisabled,onClick:function(){ue.onClick(),me.onClick()}})})},GoToNextPage:B,GoToNextPageButton:function(){return n$9.createElement(B,null,function(me){return n$9.createElement(D,o$9({},me))})},GoToNextPageMenuItem:function(me){return n$9.createElement(B,null,function(ue){return n$9.createElement(T,{isDisabled:ue.isDisabled,onClick:function(){ue.onClick(),me.onClick()}})})},GoToPreviousPage:Y,GoToPreviousPageButton:function(){return n$9.createElement(Y,null,function(me){return n$9.createElement(N,o$9({},me))})},GoToPreviousPageMenuItem:function(me){return n$9.createElement(Y,null,function(ue){return n$9.createElement(I$2,{isDisabled:ue.isDisabled,onClick:function(){ue.onClick(),me.onClick()}})})},NumberOfPages:function(me){return n$9.createElement(h$5,o$9({},me,{store:H}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$7.exports=pageNavigation_min;var libExports$9=lib$7.exports,lib$6={exports:{}},print_min={},define_process_env_default={},e$8=libExports$h,t$8=reactExports,n$8=reactDomExports;function r$8(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$8=function(){return c$8=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(A){var $=A.enableShortcuts,H=A.onClick,R=a$8.useContext(e$8.LocalizationContext).l10n,O=R&&R.print?R.print.print:"Print",B=$?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"print__button",onClick:H},a$8.createElement(i$8,null)),content:function(){return O},offset:u$8})};(function(A){A.CheckingPermission="CheckingPermission",A.Inactive="Inactive",A.Preparing="Preparing",A.Cancelled="Cancelled",A.Ready="Ready"})(o$8||(o$8={}));var l$8=function(A){var $=A.children,H=A.enableShortcuts,R=A.store;return($||s$6)({enableShortcuts:H,onClick:function(){R.update("printStatus",o$8.CheckingPermission)}})},p$5=function(A){var $=A.doc,H=A.store,R=a$8.useContext(e$8.LocalizationContext).l10n,O=a$8.useState(!0),B=O[0],Y=O[1];return a$8.useEffect(function(){$.getPermissions().then(function(me){me===null||me.includes(4)||me.includes(2048)?H.update("printStatus",o$8.Preparing):Y(!1)})},[]),B?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(me){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},R&&R.print?R.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){me(),H.update("printStatus",o$8.Cancelled)}},R&&R.print?R.print.close:"Close")))},isOpened:!0})},m$6=function(A){var $=A.numLoadedPages,H=A.numPages,R=A.onCancel,O=a$8.useContext(e$8.LocalizationContext).l10n,B=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,Y=Math.floor(100*$/H);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":B})},a$8.createElement("div",{className:"rpv-print__progress-message"},O&&O.print?O.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:Y})),a$8.createElement(e$8.Button,{onClick:R},O&&O.print?O.print.cancel:"Cancel")))},d$6=function(A){var $=A.canvas,H=A.page,R=A.pageHeight,O=A.pageIndex,B=A.pageWidth,Y=A.rotation,me=A.onLoad,ue=e$8.useIsMounted(),le=a$8.useRef(),U=a$8.useState(""),be=U[0],ce=U[1],J=a$8.useMemo(function(){return typeof process<"u"&&define_process_env_default.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var re=le.current;re&&re.cancel();var Q=150/72;$.height=Math.floor(R*Q),$.width=Math.floor(B*Q);var q=$.getContext("2d");q.save(),q.fillStyle="rgb(255, 255, 255)",q.fillRect(0,0,$.width,$.height),q.restore();var ee=H.getViewport({rotation:Y,scale:1});le.current=H.render({canvasContext:q,intent:"print",transform:[Q,0,0,Q,0,0],viewport:ee}),le.current.promise.then(function(){"toBlob"in $&&"createObjectURL"in URL?$.toBlob(function(ie){ue.current&&ce(URL.createObjectURL(ie)),J&&me()}):(ue.current&&ce($.toDataURL()),J&&me())},function(){})},[]),be&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(O),src:be,onLoad:function(){J||me()}}))},f$6=function(A){var $=A.canvas,H=A.doc,R=A.pageIndex,O=A.pageRotation,B=A.pageSize,Y=A.rotation,me=A.shouldRender,ue=A.onLoad,le=e$8.useIsMounted(),U=a$8.useState(null),be=U[0],ce=U[1],J=Math.abs(Y+O)%180==0;a$8.useEffect(function(){me&&e$8.getPage(H,R).then(function(Q){le.current&&ce(Q)})},[me]);var re=(B.rotation+Y+O)%360;return be&&a$8.createElement(d$6,{canvas:$,page:be,pageHeight:J?B.pageHeight:B.pageWidth,pageIndex:R,pageWidth:J?B.pageWidth:B.pageHeight,rotation:re,onLoad:ue})},g$4=function(A){var $=A.doc,H=A.numLoadedPages,R=A.pagesRotation,O=A.pageSizes,B=A.printPages,Y=A.printStatus,me=A.rotation,ue=A.onCancel,le=A.onLoad,U=a$8.useMemo(function(){return document.createElement("canvas")},[]),be=a$8.useMemo(function(){var re=document.querySelector(".rpv-print__zone");if(re)return re;var Q=document.createElement("div");return Q.classList.add("rpv-print__zone"),Q.setAttribute("data-testid","print__zone"),document.body.appendChild(Q),Q},[]);a$8.useEffect(function(){Y===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var re=function(){if(Y===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var Q=document.querySelectorAll(".rpv-print__zone");Q&&Q.forEach(function(q){q.parentElement.removeChild(q)}),U.height=0,U.width=0,document.removeEventListener("mousemove",re),ue()}};return document.addEventListener("mousemove",re),function(){return document.removeEventListener("mousemove",re)}},[Y]);var ce=O[0].pageHeight,J=O[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,B.map(function(re,Q){return a$8.createElement(f$6,{key:re,canvas:U,doc:$,pageIndex:re,pageRotation:R.has(re)?R.get(re):0,pageSize:O[re],rotation:me,shouldRender:Q===H,onLoad:le})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(J,"pt ").concat(ce,"pt }")}})),be)},v$4=function(A){var $=A.doc,H=A.pagesRotation,R=A.pageSizes,O=A.renderProgressBar,B=A.rotation,Y=A.setPages,me=A.store,ue=a$8.useState(o$8.Inactive),le=ue[0],U=ue[1],be=a$8.useState(0),ce=be[0],J=be[1],re=a$8.useMemo(function(){var ie=$.numPages;return Y($).filter(function(ve){return ve>=0&&ve<ie})},[$,Y]),Q=re.length,q=function(){J(0),U(o$8.Inactive)},ee=function(ie){return U(ie)};return a$8.useEffect(function(){return me.subscribe("printStatus",ee),function(){me.unsubscribe("printStatus",ee)}},[]),a$8.createElement(a$8.Fragment,null,le===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:$,store:me}),le===o$8.Preparing&&(O?O(ce,Q,q):a$8.createElement(m$6,{numLoadedPages:ce,numPages:Q,onCancel:q})),(le===o$8.Preparing||le===o$8.Ready)&&ce<=Q&&a$8.createElement(g$4,{doc:$,numLoadedPages:ce,pagesRotation:H,pageSizes:R,printPages:re,printStatus:le,rotation:B,onCancel:q,onLoad:function(){var ie=ce+1;ie<=Q&&(J(ie),ie===Q&&U(o$8.Ready))}}))},h$4=function(A){var $=A.onClick,H=a$8.useContext(e$8.LocalizationContext).l10n,R=H&&H.print?H.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:$},R)},E$3=function(A){var $=A.containerRef,H=A.store,R=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="p"&&(e$8.isMac()?O.metaKey:O.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(O.preventDefault(),H.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H})},print_min.getCustomPagesNumbers=function(A){return function($){var H,R=[];return A.replace(/\s+/g,"").split(",").forEach(function(O){var B,Y,me=O.split("-").map(function(ue){return parseInt(ue,10)}).filter(function(ue){return Number.isInteger(ue)});me.length===1?R.push(me[0]-1):me.length===2&&R.push.apply(R,(B=me[0]-1,Y=me[1]-1,Array(Y-B+1).fill(0).map(function(ue,le){return B+le})))}),(H=R,H.filter(function(O){return H.indexOf(O)===H.lastIndexOf(O)})).filter(function(O){return O>=0&&O<$.numPages})}},print_min.getEvenPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==0})},print_min.getOddPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==1})},print_min.printPlugin=function(A){var $=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(O){return Array(O.numPages).fill(0).map(function(B,Y){return Y})}},A)},[]),H=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),R=function(O){return a$8.createElement(l$8,c$8({enableShortcuts:$.enableShortcuts},O,{store:H}))};return{print:function(){H.update("printStatus",o$8.CheckingPermission)},renderViewer:function(O){var B=O.slot,Y={children:a$8.createElement(a$8.Fragment,null,$.enableShortcuts&&a$8.createElement(E$3,{containerRef:O.containerRef,store:H}),a$8.createElement(v$4,{doc:O.doc,pagesRotation:O.pagesRotation,pageSizes:O.pageSizes,renderProgressBar:A==null?void 0:A.renderProgressBar,rotation:O.rotation,setPages:$.setPages,store:H}),B.children)};return c$8(c$8({},B),Y)},Print:R,PrintButton:function(){return a$8.createElement(R,null,function(O){return a$8.createElement(s$6,c$8({},O))})},PrintMenuItem:function(O){return a$8.createElement(R,null,function(B){return a$8.createElement(h$4,{onClick:function(){B.onClick(),O.onClick()}})})},setPages:function(O){$.setPages=O}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$6.exports=print_min;var libExports$8=lib$6.exports,lib$5={exports:{}},properties_min={},e$7=libExports$h;function t$7(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$7=t$7(reactExports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$7.apply(this,arguments)},a$7=function(A){var $=A.doc,H=A.render,R=r$7.useState(),O=R[0],B=R[1];return r$7.useEffect(function(){$.getMetadata().then(function(Y){return Promise.resolve(Y)}).then(function(Y){return $.getDownloadInfo().then(function(me){return Promise.resolve({fileName:Y.contentDispositionFilename||"",info:Y.info,length:me.length})})}).then(function(Y){B(Y)})},[]),O?H(O):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(A){var $=A.label,H=A.value,R=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":R})},r$7.createElement("dt",{className:"rpv-properties__item-label"},$,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},H||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(A,$,H,R){var O=parseInt(A,10);return O>=$&&O<=H?O:R},p$4=function(A){var $=A.doc,H=A.fileName,R=A.onToggle,O=r$7.useContext(e$7.LocalizationContext).l10n,B=function(Y){var me=function(ue){var le=l$7.exec(ue);if(!le)return null;var U=parseInt(le[1],10),be=c$7(le[2],1,12,1)-1,ce=c$7(le[3],1,31,1),J=c$7(le[4],0,23,0),re=c$7(le[5],0,59,0),Q=c$7(le[6],0,59,0),q=le[7]||"Z",ee=c$7(le[8],0,23,0),ie=c$7(le[9],0,59,0);switch(q){case"-":J+=ee,re+=ie;break;case"+":J-=ee,re-=ie}return new Date(Date.UTC(U,be,ce,J,re,Q))}(Y);return me?"".concat(me.toLocaleDateString(),", ").concat(me.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:$,render:function(Y){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileName:"File name",value:Y.fileName||(le=H,U=le.split("/").pop(),U?U.split("#")[0].split("?")[0]:le)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileSize:"File size",value:(me=Y.length,ue=Math.floor(Math.log(me)/Math.log(1024)),"".concat((me/Math.pow(1024,ue)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][ue]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.title:"Title",value:Y.info.Title}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.author:"Author",value:Y.info.Author}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.subject:"Subject",value:Y.info.Subject}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.keywords:"Keywords",value:Y.info.Keywords}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creator:"Creator",value:Y.info.Creator}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creationDate:"Creation date",value:B(Y.info.CreationDate)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.modificationDate:"Modification date",value:B(Y.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfProducer:"PDF producer",value:Y.info.Producer}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfVersion:"PDF version",value:Y.info.PDFFormatVersion}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pageCount:"Page count",value:"".concat($.numPages)})));var me,ue,le,U}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:R},O&&O.properties?O.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,R=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:R,testId:"properties__button",onClick:$},r$7.createElement(n$7,null)),content:function(){return R},offset:s$5})},m$5=function(A){var $=A.children,H=A.store,R=function(Y){var me=r$7.useState(Y.get("doc")),ue=me[0],le=me[1],U=function(be){le(be)};return r$7.useEffect(function(){return Y.subscribe("doc",U),function(){Y.unsubscribe("doc",U)}},[]),{currentDoc:ue}}(H).currentDoc,O=H.get("fileName")||"",B=$||function(Y){return r$7.createElement(u$7,o$7({},Y))};return R?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(Y){return B({onClick:Y})},content:function(Y){return r$7.createElement(p$4,{doc:R,fileName:O,onToggle:Y})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,R=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:$},R)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var A=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),$=function(H){return r$7.createElement(m$5,o$7({},H,{store:A}))};return{onDocumentLoad:function(H){A.update("doc",H.doc)},onViewerStateChange:function(H){return A.update("fileName",H.file.name),H},ShowProperties:$,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:A})},ShowPropertiesMenuItem:function(H){return r$7.createElement($,null,function(R){return r$7.createElement(f$5,o$7({},R))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$5.exports=properties_min;var libExports$7=lib$5.exports,lib$4={exports:{}},rotate_min={},t$6=libExports$h;function e$6(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$6=e$6(reactExports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$6=function(){return c$6=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(A){var $=A.direction,H=A.onClick,R=r$6.useContext(t$6.LocalizationContext).l10n,O=R&&R.rotate?R.rotate.rotateBackward:"Rotate counterclockwise",B=R&&R.rotate?R.rotate.rotateForward:"Rotate clockwise",Y=$===t$6.RotateDirection.Backward?O:B,me=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:Y,testId:$===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:H},me),content:function(){return Y},offset:a$6})},u$6=function(A){var $=A.children,H=A.direction,R=A.store;return($||function(O){return r$6.createElement(i$6,{direction:O.direction,onClick:O.onClick})})({direction:H,onClick:function(){var O=R.get("rotate");O&&O(H)}})},l$6=function(A){var $=A.direction,H=A.onClick,R=r$6.useContext(t$6.LocalizationContext).l10n,O=R&&R.rotate?R.rotate.rotateBackward:"Rotate counterclockwise",B=R&&R.rotate?R.rotate.rotateForward:"Rotate clockwise",Y=$===t$6.RotateDirection.Backward?O:B,me=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:me,testId:$===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:H},Y)},d$5=function(A){var $=A.children,H=A.store;return $({onRotatePage:function(R,O){var B=H.get("rotatePage");B&&B(R,O)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var A=r$6.useMemo(function(){return t$6.createStore()},[]),$=function(H){return r$6.createElement(u$6,c$6({},H,{store:A}))};return{install:function(H){A.update("rotate",H.rotate),A.update("rotatePage",H.rotatePage)},Rotate:$,RotateBackwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateBackwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(R){return r$6.createElement(l$6,{direction:R.direction,onClick:function(){R.onClick(),H.onClick()}})})},RotateForwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateForwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(R){return r$6.createElement(l$6,{direction:R.direction,onClick:function(){R.onClick(),H.onClick()}})})},RotatePage:function(H){return r$6.createElement(d$5,c$6({},H,{store:A}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=rotate_min;var libExports$6=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$5=libExports$h;function o$5(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i$5.apply(this,arguments)},a$5=function(A,$){A.get("switchScrollMode")($);var H=A.get("viewMode");$!==e$5.ScrollMode.Horizontal&&$!==e$5.ScrollMode.Wrapped||H===e$5.ViewMode.SinglePage||A.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$5=function(A){var $=A.children,H=A.mode,R=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,B="",Y=t$5.createElement(d$4,null);switch(H){case e$5.ScrollMode.Horizontal:B=O&&O.scrollMode?O.scrollMode.horizontalScrolling:"Horizontal scrolling",Y=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:B=O&&O.scrollMode?O.scrollMode.pageScrolling:"Page scrolling",Y=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:B=O&&O.scrollMode?O.scrollMode.wrappedScrolling:"Wrapped scrolling",Y=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:B=O&&O.scrollMode?O.scrollMode.verticalScrolling:"Vertical scrolling",Y=t$5.createElement(d$4,null)}return $({icon:Y,label:B,onClick:R})},m$4={left:0,top:8},M$2=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:B="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:R,onClick:O},function(Y){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:Y.label,isDisabled:$,isSelected:H,testId:B,onClick:Y.onClick},Y.icon),content:function(){return Y.label},offset:m$4})})},f$4=function(A){var $=t$5.useState(A.get("scrollMode")||e$5.ScrollMode.Vertical),H=$[0],R=$[1],O=function(B){R(B)};return t$5.useEffect(function(){return A.subscribe("scrollMode",O),function(){A.unsubscribe("scrollMode",O)}},[]),{scrollMode:H}},w$1=function(A){var $=t$5.useState(A.get("viewMode")||e$5.ViewMode.SinglePage),H=$[0],R=$[1],O=function(B){R(B)};return t$5.useEffect(function(){return A.subscribe("viewMode",O),function(){A.unsubscribe("viewMode",O)}},[]),{viewMode:H}},S$3=function(A){var $=A.children,H=A.mode,R=A.store,O=w$1(R).viewMode,B=f$4(R).scrollMode===H,Y=(H===e$5.ScrollMode.Horizontal||H===e$5.ScrollMode.Wrapped)&&O!==e$5.ViewMode.SinglePage;return($||function(me){return t$5.createElement(M$2,{isDisabled:Y,isSelected:B,mode:me.mode,onClick:me.onClick})})({isDisabled:Y,isSelected:B,mode:H,onClick:function(){a$5(R,H)}})},g$3=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:B="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:R,onClick:O},function(Y){return t$5.createElement(e$5.MenuItem,{checked:H,icon:Y.icon,isDisabled:$,testId:B,onClick:Y.onClick},Y.label)})},h$3=function(A,$){A.get("switchViewMode")($);var H=A.get("scrollMode");H!==e$5.ScrollMode.Horizontal&&H!==e$5.ScrollMode.Wrapped||$===e$5.ViewMode.SinglePage||A.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(A){var $=A.children,H=A.mode,R=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,B="",Y=t$5.createElement(r$5,null);switch(H){case e$5.ViewMode.DualPage:B=O&&O.scrollMode?O.scrollMode.dualPage:"Dual page",Y=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:B=O&&O.scrollMode?O.scrollMode.dualPageCover:"Dual page with cover",Y=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:B=O&&O.scrollMode?O.scrollMode.singlePage:"Single page",Y=t$5.createElement(r$5,null)}return $({icon:Y,label:B,onClick:R})},p$3={left:0,top:8},v$3=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ViewMode.DualPage:B="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-button"}return t$5.createElement(b$3,{mode:R,onClick:O},function(Y){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:Y.label,isDisabled:$,isSelected:H,testId:B,onClick:Y.onClick},Y.icon),content:function(){return Y.label},offset:p$3})})},k$2=function(A){var $=A.children,H=A.mode,R=A.store,O=w$1(R).viewMode,B=f$4(R).scrollMode,Y=O===H,me=(B===e$5.ScrollMode.Horizontal||B===e$5.ScrollMode.Wrapped)&&H!==e$5.ViewMode.SinglePage;return($||function(ue){return t$5.createElement(v$3,{isDisabled:me,isSelected:Y,mode:ue.mode,onClick:ue.onClick})})({isDisabled:me,isSelected:Y,mode:H,onClick:function(){h$3(R,H)}})},C$2=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ViewMode.DualPage:B="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-menu"}return t$5.createElement(b$3,{mode:R,onClick:O},function(Y){return t$5.createElement(e$5.MenuItem,{checked:H,icon:Y.icon,isDisabled:$,testId:B,onClick:Y.onClick},Y.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var A=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),$=function(R){return t$5.createElement(S$3,i$5({},R,{store:A}))},H=function(R){return t$5.createElement(k$2,i$5({},R,{store:A}))};return{install:function(R){A.update("switchScrollMode",R.switchScrollMode),A.update("switchViewMode",R.switchViewMode)},onViewerStateChange:function(R){return A.update("scrollMode",R.scrollMode),A.update("viewMode",R.viewMode),R},switchScrollMode:function(R){a$5(A,R)},switchViewMode:function(R){h$3(A,R)},SwitchScrollMode:$,SwitchScrollModeButton:function(R){return t$5.createElement($,{mode:R.mode},function(O){return t$5.createElement(M$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchScrollModeMenuItem:function(R){return t$5.createElement($,{mode:R.mode},function(O){return t$5.createElement(g$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),R.onClick()}})})},SwitchViewMode:H,SwitchViewModeButton:function(R){return t$5.createElement(H,{mode:R.mode},function(O){return t$5.createElement(v$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchViewModeMenuItem:function(R){return t$5.createElement(H,{mode:R.mode},function(O){return t$5.createElement(C$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),R.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=scrollMode_min;var libExports$5=lib$3.exports,lib$2={exports:{}},search_min={},e$4=libExports$h;function t$4(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$4=t$4(reactExports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$4=function(){return c$4=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(A){return{left:"".concat(A.left,"%"),top:"".concat(A.top,"%"),height:"".concat(A.height,"%"),width:"".concat(A.width,"%")}},s$3=function(A){var $=A.index,H=A.area,R=A.onHighlightKeyword,O=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var B=O.current;R&&B&&R({highlightEle:B,keyword:H.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":$,ref:O,style:i$4(H),title:H.keywordStr.trim()})},l$4=function(A){var $=A.parentNode;$&&$.removeChild(A)},h$2=function(A){var $=A.parentNode;if($){var H=document.createRange();H.selectNodeContents(A),function(R,O){l$4(R);var B=O.parentNode;B&&B.insertBefore(R,O),l$4(O)}(H.extractContents(),A),$.normalize()}},d$3=function(A,$){return A.top<$.top?-1:A.top>$.top?1:A.left<$.left?-1:A.left>$.left?1:0},f$3=function(A){var $=A.numPages,H=A.pageIndex,R=A.renderHighlights,O=A.store,B=A.onHighlightKeyword,Y=r$4.useRef(),me=r$4.useCallback(function(De){return r$4.createElement(r$4.Fragment,null,De.highlightAreas.map(function(xe,Ne){return r$4.createElement(s$3,{index:Ne,key:Ne,area:xe,onHighlightKeyword:B})}))},[]),ue=R||me,le=r$4.useState(O.get("matchPosition")),U=le[0],be=le[1],ce=r$4.useState(O.get("keyword")||[u$4]),J=ce[0],re=ce[1],Q=r$4.useState({pageIndex:H,scale:1,status:e$4.LayerRenderStatus.PreRender}),q=Q[0],ee=Q[1],ie=r$4.useRef(null),ve=r$4.useRef([]),de=r$4.useState([]),te=de[0],se=de[1],ne=function(){return!0},ae=r$4.useCallback(function(){return O.get("targetPageFilter")||ne},[O.get("targetPageFilter")]),oe=function(De){var xe=ve.current;if(xe.length===0)return[];var Ne=[],Fe=[].slice.call(De.querySelectorAll(".rpv-core__text-layer-text")),qe=xe.map(function(Se){return Se.char}).join("");return J.forEach(function(Se){var $e=Se.keyword;if($e.trim()){for(var He,_e=Se.regExp.flags.indexOf("g")===-1?new RegExp(Se.regExp,"".concat(Se.regExp.flags,"g")):Se.regExp,G=[];(He=_e.exec(qe))!==null;)G.push({keyword:_e,startIndex:He.index,endIndex:_e.lastIndex});G.map(function(X){return{keyword:X.keyword,indexes:xe.slice(X.startIndex,X.endIndex)}}).forEach(function(X){var pe=X.indexes.reduce(function(Pe,Ae){return Pe[Ae.spanIndex]=(Pe[Ae.spanIndex]||[]).concat([Ae]),Pe},{});Object.values(pe).forEach(function(Pe){if(Pe.length!==1||Pe[0].char.trim()!==""){var Ae=Se.wholeWords?Pe.slice(1,-1):Pe,ke=function(Oe,Qe,ot,st,ut){var dt=document.createRange(),mt=st.firstChild;if(!mt||mt.nodeType!==Node.TEXT_NODE)return null;var Ge=mt.textContent.length,Xe=ut[0].charIndexInSpan,fe=ut.length===1?Xe:ut[ut.length-1].charIndexInSpan;if(Xe>Ge||fe+1>Ge)return null;dt.setStart(mt,Xe),dt.setEnd(mt,fe+1);var ye=document.createElement("span");dt.surroundContents(ye);var je=ye.getBoundingClientRect(),Ke=ot.getBoundingClientRect(),nt=Ke.height,pt=Ke.width,ht=100*(je.left-Ke.left)/pt,We=100*(je.top-Ke.top)/nt,wt=100*je.height/nt,St=100*je.width/pt;return h$2(ye),{keyword:Qe,keywordStr:Oe,numPages:$,pageIndex:H,left:ht,top:We,height:wt,width:St,pageHeight:nt,pageWidth:pt}}($e,X.keyword,De,Fe[Ae[0].spanIndex],Ae);ke&&Ne.push(ke)}})})}}),Ne.sort(d$3)},Ee=function(De){De&&De.length>0&&re(De)},K=function(De){return be(De)},ge=function(De){if(De.has(H)){var xe=De.get(H);xe&&ee({ele:xe.ele,pageIndex:H,scale:xe.scale,status:xe.status})}},Ce=function(){return J.length===0||J.length===1&&J[0].keyword.trim()===""};return r$4.useEffect(function(){if(!Ce()&&q.status===e$4.LayerRenderStatus.DidRender&&!ve.current.length){var De=q.ele,xe=[].slice.call(De.querySelectorAll(".rpv-core__text-layer-text")).map(function(Ne){return Ne.textContent}).reduce(function(Ne,Fe,qe){return Ne.concat(Fe.split("").map(function(Se,$e){return{char:Se,charIndexInSpan:$e,spanIndex:qe}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);ve.current=xe}},[J,q.status]),r$4.useEffect(function(){if(!Ce()&&q.ele&&q.status===e$4.LayerRenderStatus.DidRender&&ae()({pageIndex:H,numPages:$})){var De=q.ele,xe=oe(De);se(xe)}},[J,U,q.status,ve.current]),r$4.useEffect(function(){Ce()&&q.ele&&q.status===e$4.LayerRenderStatus.DidRender&&se([])},[J,q.status]),r$4.useEffect(function(){if(te.length!==0){var De=Y.current;if(U.pageIndex===H&&De&&q.status===e$4.LayerRenderStatus.DidRender){var xe=De.querySelector('.rpv-search__highlight[data-index="'.concat(U.matchIndex,'"]'));if(xe){var Ne=function($e,He){for(var _e=$e.offsetTop,G=$e.offsetLeft,X=$e.parentElement;X&&X!==He;)_e+=X.offsetTop,G+=X.offsetLeft,X=X.parentElement;return{left:G,top:_e}}(xe,De),Fe=Ne.left,qe=Ne.top,Se=O.get("jumpToDestination");Se&&(Se({pageIndex:H,bottomOffset:(De.getBoundingClientRect().height-qe)/q.scale,leftOffset:Fe/q.scale,scaleTo:q.scale}),ie.current&&ie.current.classList.remove("rpv-search__highlight--current"),ie.current=xe,xe.classList.add("rpv-search__highlight--current"))}}}},[te,U]),r$4.useEffect(function(){return O.subscribe("keyword",Ee),O.subscribe("matchPosition",K),O.subscribe("renderStatus",ge),function(){O.unsubscribe("keyword",Ee),O.unsubscribe("matchPosition",K),O.unsubscribe("renderStatus",ge)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(H),ref:Y},ue({getCssProperties:i$4,highlightAreas:te}))},p$2=function(A){var $,H=A.wholeWords?" ".concat(A.keyword," "):A.keyword,R=A.matchCase?"g":"gi";return{keyword:A.keyword,regExp:new RegExp(($=H,$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),R),wholeWords:A.wholeWords||!1}},g$2=function(A,$,H){return A instanceof RegExp?{keyword:A.source,regExp:A,wholeWords:H||!1}:typeof A=="string"?A===""?u$4:p$2({keyword:A,matchCase:$||!1,wholeWords:H||!1}):($!==void 0&&(A.matchCase=$),H!==void 0&&(A.wholeWords=H),p$2(A))},m$3=function(A){var $,H=A.get("initialKeyword"),R=r$4.useMemo(function(){if(H&&H.length===1){var K=g$2(H[0]);return{matchCase:K.regExp.flags.indexOf("i")===-1,wholeWords:K.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),O=function(K){var ge=r$4.useRef(K.get("doc")),Ce=function(De){ge.current=De};return r$4.useEffect(function(){return K.subscribe("doc",Ce),function(){K.unsubscribe("doc",Ce)}},[]),ge}(A),B=r$4.useState(H),Y=B[0],me=B[1],ue=r$4.useState([]),le=ue[0],U=ue[1],be=r$4.useState(0),ce=be[0],J=be[1],re=r$4.useState(R.matchCase),Q=re[0],q=re[1],ee=r$4.useRef([]),ie=r$4.useState(R.wholeWords),ve=ie[0],de=ie[1],te=function(){return!0},se=r$4.useCallback(function(){return A.get("targetPageFilter")||te},[A.get("targetPageFilter")]),ne=function(K){var ge=le.length;if(Y.length===0||ge===0)return null;var Ce=K===ge+1?1:Math.max(1,Math.min(ge,K));return J(Ce),oe(le[Ce-1])},ae=function(K){return me(K===""?[]:[K])},oe=function(K){var ge=A.get("jumpToPage");return ge&&ge(K.pageIndex),A.update("matchPosition",{matchIndex:K.matchIndex,pageIndex:K.pageIndex}),K},Ee=function(K,ge,Ce){var De=O.current;if(!De)return Promise.resolve([]);var xe=De.numPages,Ne=K.map(function(Fe){return g$2(Fe,ge,Ce)});return A.update("keyword",Ne),J(0),U([]),new Promise(function(Fe,qe){var Se=ee.current.length===0?function(){var $e=O.current;if(!$e)return Promise.resolve([]);var He=Array($e.numPages).fill(0).map(function(_e,G){return e$4.getPage($e,G).then(function(X){return X.getTextContent()}).then(function(X){var pe=X.items.map(function(Pe){return Pe.str||""}).join("");return Promise.resolve({pageContent:pe,pageIndex:G})})});return Promise.all(He).then(function(_e){return _e.sort(function(G,X){return G.pageIndex-X.pageIndex}),Promise.resolve(_e.map(function(G){return G.pageContent}))})}().then(function($e){return ee.current=$e,Promise.resolve($e)}):Promise.resolve(ee.current);Se.then(function($e){var He=[];$e.forEach(function(_e,G){se()({pageIndex:G,numPages:xe})&&Ne.forEach(function(X){for(var pe,Pe=0;(pe=X.regExp.exec(_e))!==null;)He.push({keyword:X.regExp,matchIndex:Pe,pageIndex:G,pageText:_e,startIndex:pe.index,endIndex:X.regExp.lastIndex}),Pe++})}),U(He),He.length>0&&(J(1),oe(He[0])),Fe(He)})})};return r$4.useEffect(function(){ee.current=[]},[O.current]),{clearKeyword:function(){A.update("keyword",[u$4]),ae(""),J(0),U([]),q(!1),de(!1)},changeMatchCase:function(K){q(K),Y.length>0&&Ee(Y,K,ve)},changeWholeWords:function(K){de(K),Y.length>0&&Ee(Y,Q,K)},currentMatch:ce,jumpToMatch:ne,jumpToNextMatch:function(){return ne(ce+1)},jumpToPreviousMatch:function(){return ne(ce-1)},keywords:Y,matchCase:Q,numberOfMatches:le.length,wholeWords:ve,search:function(){return Ee(Y,Q,ve)},searchFor:Ee,setKeywords:me,keyword:Y.length===0?"":($=Y[0],$ instanceof RegExp?$.source:typeof $=="string"?$:$.keyword),setKeyword:ae,setTargetPages:function(K){A.update("targetPageFilter",K)}}},v$2=function(A){var $=A.children,H=A.store,R=m$3(H),O=r$4.useState(!1),B=O[0],Y=O[1],me=function(ue){return Y(!0)};return r$4.useEffect(function(){return H.subscribe("doc",me),function(){H.unsubscribe("doc",me)}},[]),$(c$4(c$4({},R),{isDocumentLoaded:B}))},x=function(A){var $=A.containerRef,H=A.store,R=r$4.useRef(!1),O=function(){R.current=!0},B=function(){R.current=!1},Y=function(me){var ue=$.current;ue&&(me.shiftKey||me.altKey||me.key!=="f"||(e$4.isMac()?me.metaKey&&!me.ctrlKey:me.ctrlKey)&&(R.current||document.activeElement&&ue.contains(document.activeElement))&&(me.preventDefault(),H.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var me=$.current;if(me)return document.addEventListener("keydown",Y),me.addEventListener("mouseenter",O),me.addEventListener("mouseleave",B),function(){document.removeEventListener("keydown",Y),me.removeEventListener("mouseenter",O),me.removeEventListener("mouseleave",B)}},[$.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(A){var $=A.store,H=A.onToggle,R=r$4.useContext(e$4.LocalizationContext).l10n,O=r$4.useContext(e$4.ThemeContext).direction,B=r$4.useState(!1),Y=B[0],me=B[1],ue=r$4.useState(!1),le=ue[0],U=ue[1],be=O===e$4.TextDirection.RightToLeft,ce=m$3($),J=ce.clearKeyword,re=ce.changeMatchCase,Q=ce.changeWholeWords,q=ce.currentMatch,ee=ce.jumpToNextMatch,ie=ce.jumpToPreviousMatch,ve=ce.keyword,de=ce.matchCase,te=ce.numberOfMatches,se=ce.wholeWords,ne=ce.search,ae=ce.setKeyword,oe=function(De){me(!0),ne().then(function(xe){me(!1),U(!0),De&&De()})};r$4.useEffect(function(){var De=$.get("initialKeyword");De&&De.length===1&&ve&&oe(function(){$.update("initialKeyword",[])})},[]);var Ee=R&&R.search?R.search.enterToSearch:"Enter to search",K=R&&R.search?R.search.previousMatch:"Previous match",ge=R&&R.search?R.search.nextMatch:"Next match",Ce=R&&R.search?R.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:Ee,autoFocus:!0,placeholder:Ee,type:"text",value:ve,onChange:function(De){U(!1),ae(De)},onKeyDown:function(De){De.key==="Enter"&&ve&&(le?ee():oe())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!be,"rpv-search__popover-counter--rtl":be})},Y&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!Y&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},q,"/",te))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:de,type:"checkbox",onChange:function(De){U(!1),re(De.target.checked)}})," ",R&&R.search?R.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:se,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(De){U(!1),Q(De.target.checked)}})," ",R&&R.search?R.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:be?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:K,isDisabled:q<=1,onClick:ie},r$4.createElement(o$4,null)),content:function(){return K},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:ge,isDisabled:q>te-1,onClick:ee},r$4.createElement(n$4,null)),content:function(){return ge},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!be,"rpv-search__popover-footer-button--rtl":be})},r$4.createElement(e$4.Button,{onClick:function(){H(),J()}},Ce))))},w=function(A){var $=A.children,H=A.onClick,R=r$4.useContext(e$4.LocalizationContext).l10n,O=R&&R.search?R.search.search:"Search";return $({icon:r$4.createElement(a$4,null),label:O,onClick:H})},b$2={left:0,top:8},k$1=function(A){var $=A.enableShortcuts,H=A.store,R=A.onClick,O=$?e$4.isMac()?"Meta+F":"Ctrl+F":"",B=function(Y){Y&&R()};return r$4.useEffect(function(){return H.subscribe("areShortcutsPressed",B),function(){H.unsubscribe("areShortcutsPressed",B)}},[]),r$4.createElement(w,{onClick:R},function(Y){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:Y.label,testId:"search__popover-button",onClick:R},Y.icon),content:function(){return Y.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(A){var $=A.children,H=A.enableShortcuts,R=A.store,O=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,B=$||function(Y){return r$4.createElement(k$1,c$4({enableShortcuts:H,store:R},Y))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:O,target:function(Y){return B({onClick:Y})},content:function(Y){return r$4.createElement(E$2,{store:R,onToggle:Y})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(A){return Array.isArray(A)?A.map(function($){return g$2($)}):[g$2(A)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(A){var $=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},A)},[]),H=r$4.useMemo(function(){return e$4.createStore({initialKeyword:A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],keyword:A&&A.keyword?P$1(A.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),R=m$3(H),O=R.clearKeyword,B=R.jumpToMatch,Y=R.jumpToNextMatch,me=R.jumpToPreviousMatch,ue=R.searchFor,le=R.setKeywords,U=R.setTargetPages,be=function(ce){return r$4.createElement(C$1,c$4({enableShortcuts:$.enableShortcuts},ce,{store:H}))};return{install:function(ce){var J=A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],re=A&&A.keyword?P$1(A.keyword):[u$4];H.update("initialKeyword",J),H.update("jumpToDestination",ce.jumpToDestination),H.update("jumpToPage",ce.jumpToPage),H.update("keyword",re)},renderPageLayer:function(ce){return r$4.createElement(f$3,{key:ce.pageIndex,numPages:ce.doc.numPages,pageIndex:ce.pageIndex,renderHighlights:A==null?void 0:A.renderHighlights,store:H,onHighlightKeyword:$.onHighlightKeyword})},renderViewer:function(ce){var J=ce.slot;return J.subSlot&&(J.subSlot.children=r$4.createElement(r$4.Fragment,null,$.enableShortcuts&&r$4.createElement(x,{containerRef:ce.containerRef,store:H}),J.subSlot.children)),J},uninstall:function(ce){var J=H.get("renderStatus");J&&J.clear()},onDocumentLoad:function(ce){H.update("doc",ce.doc)},onTextLayerRender:function(ce){var J=H.get("renderStatus");J&&(J=J.set(ce.pageIndex,ce),H.update("renderStatus",J))},Search:function(ce){return r$4.createElement(v$2,c$4({},ce,{store:H}))},ShowSearchPopover:be,ShowSearchPopoverButton:function(){return r$4.createElement(be,null,function(ce){return r$4.createElement(k$1,c$4({enableShortcuts:$.enableShortcuts,store:H},ce))})},clearHighlights:function(){O()},highlight:function(ce){var J=Array.isArray(ce)?ce:[ce];return le(J),ue(J)},jumpToMatch:B,jumpToNextMatch:Y,jumpToPreviousMatch:me,setTargetPages:U}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=search_min;var libExports$4=lib$2.exports,lib$1={exports:{}},theme_min={},e$3=libExports$h;function t$3(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$3=t$3(reactExports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),R=n$3.useContext(e$3.LocalizationContext).l10n,O=H.currentTheme==="dark",B=R&&R.theme?O?R.theme.switchLightTheme:R.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:B,testId:"theme__switch-button",onClick:$},O?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return B},offset:a$3})},l$3=function(A){var $=A.children,H=n$3.useContext(e$3.ThemeContext);return($||function(R){return n$3.createElement(i$3,{onClick:R.onClick})})({onClick:function(){return H.setCurrentTheme(H.currentTheme==="dark"?"light":"dark")}})},u$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),R=n$3.useContext(e$3.LocalizationContext).l10n,O=H.currentTheme==="dark",B=R&&R.theme?O?R.theme.switchLightTheme:R.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:O?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:$},B)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var A=function($){return n$3.createElement(l$3,o$3({},$))};return{SwitchTheme:A,SwitchThemeButton:function(){return n$3.createElement(A,null,function($){return n$3.createElement(i$3,o$3({},$))})},SwitchThemeMenuItem:function($){return n$3.createElement(A,null,function(H){return n$3.createElement(u$3,{onClick:function(){H.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=theme_min;var libExports$3=lib$1.exports,lib={exports:{}},zoom_min={},e$2=libExports$h;function t$2(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$2=function(){return c$2=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$2.apply(this,arguments)},a$2=function(A){var $=n$2.useState(A.get("scale")||0),H=$[0],R=$[1],O=function(B){R(B)};return n$2.useEffect(function(){return A.subscribe("scale",O),function(){A.unsubscribe("scale",O)}},[]),{scale:H}},u$2=function(A){var $=A.children,H=A.store;return($||function(R){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*R.scale),"%"))})({scale:a$2(H).scale})},l$2={passive:!1},i$2=null,s$2=function(A){var $=A.pagesContainerRef,H=A.store,R=e$2.useDebounceCallback(function(B){var Y=H.get("zoom");Y&&Y(B)},40),O=function(B){if(B.ctrlKey){B.preventDefault();var Y=B.target.getBoundingClientRect(),me=1-B.deltaY/100,ue=B.clientX-Y.left,le=B.clientY-Y.top,U=H.get("scale"),be=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(ue,le).scale(me).translate(-ue,-le).scale(U);R(be.a)}};return e$2.useIsomorphicLayoutEffect(function(){var B=$.current;if(B)return B.addEventListener("wheel",O,l$2),function(){B.removeEventListener("wheel",O)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function(A){return m$2.find(function($){return $>A})||A},v$1=function(A){var $=m$2.findIndex(function(H){return H>=A});return $===-1||$===0?A:m$2[$-1]},p$1=function(A){var $=A.containerRef,H=A.store,R=function(O){if(!O.shiftKey&&!O.altKey&&(e$2.isMac()?O.metaKey:O.ctrlKey)){var B=$.current;if(B&&document.activeElement&&B.contains(document.activeElement)){var Y=H.get("zoom");if(Y){var me=H.get("scale")||1,ue=1;switch(O.key){case"-":ue=v$1(me);break;case"=":ue=f$2(me);break;case"0":ue=1;break;default:ue=me}ue!==me&&(O.preventDefault(),Y(ue))}}}};return n$2.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function(A){var $=A.levels,H=$===void 0?z:$,R=A.scale,O=A.onZoom,B=n$2.useContext(e$2.LocalizationContext).l10n,Y=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,me=B&&B.zoom?B.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(ue){return n$2.createElement(e$2.MinimalButton,{ariaLabel:me,testId:"zoom__popover-target",onClick:function(){ue()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!Y,"rpv-zoom__popover-target-scale--rtl":Y})},Math.round(100*R),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(ue){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(le){var U=le;return n$2.createElement(e$2.MenuItem,{key:U,onClick:function(){ue(),O(U)}},function(be){switch(be){case e$2.SpecialZoomLevel.ActualSize:return B&&B.zoom?B.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return B&&B.zoom?B.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return B&&B.zoom?B.zoom.pageWidth:"Page width"}}(U))}),n$2.createElement(e$2.MenuDivider,null),H.map(function(le){return n$2.createElement(e$2.MenuItem,{key:le,onClick:function(){ue(),O(le)}},"".concat(Math.round(100*le),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function(A){var $=A.children,H=A.levels,R=A.store;return($||function(O){return n$2.createElement(d$2,{levels:H,scale:O.scale,onZoom:O.onZoom})})({scale:a$2(R).scale,onZoom:function(O){var B=R.get("zoom");B&&B(O)}})},C={left:0,top:8},h$1=function(A){var $=A.enableShortcuts,H=A.onClick,R=n$2.useContext(e$2.LocalizationContext).l10n,O=R&&R.zoom?R.zoom.zoomIn:"Zoom in",B=$?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"zoom__in-button",onClick:H},n$2.createElement(o$2,null)),content:function(){return O},offset:C})},b$1=function(A){var $=A.children,H=A.enableShortcuts,R=A.store,O=a$2(R).scale;return($||h$1)({enableShortcuts:H,onClick:function(){var B=R.get("zoom");B&&B(f$2(O))}})},k=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,R=H&&H.zoom?H.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:$},R)},S$1={left:0,top:8},M$1=function(A){var $=A.enableShortcuts,H=A.onClick,R=n$2.useContext(e$2.LocalizationContext).l10n,O=R&&R.zoom?R.zoom.zoomOut:"Zoom out",B=$?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"zoom__out-button",onClick:H},n$2.createElement(r$2,null)),content:function(){return O},offset:S$1})},I$1=function(A){var $=A.children,H=A.enableShortcuts,R=A.store,O=a$2(R).scale;return($||M$1)({enableShortcuts:H,onClick:function(){var B=R.get("zoom");B&&B(v$1(O))}})},Z=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,R=H&&H.zoom?H.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:$},R)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(A){var $=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$2.useMemo(function(){return e$2.createStore({})},[]),R=function(Y){return n$2.createElement(b$1,c$2({enableShortcuts:$.enableShortcuts},Y,{store:H}))},O=function(Y){return n$2.createElement(I$1,c$2({enableShortcuts:$.enableShortcuts},Y,{store:H}))},B=function(Y){return n$2.createElement(g$1,c$2({},Y,{store:H}))};return{renderViewer:function(Y){var me=Y.slot;if(!$.enableShortcuts)return me;var ue={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$1,{containerRef:Y.containerRef,store:H}),n$2.createElement(s$2,{pagesContainerRef:Y.pagesContainerRef,store:H}),me.children)};return c$2(c$2({},me),ue)},install:function(Y){H.update("zoom",Y.zoom)},onViewerStateChange:function(Y){return H.update("scale",Y.scale),Y},zoomTo:function(Y){var me=H.get("zoom");me&&me(Y)},CurrentScale:function(Y){return n$2.createElement(u$2,c$2({},Y,{store:H}))},ZoomIn:R,ZoomInButton:function(){return n$2.createElement(R,null,function(Y){return n$2.createElement(h$1,c$2({},Y))})},ZoomInMenuItem:function(Y){return n$2.createElement(R,null,function(me){return n$2.createElement(k,{onClick:function(){me.onClick(),Y.onClick()}})})},ZoomOut:O,ZoomOutButton:function(){return n$2.createElement(O,null,function(Y){return n$2.createElement(M$1,c$2({},Y))})},ZoomOutMenuItem:function(Y){return n$2.createElement(O,null,function(me){return n$2.createElement(Z,{onClick:function(){me.onClick(),Y.onClick()}})})},Zoom:B,ZoomPopover:function(Y){return n$2.createElement(B,null,function(me){return n$2.createElement(d$2,c$2({levels:Y==null?void 0:Y.levels},me))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=zoom_min;var libExports$2=lib.exports,e$1=libExports$h,t$1=libExports$d,r$1=reactExports,n$1=libExports$c,o$1=libExports$b,a$1=libExports$a,l$1=libExports$9,i$1=libExports$8,c$1=libExports$7,m$1=libExports$6,u$1=libExports$5,s$1=libExports$4,d$1=libExports$3,p=libExports$2;function v(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function(A){var $=A.toolbarSlot,H=_.useContext(e$1.LocalizationContext).l10n,R=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,O=$.DownloadMenuItem,B=$.EnterFullScreenMenuItem,Y=$.GoToFirstPageMenuItem,me=$.GoToLastPageMenuItem,ue=$.GoToNextPageMenuItem,le=$.GoToPreviousPageMenuItem,U=$.OpenMenuItem,be=$.PrintMenuItem,ce=$.RotateBackwardMenuItem,J=$.RotateForwardMenuItem,re=$.ShowPropertiesMenuItem,Q=$.SwitchScrollModeMenuItem,q=$.SwitchSelectionModeMenuItem,ee=$.SwitchViewModeMenuItem,ie=$.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:R,target:function(ve,de){var te=H&&H.toolbar?H.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:R,target:_.createElement(e$1.MinimalButton,{ariaLabel:te,isSelected:de,testId:"toolbar__more-actions-popover-target",onClick:ve},_.createElement(E,null)),content:function(){return te},offset:g})},content:function(ve){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ie,{onClick:ve})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(B,{onClick:ve})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(U,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(be,{onClick:ve})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(O,{onClick:ve})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(Y,{onClick:ve}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(le,{onClick:ve})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ue,{onClick:ve})),_.createElement(me,{onClick:ve}),_.createElement(e$1.MenuDivider,null),_.createElement(J,{onClick:ve}),_.createElement(ce,{onClick:ve}),_.createElement(e$1.MenuDivider,null),_.createElement(q,{mode:t$1.SelectionMode.Text,onClick:ve}),_.createElement(q,{mode:t$1.SelectionMode.Hand,onClick:ve}),_.createElement(e$1.MenuDivider,null),_.createElement(Q,{mode:e$1.ScrollMode.Page,onClick:ve}),_.createElement(Q,{mode:e$1.ScrollMode.Vertical,onClick:ve}),_.createElement(Q,{mode:e$1.ScrollMode.Horizontal,onClick:ve}),_.createElement(Q,{mode:e$1.ScrollMode.Wrapped,onClick:ve}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ee,{mode:e$1.ViewMode.SinglePage,onClick:ve})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ee,{mode:e$1.ViewMode.DualPage,onClick:ve})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ee,{mode:e$1.ViewMode.DualPageWithCover,onClick:ve})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(re,{onClick:ve}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},M.apply(this,arguments)},h=function(A){return function($){var H=_.useMemo(function(){return A($)},[]),R=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,O=H.CurrentPageInput,B=H.Download,Y=H.EnterFullScreen,me=H.GoToNextPage,ue=H.GoToPreviousPage,le=H.NumberOfPages,U=H.Open,be=H.Print,ce=H.ShowSearchPopover,J=H.SwitchTheme,re=H.Zoom,Q=H.ZoomIn,q=H.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":R}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ce,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ue,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(O,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(le,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(me,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(q,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(re,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Q,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(J,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Y,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(U,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(B,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(be,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:H}))))}},f$1=function(A){var $=A.NumberOfPages;return Object.assign({},A,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement($,null))}})},S=function(A){return h(f$1)(A)},I=function(A){var $=A.children,H=A.slot;return($||S)(H)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(A){var $=n$1.fullScreenPlugin(A?A.fullScreenPlugin:{}),H=o$1.getFilePlugin(A?A.getFilePlugin:{}),R=a$1.openPlugin(A?A.openPlugin:{}),O=l$1.pageNavigationPlugin(A?A.pageNavigationPlugin:{}),B=i$1.printPlugin(A?A.printPlugin:{}),Y=c$1.propertiesPlugin(),me=m$1.rotatePlugin(),ue=u$1.scrollModePlugin(),le=s$1.searchPlugin(A?A.searchPlugin:{}),U=t$1.selectionModePlugin(A?A.selectionModePlugin:{}),be=d$1.themePlugin(),ce=p.zoomPlugin(A?A.zoomPlugin:{}),J=[$,H,R,O,B,Y,me,ue,le,U,be,ce],re=_.useCallback(function(Q){var q=$.EnterFullScreen,ee=$.EnterFullScreenMenuItem,ie=H.Download,ve=H.DownloadMenuItem,de=R.Open,te=R.OpenMenuItem,se=O.CurrentPageInput,ne=O.CurrentPageLabel,ae=O.GoToFirstPage,oe=O.GoToFirstPageMenuItem,Ee=O.GoToLastPage,K=O.GoToLastPageMenuItem,ge=O.GoToNextPage,Ce=O.GoToNextPageMenuItem,De=O.GoToPreviousPage,xe=O.GoToPreviousPageMenuItem,Ne=O.NumberOfPages,Fe=B.Print,qe=B.PrintMenuItem,Se=Y.ShowProperties,$e=Y.ShowPropertiesMenuItem,He=me.Rotate,_e=me.RotateBackwardMenuItem,G=me.RotateForwardMenuItem,X=ue.SwitchScrollMode,pe=ue.SwitchScrollModeMenuItem,Pe=ue.SwitchViewMode,Ae=ue.SwitchViewModeMenuItem,ke=le.Search,Oe=le.ShowSearchPopover,Qe=U.SwitchSelectionMode,ot=U.SwitchSelectionModeMenuItem,st=be.SwitchTheme,ut=be.SwitchThemeMenuItem,dt=ce.CurrentScale,mt=ce.Zoom,Ge=ce.ZoomIn,Xe=ce.ZoomInMenuItem,fe=ce.ZoomOut,ye=ce.ZoomOutMenuItem;return _.createElement(I,M({},Q,{slot:{CurrentPageInput:se,CurrentPageLabel:ne,CurrentScale:dt,Download:ie,DownloadMenuItem:ve,EnterFullScreen:q,EnterFullScreenMenuItem:ee,GoToFirstPage:ae,GoToFirstPageMenuItem:oe,GoToLastPage:Ee,GoToLastPageMenuItem:K,GoToNextPage:ge,GoToNextPageMenuItem:Ce,GoToPreviousPage:De,GoToPreviousPageMenuItem:xe,NumberOfPages:Ne,Open:de,OpenMenuItem:te,Print:Fe,PrintMenuItem:qe,Rotate:He,RotateBackwardMenuItem:_e,RotateForwardMenuItem:G,Search:ke,ShowProperties:Se,ShowPropertiesMenuItem:$e,ShowSearchPopover:Oe,SwitchScrollMode:X,SwitchScrollModeMenuItem:pe,SwitchSelectionMode:Qe,SwitchSelectionModeMenuItem:ot,SwitchViewMode:Pe,SwitchViewModeMenuItem:Ae,SwitchTheme:st,SwitchThemeMenuItem:ut,Zoom:mt,ZoomIn:Ge,ZoomInMenuItem:Xe,ZoomOut:fe,ZoomOutMenuItem:ye}}))},[]);return{fullScreenPluginInstance:$,getFilePluginInstance:H,openPluginInstance:R,pageNavigationPluginInstance:O,printPluginInstance:B,propertiesPluginInstance:Y,rotatePluginInstance:me,scrollModePluginInstance:ue,searchPluginInstance:le,selectionModePluginInstance:U,themePluginInstance:be,zoomPluginInstance:ce,install:function(Q){J.forEach(function(q){q.install&&q.install(Q)})},renderPageLayer:function(Q){return _.createElement(_.Fragment,null,J.map(function(q,ee){return q.renderPageLayer?_.createElement(_.Fragment,{key:ee},q.renderPageLayer(Q)):_.createElement(_.Fragment,{key:ee})}))},renderViewer:function(Q){var q=Q.slot;return J.forEach(function(ee){ee.renderViewer&&(q=ee.renderViewer(M(M({},Q),{slot:q})))}),q},uninstall:function(Q){J.forEach(function(q){q.uninstall&&q.uninstall(Q)})},onDocumentLoad:function(Q){J.forEach(function(q){q.onDocumentLoad&&q.onDocumentLoad(Q)})},onAnnotationLayerRender:function(Q){J.forEach(function(q){q.onAnnotationLayerRender&&q.onAnnotationLayerRender(Q)})},onTextLayerRender:function(Q){J.forEach(function(q){q.onTextLayerRender&&q.onTextLayerRender(Q)})},onViewerStateChange:function(Q){var q=Q;return J.forEach(function(ee){ee.onViewerStateChange&&(q=ee.onViewerStateChange(q))}),q},renderDefaultToolbar:h,Toolbar:re}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$c.exports=toolbar_min;var libExports$1=lib$c.exports,e=libExports$h,t=reactExports,n=libExports$g,a=libExports$f,r=libExports$e,o=libExports$1;function l(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function(A){var $=A.attachmentTabContent,H=A.bookmarkTabContent,R=A.store,O=A.thumbnailTabContent,B=A.tabs,Y=u.useRef(),me=u.useContext(e.LocalizationContext).l10n,ue=u.useState(R.get("isCurrentTabOpened")||!1),le=ue[0],U=ue[1],be=u.useState(Math.max(R.get("currentTab")||0,0)),ce=be[0],J=be[1],re=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,Q=[{content:O,icon:u.createElement(d,null),title:me&&me.defaultLayout?me.defaultLayout.thumbnail:"Thumbnail"},{content:H,icon:u.createElement(c,null),title:me&&me.defaultLayout?me.defaultLayout.bookmark:"Bookmark"},{content:$,icon:u.createElement(s,null),title:me&&me.defaultLayout?me.defaultLayout.attachment:"Attachment"}],q=B?B(Q):Q,ee=function(ve){ve>=0&&ve<=q.length-1&&(R.update("isCurrentTabOpened",!0),J(ve))},ie=function(ve){U(ve)};return u.useEffect(function(){return R.subscribe("currentTab",ee),R.subscribe("isCurrentTabOpened",ie),function(){R.unsubscribe("currentTab",ee),R.unsubscribe("isCurrentTabOpened",ie)}},[]),q.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":le,"rpv-default-layout__sidebar--ltr":!re,"rpv-default-layout__sidebar--rtl":re}),ref:Y},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},q.map(function(ve,de){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":ce===de,key:de,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(de),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(de),position:re?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:ve.title,isSelected:ce===de,onClick:function(){return function(te){if(ce===te){R.update("isCurrentTabOpened",!R.get("isCurrentTabOpened"));var se=Y.current;se&&se.style.width&&se.style.removeProperty("width")}else R.update("currentTab",te)}(de)}},ve.icon),content:function(){return ve.title},offset:re?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(ce),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":le,"rpv-default-layout__sidebar-content--ltr":!re,"rpv-default-layout__sidebar-content--rtl":re}),role:"tabpanel",tabIndex:-1},q[ce].content))),le&&u.createElement(e.Splitter,{constrain:function(ve){return ve.firstHalfPercentage>=20&&ve.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(A){var $=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),H=n.attachmentPlugin(),R=a.bookmarkPlugin(),O=r.thumbnailPlugin(A?A.thumbnailPlugin:{}),B=o.toolbarPlugin(A?A.toolbarPlugin:{}),Y=H.Attachments,me=R.Bookmarks,ue=O.Thumbnails,le=B.Toolbar,U=A?A.sidebarTabs:function(ce){return ce},be=[H,R,O,B];return{attachmentPluginInstance:H,bookmarkPluginInstance:R,thumbnailPluginInstance:O,toolbarPluginInstance:B,activateTab:function(ce){$.update("currentTab",ce)},toggleTab:function(ce){var J=$.get("currentTab");$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened")),J!==ce&&$.update("currentTab",ce)},install:function(ce){be.forEach(function(J){J.install&&J.install(ce)})},renderPageLayer:function(ce){return u.createElement(u.Fragment,null,be.map(function(J,re){return J.renderPageLayer?u.createElement(u.Fragment,{key:re},J.renderPageLayer(ce)):u.createElement(u.Fragment,{key:re},u.createElement(u.Fragment,null))}))},renderViewer:function(ce){var J=ce.slot;be.forEach(function(Q){Q.renderViewer&&(J=Q.renderViewer(i(i({},ce),{slot:J})))});var re=J.subSlot&&J.subSlot.attrs?{className:J.subSlot.attrs.className,"data-testid":J.subSlot.attrs["data-testid"],ref:J.subSlot.attrs.ref,style:J.subSlot.attrs.style}:{};return J.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":ce.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(Y,null),bookmarkTabContent:u.createElement(me,null),store:$,thumbnailTabContent:u.createElement(ue,null),tabs:U}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},A&&A.renderToolbar?A.renderToolbar(le):u.createElement(le,null)),u.createElement("div",i({},re),J.subSlot.children))),J.children),J.subSlot.attrs={},J.subSlot.children=u.createElement(u.Fragment,null),J},uninstall:function(ce){be.forEach(function(J){J.uninstall&&J.uninstall(ce)})},onDocumentLoad:function(ce){be.forEach(function(J){J.onDocumentLoad&&J.onDocumentLoad(ce)}),A&&A.setInitialTab&&A.setInitialTab(ce.doc).then(function(J){$.update("currentTab",J),$.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(ce){be.forEach(function(J){J.onAnnotationLayerRender&&J.onAnnotationLayerRender(ce)})},onTextLayerRender:function(ce){be.forEach(function(J){J.onTextLayerRender&&J.onTextLayerRender(ce)})},onViewerStateChange:function(ce){var J=ce;return be.forEach(function(re){re.onViewerStateChange&&(J=re.onViewerStateChange(J))}),J}}},defaultLayout_min.setInitialTabFromPageMode=function(A){return new Promise(function($,H){A.getPageMode().then(function(R){if(R)switch(R){case e.PageMode.Attachments:$(2);break;case e.PageMode.Bookmarks:$(1);break;case e.PageMode.Thumbnails:$(0);break;default:$(-1)}else $(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$g.exports=defaultLayout_min;var libExports=lib$g.exports;const pdfWorker="/assets/pdf.worker.min-DKQKFyKK.js";function PDFViewer({url:A}){const $=libExports.defaultLayoutPlugin();return jsxRuntimeExports.jsx("div",{style:{height:"100%",backgroundColor:"#fff",borderRadius:"8px",overflow:"hidden"},children:jsxRuntimeExports.jsx(libExports$h.Worker,{workerUrl:pdfWorker,children:jsxRuntimeExports.jsx(libExports$h.Viewer,{fileUrl:A,plugins:[$]})})})}function ProjectsSlider({title:A}){const $=[{name:"Abendet",imgUrl:"/abendet.png",route:`${domain}/src/projects/Abendet/index.html`},{name:"Cinemex",imgUrl:"/cinemex.png",route:`${domain}/src/projects/Cinemex/index.html`},{name:"Escolify",imgUrl:"/escolify.png",route:`${domain}/src/projects/Escolify/index.html`},{name:"VirtudMusical",imgUrl:"/virtudmusical.png",route:`${domain}/src/projects/VirtudMusical/index.html`},{name:"Youtube",imgUrl:"/youtube.png",route:`${domain}/src/projects/Youtube/index.html`}];return jsxRuntimeExports.jsx("div",{className:"projects-slider",children:$.filter(H=>H.name!==A).map(H=>jsxRuntimeExports.jsxs("div",{className:"project-thumb",onClick:()=>window.location.href=H.route,children:[jsxRuntimeExports.jsx("img",{src:H.imgUrl,alt:H.name}),jsxRuntimeExports.jsx("span",{children:H.name})]},H.name))})}export{PDFViewer as P,ProjectsSlider as a};
